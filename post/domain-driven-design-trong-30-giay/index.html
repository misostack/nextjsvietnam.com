<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<link rel=home href=https://nextjsvietnam.com>
<meta name=generator content="jsguru cms">
<link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap">
<link rel=stylesheet href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel=stylesheet href=https://nextjsvietnam.com/themes/2022/public/main.css>
<link rel=stylesheet href=https://nextjsvietnam.com/themes/2022/public/home.css>
<link rel=stylesheet href=https://nextjsvietnam.com/themes/2022/public/page.css>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RWE4MLJYE6"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-RWE4MLJYE6')</script>
<title>Domain Driven Design trong 30 giây | Cùng tìm hiểu Domain Driven Design trong 30 giây | Useful NodeJS Tricks, JavaScript Tips, Tricks and Best Practices</title>
<meta name=robots content="all">
<meta name=keywords content="Domain Driven Design in 30 Seconds">
<meta name=description content="Cùng tìm hiểu Domain Driven Design trong 30 giây">
<meta property="og:type" content="website">
<meta property="og:image" content="https://nextjsvietnam.com/common/no-image.png">
<meta property="og:image:type" content="image/jpeg">
<meta property="og:image:width" content="750">
<meta property="og:image:height" content="300">
<meta property="article:publisher" content="https://www.facebook.com/nextjsvietnam">
<meta property="article:published_time" content="2023-06-12T13:47:24+07:00">
<meta property="article:modified_time" content="2023-06-12T13:47:24+07:00">
<link rel=apple-touch-icon sizes=57x57 href=/apple-icon-57x57.png>
<link rel=apple-touch-icon sizes=60x60 href=/apple-icon-60x60.png>
<link rel=apple-touch-icon sizes=72x72 href=/apple-icon-72x72.png>
<link rel=apple-touch-icon sizes=76x76 href=/apple-icon-76x76.png>
<link rel=apple-touch-icon sizes=114x114 href=/apple-icon-114x114.png>
<link rel=apple-touch-icon sizes=120x120 href=/apple-icon-120x120.png>
<link rel=apple-touch-icon sizes=144x144 href=/apple-icon-144x144.png>
<link rel=apple-touch-icon sizes=152x152 href=/apple-icon-152x152.png>
<link rel=apple-touch-icon sizes=180x180 href=/apple-icon-180x180.png>
<link rel=icon type=image/png sizes=192x192 href=/android-icon-192x192.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=96x96 href=/favicon-96x96.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/manifest.json>
<meta name=msapplication-TileColor content="#ffffff">
<meta name=msapplication-TileImage content="/ms-icon-144x144.png">
<meta name=theme-color content="#ffffff">
</head>
<body class=body-nav-fixed>
<nav class="nav-fixed nav-default z-50">
<div class=container>
<div class="nav-container flex flex-wrap justify-between items-center">
<a href=https://nextjsvietnam.com class="nav-brand inline-block">
<img class=h-12 src=https://nextjsvietnam.com/themes/2022/src/assets/images/logo.png alt=Stunning>
</a>
<a href=javascript:void(0); data-menu=#menu-main_menu class=nav-menu-toggle><span class=material-icons>menu</span></a>
<ul id=menu-main_menu class="nav-menu h-0 md:h-auto">
<form class="nav-menu-search-bar md:hidden relative">
<button class="nav-menu-search-bar-search-btn absolute h-full"><svg class="w-3 h-3 text-gray-600" fill="currentcolor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.32 14.9l5.39 5.4a1 1 0 01-1.42 1.4l-5.38-5.38a8 8 0 111.41-1.41zM10 16a6 6 0 100-12 6 6 0 000 12z"/></svg>
</button>
<input name=s type=text class=w-full>
</form>
<li class=nav-menu-item>
<a class=nav-menu-link href=https://nextjsvietnam.com/categories/cheatsheet>Cheatsheet
</a>
</li>
<li class=nav-menu-item>
<a class=nav-menu-link href=https://nextjsvietnam.com/categories/frameworks>Frameworks
<span class=material-icons>keyboard_arrow_down</span>
</a>
<ul class=sub-menu>
<li class=nav-menu-item><a class=nav-menu-link href=https://nextjsvietnam.com/categories/nestjs>NestJS</a></li>
<li class=nav-menu-item><a class=nav-menu-link href=https://nextjsvietnam.com/categories/reactjs>ReactJS</a></li>
<li class=nav-menu-item><a class=nav-menu-link href=https://nextjsvietnam.com/categories/nextjs>NextJS</a></li>
</ul>
</li>
<li class=nav-menu-item>
<a class=nav-menu-link href=https://nextjsvietnam.com>Tutorials
<span class=material-icons>keyboard_arrow_down</span>
</a>
<ul class=sub-menu>
<li class=nav-menu-item><a class=nav-menu-link href=https://nextjsvietnam.com/categories/nestjs-tutorial>NestJS Tutorial</a></li>
<li class=nav-menu-item><a class=nav-menu-link href=https://nextjsvietnam.com/categories/reactjs-tutorial>ReactJS Tutorial</a></li>
<li class=nav-menu-item><a class=nav-menu-link href=https://nextjsvietnam.com/categories/nextjs-tutorial>NextJS Tutorial</a></li>
</ul>
</li>
<li class=nav-menu-item>
<a class=nav-menu-link href=https://nextjsvietnam.com>Tools
<span class=material-icons>keyboard_arrow_down</span>
</a>
<ul class=sub-menu>
<li class=nav-menu-item><a class=nav-menu-link href=https://regex101.com/>Online Regex</a></li>
<li class=nav-menu-item><a class=nav-menu-link href=http://www.bashoneliners.com/>Bash Online</a></li>
<li class=nav-menu-item><a class=nav-menu-link href=https://www.epochconverter.com/>Unix Timestamp Conversion</a></li>
<li class=nav-menu-item><a class=nav-menu-link href=https://ryanstutorials.net/bash-scripting-tutorial/>Bash Scripting</a></li>
<li class=nav-menu-item><a class=nav-menu-link href=https://explainshell.com/>Explain Shell</a></li>
</ul>
</li>
<form class="nav-menu-search-bar hidden md:flex relative">
<button class="nav-menu-search-bar-search-btn absolute h-full"><svg class="w-3 h-3 text-gray-600" fill="currentcolor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.32 14.9l5.39 5.4a1 1 0 01-1.42 1.4l-5.38-5.38a8 8 0 111.41-1.41zM10 16a6 6 0 100-12 6 6 0 000 12z"/></svg>
</button>
<input name=s type=text class=w-full>
</form>
</ul>
</div>
</div>
</nav>
<main>
<section class="container section">
<div class="page-content max-w-2xl mx-auto">
<img src=https://nextjsvietnam.com/common/no-image.png class=img-responsive alt="Domain Driven Design trong 30 giây">
<h1>Domain Driven Design trong 30 giây</h1>
<p><strong>Post Date</strong> : 2023-06-12T13:47:24+07:00</p>
<p><strong>Modified Date</strong> : 2023-06-12T13:47:24+07:00</p>
<p>
<strong>Category:</strong>
<a class="m-1 p-1 text-xs font-bold leading-none border border-gray-200 bg-white" href=https://nextjsvietnam.com/categories/systemdesign>systemdesign</a>
</p>
<p>
<strong>Tags:</strong>
<a class="m-1 p-1 text-xs font-bold leading-none border border-gray-200 bg-white" href=/tags/strategic-design>strategic design</a>
</p>
<p>Trong một mô hình thiết kế phần mềm truyền thống, khi chúng ta nhận 1 dự án, việc đầu tiên là phân tích các nghiệp vụ từ yêu cầu phần mềm, thu thập dữ liệu, và bắt đầu bằng việc thiết kế cơ sở dữ liệu, sau đó mới phân tách thành các chức năng cho các thành viên trong dự án để làm việc.</p>
<p>Đôi khi chúng ta sẽ nhận thấy rằng, trong mã nguồn, phần logic nghiệp vụ, đôi khi xen kẽ chung với cả phần giao diện người dùng hay thậm chí có cả kết nối database trong đó.</p>
<p>Một ví dụ điển hình của việc xây dựng hệ thống theo kiến trúc cổ xưa</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>express</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#34;express&#34;</span>);
<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>User</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>require</span>(<span style=color:#e6db74>&#34;models/user&#34;</span>);
<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>router</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>express</span>.<span style=color:#a6e22e>Router</span>();

<span style=color:#a6e22e>router</span>.<span style=color:#a6e22e>post</span>(<span style=color:#e6db74>&#34;/auth/login&#34;</span>, <span style=color:#a6e22e>auth</span>, <span style=color:#a6e22e>rbac</span>, <span style=color:#66d9ef>async</span> (<span style=color:#a6e22e>req</span>, <span style=color:#a6e22e>res</span>) =&gt; {
  <span style=color:#66d9ef>try</span> {
    <span style=color:#66d9ef>const</span> { <span style=color:#a6e22e>email</span>, <span style=color:#a6e22e>password</span> } <span style=color:#f92672>=</span> <span style=color:#a6e22e>req</span>.<span style=color:#a6e22e>body</span>;
    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>email</span> <span style=color:#f92672>||</span> <span style=color:#f92672>!</span><span style=color:#a6e22e>password</span>) {
      <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>status</span>(<span style=color:#ae81ff>400</span>).<span style=color:#a6e22e>send</span>({ <span style=color:#a6e22e>message</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;FIELD_MISSING&#34;</span> });
    }
    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>User</span>.<span style=color:#a6e22e>findByCredentials</span>(<span style=color:#a6e22e>email</span>, <span style=color:#a6e22e>password</span>);
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>token</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>await</span> <span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>generateAuthToken</span>();
    <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>render</span>(<span style=color:#ae81ff>200</span>).<span style=color:#a6e22e>send</span>({ <span style=color:#a6e22e>user</span>, <span style=color:#a6e22e>token</span> });
  } <span style=color:#66d9ef>catch</span> (<span style=color:#a6e22e>e</span>) {
    <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>status</span>(<span style=color:#ae81ff>500</span>).<span style=color:#a6e22e>send</span>({ <span style=color:#a6e22e>message</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>message</span> });
  }
});
</code></pre></div><p>Trong ví dụ trên, có thể thấy, tại tầng điều khiển (Controller), Model được gọi trực tiếp, còn phần logic nghiệp vụ (Business) được nhúng thẳng vào trong Model.</p>
<p>Vậy làm như thế này, đúng hay sai. Kết quả là chúng ta vẫn có phần mềm chạy đúng, kịp thời hạn giao sản phẩm. Tuy nhiên về mặt mở rộng và bảo trì, thực sự là một dấu hỏi lớn.</p>
<p>Chính vì lẽ đó, mà Domain Driven Design xuất hiện.</p>
<h2 id=domain-driven-design-ddd>Domain Driven Design (DDD)</h2>
<p>Domain driven design là một phương pháp các quy tắc thiết kế phần mềm, tiếp cận theo hướng mô hình hóa các business domain (lĩnh vực nghiệp vụ) đến từ các chuyên gia trong lĩnh vực.</p>
<p>Để dễ hình dung, khi chúng ta xây dựng một phần mềm quản lí bệnh viện, rõ ràng để làm tốt phần mềm này chúng ta phải hiểu về các nghiệp vụ trong bệnh viện. Và đương nhiên lúc này cần sự kết hợp giúp đỡ của những chuyên gia trong ngành này (bác sĩ, dược sĩ, y tá, quản lí bệnh viện). Mục tiêu cho ra được yêu cầu phần mềm, các chi tiết trong từng nghiệp vụ cụ thể.</p>
<p>Do vậy cần 1 ngôn ngữ chung để trao đổi giữa kĩ sư phát triển phần mềm và chuyên gia - Ubiquitous language:</p>
<ul>
<li>Ngôn ngữ được sử dụng trong cả kĩ thuật lẫn nghiệp vụ</li>
<li>Được phản ánh trong code</li>
<li>Được phản ánh trong tất cả các tính năng của hệ thống</li>
</ul>
<p>Với DDD, ý tưởng chính là phân chia hệ thống phức tạp dựa trên các domain của nó. Tuy nhiên, đôi khi một số domain lại chồng chéo lên nhau và đối với những đối tượng khác nhau thì domain tương ứng cũng khác. Ví dụ như việc xuất hóa đơn, đối với từng đối tượng nghiệp vụ xuất hóa đơn thì lại có cách xử lí khác nhau. Do đó cần phải bóc tách 1 domain lớn thành các subdomain nhỏ hơn độc lập và không phụ thuộc lẫn nhau(bằng cách chúng ta sẽ tạo ra 1 lớp trung gian - Anti-Corruption Layer).
Và việc bóc tách này cần phải thiết lập mới giới hạn cụ thể (bounded context).</p>
<ul>
<li>Các domain phải độc lập</li>
<li>Được kết nối với nhau thông qua Anti-Corruption Layer</li>
<li>Độc lập về database</li>
<li>Phù hợp để áp dụng cho microservice</li>
</ul>
<h2 id=những-thành-phần-cơ-bản>Những thành phần cơ bản</h2>
<h3 id=1-entity>1. Entity</h3>
<ul>
<li>Các thực thể cần được mô hình hóa trong hệ thống phần mềm. Ví dụ như trong phần mềm quản lí nội dung (CMS), sẽ bao gồm các thực thể như sau: User, Page, Post, Comment</li>
<li>Chứa lifecycle: creation và deletion</li>
<li>Nên chứa các logic của riêng nó thay vì thiết kế theo anemic model</li>
</ul>
<p><img src=https://user-images.githubusercontent.com/31009750/245348213-835e3ef3-8063-4ddf-b0e8-9588b3a5cbc3.png alt=image></p>
<p><strong>Domain Model</strong>:</p>
<ul>
<li>Một đối tượng được mô hình hóa trong Domain Model bao gồm cả hành vi và dữ liệu của nó.</li>
<li>Các đối tượng được thiết kế để làm việc với các logic từ phức tạp đến đơn giản.</li>
<li>Công việc của Domain Model là tạo ra 1 mạng lưới liên kết các Object này cùng làm việc với nhau, trong đó mỗi Object đều đại diện cho 1 cá thể mang ý nghĩa riêng biệt.</li>
</ul>
<p><strong>Anemic model</strong>:</p>
<ul>
<li>Một đối tượng (object) được mô hình hóa với các thuộc tính của nó</li>
<li>Tuy nhiên ngoài các phương thức getter/setter, chúng ko hoặc ít có các phương thức mô tả hành vi của object.</li>
<li>Theo nguyên lí thiết kế này, không được đặt bất cứ domain logic nào vào domain object.</li>
<li>Có 1 tập hợp các service sẽ phản ánh các logic này, thực hiện việc tính toán, cập nhật các object model với kết quả tương ứng.</li>
<li>Các service này tồn tại dựa trên các domain model và sử dụng chúng làm dữ liệu.</li>
</ul>
<h4 id=example-of-anti-pattern-anemic-model>Example of anti-pattern Anemic model</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>v4</span> <span style=color:#66d9ef>as</span> <span style=color:#a6e22e>uuid</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;uuid&#39;</span>;

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>User</span> {
  <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>readonly</span> <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>;
  <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>;
  <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>email</span>: <span style=color:#66d9ef>string</span>;
  <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>password</span>: <span style=color:#66d9ef>string</span>;
  <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>createdAt</span>: <span style=color:#66d9ef>Date</span>;
  <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>updatedAt</span>: <span style=color:#66d9ef>Date</span>;

  <span style=color:#66d9ef>constructor</span>(<span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>email</span>: <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>password</span>: <span style=color:#66d9ef>string</span>) {
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>id</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>uuid</span>();
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>name</span>;
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>email</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>email</span>;
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>password</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>password</span>;
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>createdAt</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Date();
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>updatedAt</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Date();
  }

  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>getId</span>()<span style=color:#f92672>:</span> <span style=color:#66d9ef>string</span> {
    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>id</span>;
  }

  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>getName</span>()<span style=color:#f92672>:</span> <span style=color:#66d9ef>string</span> {
    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span>;
  }

  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>setName</span>(<span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>name</span>;
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>updatedAt</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Date();
  }

  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>getEmail</span>()<span style=color:#f92672>:</span> <span style=color:#66d9ef>string</span> {
    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>email</span>;
  }

  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>setEmail</span>(<span style=color:#a6e22e>email</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>email</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>email</span>;
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>updatedAt</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Date();
  }

  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>getPassword</span>()<span style=color:#f92672>:</span> <span style=color:#66d9ef>string</span> {
    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>password</span>;
  }

  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>setPassword</span>(<span style=color:#a6e22e>password</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>password</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>password</span>;
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>updatedAt</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Date();
  }

  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>getCreatedAt</span>()<span style=color:#f92672>:</span> Date {
    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>createdAt</span>;
  }

  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>getUpdatedAt</span>()<span style=color:#f92672>:</span> Date {
    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>updatedAt</span>;
  }

}

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>User</span>;

<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>UserRepository</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;../repositories/UserRepository&#39;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>EmailService</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#39;../services/EmailService&#39;</span>;

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>UserService</span> {
  <span style=color:#66d9ef>constructor</span>(
    <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>userRepository</span>: <span style=color:#66d9ef>UserRepository</span>,
    <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>emailService</span>: <span style=color:#66d9ef>EmailService</span>
  ) {}

  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>createUser</span>(<span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>email</span>: <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>password</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>User</span> {
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>User</span>(<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>email</span>, <span style=color:#a6e22e>password</span>);
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>userRepository</span>.<span style=color:#a6e22e>save</span>(<span style=color:#a6e22e>user</span>);

    <span style=color:#75715e>// Send email verification
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>sendEmailVerification</span>(<span style=color:#a6e22e>user</span>);
    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>user</span>;
  }

  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>sendEmailVerification</span>(<span style=color:#a6e22e>user</span>:<span style=color:#66d9ef>User</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
    <span style=color:#75715e>// Add email verification logic here...
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>emailService</span>.<span style=color:#a6e22e>sendEmailVerification</span>(<span style=color:#a6e22e>user</span>);
  }

  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>promoteToAdmin</span>(<span style=color:#a6e22e>user</span>:<span style=color:#66d9ef>User</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
    <span style=color:#75715e>// Add logic to promote user to admin role...
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>name</span><span style=color:#e6db74>}</span><span style=color:#e6db74> promoted to admin`</span>);
  }

  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>deactivateAccount</span>(<span style=color:#a6e22e>user</span>:<span style=color:#66d9ef>User</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
    <span style=color:#75715e>// Add logic to deactivate user account...
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Account deactivated for </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>name</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
  }

  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>updateUser</span>(<span style=color:#a6e22e>userId</span>: <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>email</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>User</span> {
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>userRepository</span>.<span style=color:#a6e22e>findById</span>(<span style=color:#a6e22e>userId</span>);
    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>user</span>) {
      <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> Error(<span style=color:#e6db74>&#39;User not found&#39;</span>);
    }

    <span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>updateProfile</span>(<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>email</span>);
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>userRepository</span>.<span style=color:#a6e22e>save</span>(<span style=color:#a6e22e>user</span>);

    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>user</span>;
  }

  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>deleteUser</span>(<span style=color:#a6e22e>userId</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>userRepository</span>.<span style=color:#a6e22e>findById</span>(<span style=color:#a6e22e>userId</span>);
    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>user</span>) {
      <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> Error(<span style=color:#e6db74>&#39;User not found&#39;</span>);
    }

    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>deactivateAccount</span>();
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>userRepository</span>.<span style=color:#66d9ef>delete</span>(<span style=color:#a6e22e>user</span>);
  }
</code></pre></div><h4 id=domain-model>Domain Model</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#75715e>// User.ts
</span><span style=color:#75715e></span>
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>v4</span> <span style=color:#66d9ef>as</span> <span style=color:#a6e22e>uuid</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;uuid&#34;</span>;

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>User</span> {
  <span style=color:#75715e>// ...
</span><span style=color:#75715e></span>
  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>changePassword</span>(<span style=color:#a6e22e>newPassword</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
    <span style=color:#75715e>// Add password validation logic here...
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>password</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>newPassword</span>;
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>updatedAt</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> Date();
  }

  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>promoteToAdmin</span>()<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
    <span style=color:#75715e>// Add logic to promote user to admin role...
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span><span style=color:#e6db74>}</span><span style=color:#e6db74> promoted to admin`</span>);
  }

  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>deactivateAccount</span>()<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
    <span style=color:#75715e>// Add logic to deactivate user account...
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Account deactivated for </span><span style=color:#e6db74>${</span><span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
  }

  <span style=color:#75715e>// ...
</span><span style=color:#75715e></span>}

<span style=color:#75715e>// EmailService.ts
</span><span style=color:#75715e></span>
<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>EmailService</span> {
  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>sendEmailVerification</span>(<span style=color:#a6e22e>email</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
    <span style=color:#75715e>// Implement the email sending logic here...
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Email verification sent to </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>email</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
  }
}

<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>UserRepository</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;../repositories/UserRepository&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>EmailService</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;../services/EmailService&#34;</span>;

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>UserService</span> {
  <span style=color:#66d9ef>constructor</span>(
    <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>userRepository</span>: <span style=color:#66d9ef>UserRepository</span>,
    <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>emailService</span>: <span style=color:#66d9ef>EmailService</span>
  ) {}

  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>createUser</span>(<span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>email</span>: <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>password</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>User</span> {
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>User</span>(<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>email</span>, <span style=color:#a6e22e>password</span>);
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>userRepository</span>.<span style=color:#a6e22e>save</span>(<span style=color:#a6e22e>user</span>);

    <span style=color:#75715e>// Send email verification
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>emailService</span>.<span style=color:#a6e22e>sendEmailVerification</span>(<span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>email</span>);

    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>user</span>;
  }

  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>updateUser</span>(<span style=color:#a6e22e>userId</span>: <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>email</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#a6e22e>User</span> {
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>userRepository</span>.<span style=color:#a6e22e>findById</span>(<span style=color:#a6e22e>userId</span>);
    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>user</span>) {
      <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> Error(<span style=color:#e6db74>&#34;User not found&#34;</span>);
    }

    <span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>updateProfile</span>(<span style=color:#a6e22e>name</span>, <span style=color:#a6e22e>email</span>);
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>userRepository</span>.<span style=color:#a6e22e>save</span>(<span style=color:#a6e22e>user</span>);

    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>user</span>;
  }

  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>deleteUser</span>(<span style=color:#a6e22e>userId</span>: <span style=color:#66d9ef>string</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>user</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>userRepository</span>.<span style=color:#a6e22e>findById</span>(<span style=color:#a6e22e>userId</span>);
    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>user</span>) {
      <span style=color:#66d9ef>throw</span> <span style=color:#66d9ef>new</span> Error(<span style=color:#e6db74>&#34;User not found&#34;</span>);
    }

    <span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>deactivateAccount</span>();
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>userRepository</span>.<span style=color:#66d9ef>delete</span>(<span style=color:#a6e22e>user</span>);
  }
}
</code></pre></div><h3 id=2-value-objects-vos>2. Value Objects (VOs)</h3>
<ul>
<li>Một đối tượng tự định nghĩa mà trong nó không tồn tại một ID cụ thể. Ví dụ: 1 user có Address bao gồm: street, streetNumber, postcode và city. Khi giá trị này thay đổi ta sẽ có 1 value object mới.</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Address</span> {
  <span style=color:#a6e22e>street</span>: <span style=color:#66d9ef>String</span>,
  <span style=color:#a6e22e>streetNumber</span>: <span style=color:#66d9ef>String</span>;
  <span style=color:#a6e22e>postCode</span>: <span style=color:#66d9ef>Number</span>;
  <span style=color:#a6e22e>city</span>: <span style=color:#66d9ef>String</span>;
}
</code></pre></div><ul>
<li>VO phải là giá trị bất biến(immutable), do đó khi 1 trong khác thuộc tính của nó thay đổi đồng nghĩa với việc ta cần tạo ra 1 object mới</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>newAddress</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Address</span>(<span style=color:#e6db74>&#34;Tràng Tiền&#34;</span>, <span style=color:#e6db74>&#34;1&#34;</span>, <span style=color:#ae81ff>70000</span>, <span style=color:#e6db74>&#34;Hà Nội&#34;</span>);
</code></pre></div><ul>
<li>Được sử dụng để tối ưu performance, không tồn tại trong 1 bảng dữ liệu của riêng nó mà thường là 1 phần của các entity.</li>
</ul>
<p>Ví dụ: Thay vì</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Entity</span>, <span style=color:#a6e22e>PrimaryGeneratedColumn</span>, <span style=color:#a6e22e>Column</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;typeorm&#34;</span>;

<span style=color:#66d9ef>@Entity</span>()
<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Student</span> {
  <span style=color:#66d9ef>@PrimaryGeneratedColumn</span>()
  <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>;

  <span style=color:#66d9ef>@Column</span>()
  <span style=color:#a6e22e>firstName</span>: <span style=color:#66d9ef>string</span>;

  <span style=color:#66d9ef>@Column</span>()
  <span style=color:#a6e22e>lastName</span>: <span style=color:#66d9ef>string</span>;

  <span style=color:#66d9ef>@Column</span>()
  <span style=color:#a6e22e>faculty</span>: <span style=color:#66d9ef>string</span>;
}
</code></pre></div><p>Ta sẽ có</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Column</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;typeorm&#34;</span>;

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Name</span> {
  <span style=color:#66d9ef>@Column</span>()
  <span style=color:#a6e22e>first</span>: <span style=color:#66d9ef>string</span>;

  <span style=color:#66d9ef>@Column</span>()
  <span style=color:#a6e22e>last</span>: <span style=color:#66d9ef>string</span>;
}

<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Entity</span>, <span style=color:#a6e22e>PrimaryGeneratedColumn</span>, <span style=color:#a6e22e>Column</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;typeorm&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Name</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;./Name&#34;</span>;

<span style=color:#66d9ef>@Entity</span>()
<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>User</span> {
  <span style=color:#66d9ef>@PrimaryGeneratedColumn</span>()
  <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>;

  <span style=color:#66d9ef>@Column</span>(() <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>Name</span>)
  <span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>Name</span>;

  <span style=color:#66d9ef>@Column</span>()
  <span style=color:#a6e22e>isActive</span>: <span style=color:#66d9ef>boolean</span>;
}

<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Entity</span>, <span style=color:#a6e22e>PrimaryGeneratedColumn</span>, <span style=color:#a6e22e>Column</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;typeorm&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Name</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;./Name&#34;</span>;

<span style=color:#66d9ef>@Entity</span>()
<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Employee</span> {
  <span style=color:#66d9ef>@PrimaryGeneratedColumn</span>()
  <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>;

  <span style=color:#66d9ef>@Column</span>(() <span style=color:#f92672>=&gt;</span> <span style=color:#a6e22e>Name</span>)
  <span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>Name</span>;

  <span style=color:#66d9ef>@Column</span>()
  <span style=color:#a6e22e>salary</span>: <span style=color:#66d9ef>number</span>;
}
</code></pre></div><p>Cấu trúc db</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#f92672>+-------------+--------------+----------------------------+</span>
<span style=color:#f92672>|</span>                          <span style=color:#a6e22e>user</span>                           <span style=color:#f92672>|</span>
<span style=color:#f92672>+-------------+--------------+----------------------------+</span>
<span style=color:#f92672>|</span> <span style=color:#a6e22e>id</span>          <span style=color:#f92672>|</span> <span style=color:#a6e22e>int</span>(<span style=color:#ae81ff>11</span>)      <span style=color:#f92672>|</span> <span style=color:#a6e22e>PRIMARY</span> <span style=color:#a6e22e>KEY</span> <span style=color:#a6e22e>AUTO_INCREMENT</span> <span style=color:#f92672>|</span>
<span style=color:#f92672>|</span> <span style=color:#a6e22e>nameFirst</span>   <span style=color:#f92672>|</span> <span style=color:#a6e22e>varchar</span>(<span style=color:#ae81ff>255</span>) <span style=color:#f92672>|</span>                            <span style=color:#f92672>|</span>
<span style=color:#f92672>|</span> <span style=color:#a6e22e>nameLast</span>    <span style=color:#f92672>|</span> <span style=color:#a6e22e>varchar</span>(<span style=color:#ae81ff>255</span>) <span style=color:#f92672>|</span>                            <span style=color:#f92672>|</span>
<span style=color:#f92672>|</span> <span style=color:#a6e22e>isActive</span>    <span style=color:#f92672>|</span> <span style=color:#66d9ef>boolean</span>      <span style=color:#f92672>|</span>                            <span style=color:#f92672>|</span>
<span style=color:#f92672>+-------------+--------------+----------------------------+</span>

<span style=color:#f92672>+-------------+--------------+----------------------------+</span>
<span style=color:#f92672>|</span>                        <span style=color:#a6e22e>employee</span>                         <span style=color:#f92672>|</span>
<span style=color:#f92672>+-------------+--------------+----------------------------+</span>
<span style=color:#f92672>|</span> <span style=color:#a6e22e>id</span>          <span style=color:#f92672>|</span> <span style=color:#a6e22e>int</span>(<span style=color:#ae81ff>11</span>)      <span style=color:#f92672>|</span> <span style=color:#a6e22e>PRIMARY</span> <span style=color:#a6e22e>KEY</span> <span style=color:#a6e22e>AUTO_INCREMENT</span> <span style=color:#f92672>|</span>
<span style=color:#f92672>|</span> <span style=color:#a6e22e>nameFirst</span>   <span style=color:#f92672>|</span> <span style=color:#a6e22e>varchar</span>(<span style=color:#ae81ff>255</span>) <span style=color:#f92672>|</span>                            <span style=color:#f92672>|</span>
<span style=color:#f92672>|</span> <span style=color:#a6e22e>nameLast</span>    <span style=color:#f92672>|</span> <span style=color:#a6e22e>varchar</span>(<span style=color:#ae81ff>255</span>) <span style=color:#f92672>|</span>                            <span style=color:#f92672>|</span>
<span style=color:#f92672>|</span> <span style=color:#a6e22e>salary</span>      <span style=color:#f92672>|</span> <span style=color:#a6e22e>int</span>(<span style=color:#ae81ff>11</span>)      <span style=color:#f92672>|</span>                            <span style=color:#f92672>|</span>
<span style=color:#f92672>+-------------+--------------+----------------------------+</span>

<span style=color:#f92672>+-------------+--------------+----------------------------+</span>
<span style=color:#f92672>|</span>                         <span style=color:#a6e22e>student</span>                         <span style=color:#f92672>|</span>
<span style=color:#f92672>+-------------+--------------+----------------------------+</span>
<span style=color:#f92672>|</span> <span style=color:#a6e22e>id</span>          <span style=color:#f92672>|</span> <span style=color:#a6e22e>int</span>(<span style=color:#ae81ff>11</span>)      <span style=color:#f92672>|</span> <span style=color:#a6e22e>PRIMARY</span> <span style=color:#a6e22e>KEY</span> <span style=color:#a6e22e>AUTO_INCREMENT</span> <span style=color:#f92672>|</span>
<span style=color:#f92672>|</span> <span style=color:#a6e22e>nameFirst</span>   <span style=color:#f92672>|</span> <span style=color:#a6e22e>varchar</span>(<span style=color:#ae81ff>255</span>) <span style=color:#f92672>|</span>                            <span style=color:#f92672>|</span>
<span style=color:#f92672>|</span> <span style=color:#a6e22e>nameLast</span>    <span style=color:#f92672>|</span> <span style=color:#a6e22e>varchar</span>(<span style=color:#ae81ff>255</span>) <span style=color:#f92672>|</span>                            <span style=color:#f92672>|</span>
<span style=color:#f92672>|</span> <span style=color:#a6e22e>faculty</span>     <span style=color:#f92672>|</span> <span style=color:#a6e22e>varchar</span>(<span style=color:#ae81ff>255</span>) <span style=color:#f92672>|</span>                            <span style=color:#f92672>|</span>
<span style=color:#f92672>+-------------+--------------+----------------------------+</span>
</code></pre></div><h2 id=sample-code-structure>Sample code structure</h2>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-css data-lang=css><span style=color:#f92672>src</span>
<span style=color:#960050;background-color:#1e0010>├──</span> <span style=color:#f92672>modules</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>├──</span> <span style=color:#f92672>users</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>├──</span> <span style=color:#f92672>domain</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>├──</span> <span style=color:#f92672>models</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>├──</span> <span style=color:#f92672>User</span>.<span style=color:#a6e22e>ts</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>├──</span> <span style=color:#f92672>repositories</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>└──</span> <span style=color:#f92672>UserRepository</span>.<span style=color:#a6e22e>ts</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>├──</span> <span style=color:#f92672>services</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>└──</span> <span style=color:#f92672>UserService</span>.<span style=color:#a6e22e>ts</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>└──</span> <span style=color:#f92672>value-objects</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>       <span style=color:#960050;background-color:#1e0010>└──</span> <span style=color:#f92672>Address</span>.<span style=color:#a6e22e>ts</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>├──</span> <span style=color:#f92672>infrastructure</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>├──</span> <span style=color:#f92672>database</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>└──</span> <span style=color:#f92672>UserRepositoryImpl</span>.<span style=color:#a6e22e>ts</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>└──</span> <span style=color:#f92672>job-queue</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>       <span style=color:#960050;background-color:#1e0010>├──</span> <span style=color:#f92672>JobQueueService</span>.<span style=color:#a6e22e>ts</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>       <span style=color:#960050;background-color:#1e0010>└──</span> <span style=color:#f92672>JobHandlers</span>.<span style=color:#a6e22e>ts</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>└──</span> <span style=color:#f92672>application</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>       <span style=color:#960050;background-color:#1e0010>├──</span> <span style=color:#f92672>dtos</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>       <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>├──</span> <span style=color:#f92672>CreateUserDto</span>.<span style=color:#a6e22e>ts</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>       <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>└──</span> <span style=color:#f92672>UpdateUserDto</span>.<span style=color:#a6e22e>ts</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>       <span style=color:#960050;background-color:#1e0010>├──</span> <span style=color:#f92672>interfaces</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>       <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>└──</span> <span style=color:#f92672>IUserService</span>.<span style=color:#a6e22e>ts</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>       <span style=color:#960050;background-color:#1e0010>└──</span> <span style=color:#f92672>UserAppService</span>.<span style=color:#a6e22e>ts</span>
<span style=color:#960050;background-color:#1e0010>├──</span> <span style=color:#f92672>shared</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>├──</span> <span style=color:#f92672>job-queue</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>└──</span> <span style=color:#f92672>IJobQueueService</span>.<span style=color:#a6e22e>ts</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>└──</span> <span style=color:#f92672>logger</span>
<span style=color:#960050;background-color:#1e0010>│</span>       <span style=color:#960050;background-color:#1e0010>└──</span> <span style=color:#f92672>Logger</span>.<span style=color:#a6e22e>ts</span>
<span style=color:#960050;background-color:#1e0010>├──</span> <span style=color:#f92672>config</span>
<span style=color:#960050;background-color:#1e0010>│</span>   <span style=color:#960050;background-color:#1e0010>└──</span> <span style=color:#f92672>database</span>.<span style=color:#a6e22e>ts</span>
<span style=color:#960050;background-color:#1e0010>└──</span> <span style=color:#f92672>index</span>.<span style=color:#a6e22e>ts</span>

</code></pre></div><h3 id=3-bounded-context-and-aggregates>3. Bounded Context and Aggregates</h3>
<h4 id=31-bounded-context>3.1. Bounded Context</h4>
<ul>
<li>Một domain cụ thể luôn có 1 giới hạn nhất định, giới hạn ở đây là cả về mặt chức năng và business logic. Ví dụ khi bạn xây dựng 1 phần mềm quản lí nội bộ cho 1 công ty, sẽ bao gồm các chức năng của : phòng nhân sự, phòng kế toán, phòng IT, ban lãnh đội. Mỗi 1 domain như vậy sẽ có các giới hạn cụ thể về mặt chức năng, hành vi. Các entity tồn tại trong nó cũng vậy, sẽ phải nằm trong các giới hạn của domain mà nó thể hiện.</li>
</ul>
<h4 id=32-aggregate>3.2. Aggregate</h4>
<ul>
<li>Và chắc chắn rằng mối quan hệ giữa các entity tồn tại trong hệ thống có thể là đơn giản hoặc phức tạp (phụ thuộc và có mối liên kết với nhiều entity khác nhau).</li>
<li>Nhằm tránh đi sự phức tạp có thể xảy ra, phương pháp này chỉ ra rằng chúng ta cần 1 Aggregate root ( 1 cụm(cluster) các domain objects được xem như 1 đơn vị ).</li>
<li>Ví dụ dễ thấy nhất là Order và OrderItem và Customer. Việc truy cập lúc này sẽ dựa vào rootAggregate là Order</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ts data-lang=ts><span style=color:#75715e>// Order.ts
</span><span style=color:#75715e></span><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>OrderId</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;./OrderId&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Customer</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;./Customer&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>OrderItem</span> } <span style=color:#66d9ef>from</span> <span style=color:#e6db74>&#34;./OrderItem&#34;</span>;

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Order</span> {
  <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>OrderId</span>;
  <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>customer</span>: <span style=color:#66d9ef>Customer</span>;
  <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>items</span>: <span style=color:#66d9ef>OrderItem</span>[];

  <span style=color:#66d9ef>constructor</span>(<span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>OrderId</span>, <span style=color:#a6e22e>customer</span>: <span style=color:#66d9ef>Customer</span>, <span style=color:#a6e22e>items</span>: <span style=color:#66d9ef>OrderItem</span>[]) {
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>id</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>id</span>;
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>customer</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>customer</span>;
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>items</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>items</span>;
  }

  <span style=color:#75715e>// Getters and setters for the properties
</span><span style=color:#75715e></span>
  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>addItem</span>(<span style=color:#a6e22e>item</span>: <span style=color:#66d9ef>OrderItem</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
    <span style=color:#75715e>// Validate item and apply any business rules
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>items</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>item</span>);
  }

  <span style=color:#66d9ef>public</span> <span style=color:#a6e22e>removeItem</span>(<span style=color:#a6e22e>item</span>: <span style=color:#66d9ef>OrderItem</span>)<span style=color:#f92672>:</span> <span style=color:#66d9ef>void</span> {
    <span style=color:#75715e>// Remove the item from the items collection
</span><span style=color:#75715e></span>  }

  <span style=color:#75715e>// Other domain-specific methods and behaviors
</span><span style=color:#75715e></span>}

<span style=color:#66d9ef>export</span> { <span style=color:#a6e22e>Order</span> };
<span style=color:#75715e>// OrderItem.ts
</span><span style=color:#75715e></span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>OrderItem</span> {
  <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>;
  <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>product</span>: <span style=color:#66d9ef>string</span>;
  <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>quantity</span>: <span style=color:#66d9ef>number</span>;
  <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>price</span>: <span style=color:#66d9ef>number</span>;

  <span style=color:#66d9ef>constructor</span>(<span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>product</span>: <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>quantity</span>: <span style=color:#66d9ef>number</span>, <span style=color:#a6e22e>price</span>: <span style=color:#66d9ef>number</span>) {
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>id</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>id</span>;
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>product</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>product</span>;
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>quantity</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>quantity</span>;
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>price</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>price</span>;
  }

  <span style=color:#75715e>// Getters and setters for the properties
</span><span style=color:#75715e></span>
  <span style=color:#75715e>// Other domain-specific methods and behaviors
</span><span style=color:#75715e></span>}

<span style=color:#75715e>// OrderId.ts
</span><span style=color:#75715e></span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>OrderId</span> {
  <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>;

  <span style=color:#66d9ef>constructor</span>(<span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>) {
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>id</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>id</span>;
  }

  <span style=color:#75715e>// Getters and setters for the id property
</span><span style=color:#75715e></span>
  <span style=color:#75715e>// Override toString() method to return the id value
</span><span style=color:#75715e></span>
  <span style=color:#75715e>// Override equals() method to compare two OrderId objects
</span><span style=color:#75715e></span>}

<span style=color:#66d9ef>export</span> { <span style=color:#a6e22e>OrderId</span> };

<span style=color:#66d9ef>export</span> { <span style=color:#a6e22e>OrderItem</span> };
<span style=color:#75715e>// Customer.ts
</span><span style=color:#75715e></span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Customer</span> {
  <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>;
  <span style=color:#66d9ef>private</span> <span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>;

  <span style=color:#66d9ef>constructor</span>(<span style=color:#a6e22e>id</span>: <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>name</span>: <span style=color:#66d9ef>string</span>) {
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>id</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>id</span>;
    <span style=color:#66d9ef>this</span>.<span style=color:#a6e22e>name</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>name</span>;
  }

  <span style=color:#75715e>// Getters and setters for the properties
</span><span style=color:#75715e></span>
  <span style=color:#75715e>// Other domain-specific methods and behaviors
</span><span style=color:#75715e></span>}

<span style=color:#66d9ef>export</span> { <span style=color:#a6e22e>Customer</span> };
</code></pre></div><h2 id=tham-khảo>Tham khảo</h2>
<ul>
<li><a href=https://learn.microsoft.com/en-us/archive/msdn-magazine/2009/february/best-practice-an-introduction-to-domain-driven-design>https://learn.microsoft.com/en-us/archive/msdn-magazine/2009/february/best-practice-an-introduction-to-domain-driven-design</a></li>
<li><a href=https://medium.com/microtica/the-concept-of-domain-driven-design-explained-3184c0fd7c3f>https://medium.com/microtica/the-concept-of-domain-driven-design-explained-3184c0fd7c3f</a></li>
</ul>
<div class="m-1 p-1">
<a class="m-1 p-1 text-xs font-bold leading-none border border-gray-200 bg-white" href=https://nextjsvietnam.com/categories/systemdesign>systemdesign</a>
</div>
</div>
</section>
<section class="container section">
<div class="max-w-2xl mx-auto">
<div class="font-heading text-2xl font-semibold">You Might Also Like</div>
<div class="mt-8 grid gap-8">
<ul class=sidebar-links>
<li><a href=/post/learn-aws-solution-architect-associate-the-fastest-way/>Learn Aws Solution Architect Associate the Fastest Way</a></li>
<li><a href=/post/system-design-head-first/>System Design Head First</a></li>
</ul>
</div>
</div>
</section>
</main>
<footer class=footer>
<div class="container md:flex">
<section class="footer-section-info md:basis-1/4">
<div class=address>
<a class=logo href=https://nextjsvietnam.com title=NextJSVietNam>
NextJSVietNam
</a>
<h4 class=footer-heading>
PRODUCTION MODE
<h4>
</div>
</section>
<div class="footer-section-navigation-menu md:basis-1/4">
<h4 class=footer-heading>NestJS</h4>
<ul class=footer-section-navigation-menu-links>
<li><a href=https://nextjsvietnam.com/post/khoa-hoc-nestjs-bai-02/>Khóa học Nestjs - Bài 02 - Xây dựng Pet Website bằng NestJS</a></li>
<li><a href=https://nextjsvietnam.com/post/khoa-hoc-nestjs/>Khóa học NestJS - Bài 01 - Lộ trình các bài học về NestJS Framework</a></li>
<li><a href=https://nextjsvietnam.com/post/build-restful-api-with-nestjs-the-right-way/>Build Restful Api With Nestjs the Right Way</a></li>
<li><a href=https://nextjsvietnam.com/post/the-best-way-to-upload-file-in-nestjs/>The Best Way to Upload File in Nestjs</a></li>
<li><a href=https://nextjsvietnam.com/post/nestjs-request-and-response-object/>Nestjs Request and Response Object</a></li>
</ul>
</div>
<div class="footer-section-navigation-menu md:basis-1/4">
<h4 class=footer-heading>NextJS</h4>
<ul class=footer-section-navigation-menu-links>
<li><a href=https://nextjsvietnam.com/post/khoa-hoc-nextjs/>Khóa học NextJS - Bài 01 - Lộ trình các bài học về NextJS</a></li>
<li><a href=https://nextjsvietnam.com/post/create-new-website-with-nextjs/>Create New Website With Nextjs</a></li>
</ul>
</div>
<div class="footer-section-navigation-menu md:basis-1/4">
<h4 class=footer-heading>Cheatsheet</h4>
<ul class=footer-section-navigation-menu-links>
<li><a href=https://nextjsvietnam.com/post/100-frontend-interview-questions/>100 Frontend Interview Questions</a></li>
<li><a href=https://nextjsvietnam.com/post/chatgpt-what-can-chat-gpt-do/>Chatgpt What Can Chat Gpt Do</a></li>
<li><a href=https://nextjsvietnam.com/post/learn-enough-oop-to-be-dangerous/>Learn Enough Oop to Be Dangerous</a></li>
<li><a href=https://nextjsvietnam.com/post/the-future-of-hr/>The Future of Hr</a></li>
<li><a href=https://nextjsvietnam.com/post/how-to-test-the-database/>How to Test the Database</a></li>
</ul>
</div>
</div>
<div class=container>
<div class=text-center>
<a href><span class="material-icons text-4xl m-4">facebook</span></a>
<a href><span class="material-icons text-4xl m-4">smart_display</span></a>
</div>
<div class="text-center text-lg py-4">
Copyright @ NextJSVietNam 2022
</div>
<div class="text-center text-sm">
Powered by <a class="font-bold text-primary" href=https://gohugo.io/>Go Hugo</a> - Made
with love from <a class="font-bold text-primary" href=https://nextjsvietnam.com>NextJSVietNam</a> -
Build
Version 2023-06-20 14:57:33 +0700 +0700
</div>
</div>
</footer>
<script type=text/javascript src=https://nextjsvietnam.com/core/jquery-3.6.0.min.js></script>
<script type=text/javascript src=https://nextjsvietnam.com/themes/2022/public/main.js></script>
<script type=text/javascript src=https://nextjsvietnam.com/themes/2022/public/home.js></script>
<script async>!function(b,e,f,g,a,c,d){if(b.fbq)return;a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version='2.0',a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d)}(window,document,'script','https://connect.facebook.net/en_US/fbevents.js'),fbq('init','1760611910980690'),fbq('track','PageView')</script>
<noscript><img height=1 width=1 style=display:none src="https://www.facebook.com/tr?id=1760611910980690&ev=PageView&noscript=1"></noscript>
</body>
</html>