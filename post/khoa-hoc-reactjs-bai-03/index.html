<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<link rel=home href=https://nextjsvietnam.com>
<meta name=generator content="jsguru cms">
<link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap">
<link rel=stylesheet href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel=stylesheet href=https://nextjsvietnam.com/themes/2022/public/main.css>
<link rel=stylesheet href=https://nextjsvietnam.com/themes/2022/public/home.css>
<link rel=stylesheet href=https://nextjsvietnam.com/themes/2022/public/page.css>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RWE4MLJYE6"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-RWE4MLJYE6')</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1642510310947288" crossorigin=anonymous></script>
<title>Khóa học ReactJS - Bài 03 - Props và States | Tìm hiểu và nắm vững khái niệm về props và states. Một số pattern phổ biến trong ReactJS. | Useful NodeJS Tricks, JavaScript Tips, Tricks and Best Practices</title>
<meta name=robots content="all">
<meta name=keywords content="reactjs,reactjs-beginner">
<meta name=description content="Tìm hiểu và nắm vững khái niệm về props và states. Một số pattern phổ biến trong ReactJS.">
<meta property="og:type" content="website">
<meta property="og:image" content="https://user-images.githubusercontent.com/31009750/246856332-ece36caa-82ef-4a4f-86d9-9dad4a108929.png">
<meta property="og:image:type" content="image/jpeg">
<meta property="og:image:width" content="750">
<meta property="og:image:height" content="300">
<meta property="article:publisher" content="https://www.facebook.com/nextjsvietnam">
<meta property="article:published_time" content="2023-07-13T21:45:10+07:00">
<meta property="article:modified_time" content="2023-07-13T21:45:10+07:00">
<link rel=apple-touch-icon sizes=57x57 href=/apple-icon-57x57.png>
<link rel=apple-touch-icon sizes=60x60 href=/apple-icon-60x60.png>
<link rel=apple-touch-icon sizes=72x72 href=/apple-icon-72x72.png>
<link rel=apple-touch-icon sizes=76x76 href=/apple-icon-76x76.png>
<link rel=apple-touch-icon sizes=114x114 href=/apple-icon-114x114.png>
<link rel=apple-touch-icon sizes=120x120 href=/apple-icon-120x120.png>
<link rel=apple-touch-icon sizes=144x144 href=/apple-icon-144x144.png>
<link rel=apple-touch-icon sizes=152x152 href=/apple-icon-152x152.png>
<link rel=apple-touch-icon sizes=180x180 href=/apple-icon-180x180.png>
<link rel=icon type=image/png sizes=192x192 href=/android-icon-192x192.png>
<link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png>
<link rel=icon type=image/png sizes=96x96 href=/favicon-96x96.png>
<link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png>
<link rel=manifest href=/manifest.json>
<meta name=msapplication-TileColor content="#ffffff">
<meta name=msapplication-TileImage content="/ms-icon-144x144.png">
<meta name=theme-color content="#ffffff">
</head>
<body class=body-nav-fixed>
<nav class="nav-fixed nav-default z-50">
<div class=container>
<div class="nav-container flex flex-wrap justify-between items-center">
<a href=https://nextjsvietnam.com class="nav-brand inline-block">
<img class=h-12 src=https://nextjsvietnam.com/themes/2022/src/assets/images/logo.png alt=Stunning>
</a>
<a href=javascript:void(0); data-menu=#menu-main_menu class=nav-menu-toggle><span class=material-icons>menu</span></a>
<ul id=menu-main_menu class="nav-menu h-0 md:h-auto">
<form class="nav-menu-search-bar md:hidden relative">
<button class="nav-menu-search-bar-search-btn absolute h-full"><svg class="w-3 h-3 text-gray-600" fill="currentcolor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.32 14.9l5.39 5.4a1 1 0 01-1.42 1.4l-5.38-5.38a8 8 0 111.41-1.41zM10 16a6 6 0 100-12 6 6 0 000 12z"/></svg>
</button>
<input name=s type=text class=w-full>
</form>
<li class=nav-menu-item>
<a class=nav-menu-link href=https://nextjsvietnam.com/categories/systemdesign>System Design
<span class=material-icons>keyboard_arrow_down</span>
</a>
<ul class=sub-menu>
<li class=nav-menu-item><a class=nav-menu-link href=https://nextjsvietnam.com/categories/software-architecture>Software Architecture</a></li>
<li class=nav-menu-item><a class=nav-menu-link href=https://nextjsvietnam.com/categories/microservice-architecture>Microservice Architecture</a></li>
<li class=nav-menu-item><a class=nav-menu-link href=https://nextjsvietnam.com/categories/aws>Learn AWS The Right Way</a></li>
<li class=nav-menu-item><a class=nav-menu-link href=https://nextjsvietnam.com/categories/aws-labs>AWS Hands-On Labs</a></li>
</ul>
</li>
<li class=nav-menu-item>
<a class=nav-menu-link href=https://nextjsvietnam.com/categories/cheatsheet>Cheatsheet
<span class=material-icons>keyboard_arrow_down</span>
</a>
<ul class=sub-menu>
<li class=nav-menu-item><a class=nav-menu-link href=https://nextjsvietnam.com/categories/nestjs-examples>NestJS Examples</a></li>
<li class=nav-menu-item><a class=nav-menu-link href=https://nextjsvietnam.com/categories/reactjs-examples>ReactJS Examples</a></li>
<li class=nav-menu-item><a class=nav-menu-link href=https://nextjsvietnam.com/categories/react-native-examples>React Native Examples</a></li>
</ul>
</li>
<li class=nav-menu-item>
<a class=nav-menu-link href=https://nextjsvietnam.com/categories/frameworks>Frameworks
<span class=material-icons>keyboard_arrow_down</span>
</a>
<ul class=sub-menu>
<li class=nav-menu-item><a class=nav-menu-link href=https://nextjsvietnam.com/categories/nestjs>NestJS</a></li>
<li class=nav-menu-item><a class=nav-menu-link href=https://nextjsvietnam.com/categories/reactjs>ReactJS</a></li>
<li class=nav-menu-item><a class=nav-menu-link href=https://nextjsvietnam.com/categories/nextjs>NextJS</a></li>
</ul>
</li>
<li class=nav-menu-item>
<a class=nav-menu-link href=https://nextjsvietnam.com>Tutorials
<span class=material-icons>keyboard_arrow_down</span>
</a>
<ul class=sub-menu>
<li class=nav-menu-item><a class=nav-menu-link href=https://nextjsvietnam.com/categories/nestjs-tutorial>NestJS Tutorial</a></li>
<li class=nav-menu-item><a class=nav-menu-link href=https://nextjsvietnam.com/categories/reactjs-tutorial>ReactJS Tutorial</a></li>
<li class=nav-menu-item><a class=nav-menu-link href=https://nextjsvietnam.com/categories/nextjs-tutorial>NextJS Tutorial</a></li>
</ul>
</li>
<li class=nav-menu-item>
<a class=nav-menu-link href=https://nextjsvietnam.com>Tools
<span class=material-icons>keyboard_arrow_down</span>
</a>
<ul class=sub-menu>
<li class=nav-menu-item><a class=nav-menu-link href=https://regex101.com/>Online Regex</a></li>
<li class=nav-menu-item><a class=nav-menu-link href=http://www.bashoneliners.com/>Bash Online</a></li>
<li class=nav-menu-item><a class=nav-menu-link href=https://www.epochconverter.com/>Unix Timestamp Conversion</a></li>
<li class=nav-menu-item><a class=nav-menu-link href=https://ryanstutorials.net/bash-scripting-tutorial/>Bash Scripting</a></li>
<li class=nav-menu-item><a class=nav-menu-link href=https://explainshell.com/>Explain Shell</a></li>
</ul>
</li>
<form class="nav-menu-search-bar hidden md:flex relative">
<button class="nav-menu-search-bar-search-btn absolute h-full"><svg class="w-3 h-3 text-gray-600" fill="currentcolor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.32 14.9l5.39 5.4a1 1 0 01-1.42 1.4l-5.38-5.38a8 8 0 111.41-1.41zM10 16a6 6 0 100-12 6 6 0 000 12z"/></svg>
</button>
<input name=s type=text class=w-full>
</form>
</ul>
</div>
</div>
</nav>
<main>
<section class="container section">
<div class="page-content max-w-2xl mx-auto">
<img src=https://user-images.githubusercontent.com/31009750/246856332-ece36caa-82ef-4a4f-86d9-9dad4a108929.png class=img-responsive alt="Khóa học ReactJS - Bài 03 - Props và States">
<h1>Khóa học ReactJS - Bài 03 - Props và States</h1>
<p><strong>Post Date</strong> : 2023-07-13T21:45:10+07:00</p>
<p><strong>Modified Date</strong> : 2023-07-13T21:45:10+07:00</p>
<p>
<strong>Category:</strong>
<a class="m-1 p-1 text-xs font-bold leading-none border border-gray-200 bg-white" href=https://nextjsvietnam.com/categories/reactjs-tutorial>reactjs-tutorial</a>
</p>
<p>
<strong>Tags:</strong>
<a class="m-1 p-1 text-xs font-bold leading-none border border-gray-200 bg-white" href=/tags/reactjs>reactjs</a>
</p>
<p><strong>Note</strong>: Toàn bộ mã nguồn của khóa học này đều được công khai trên github tại <a href=https://github.com/misostack/reactjs-tutorial-2023/tree/lession03>ReactJS Tutorial 2023</a></p>
<h2 id=bài-03>Bài 03</h2>
<ol>
<li>Tìm hiểu lý thuyết về props, state, hooks và minh hoạ</li>
<li>Tìm hiểu lý thuyết về cách tổ chức cấu trúc dữ liệu trong ứng dụng và minh hoạ</li>
<li>Tổng kết</li>
</ol>
<p>Trong bài trước, các anh chị đã tìm hiểu được cấu trúc 1 ứng dụng ReactJS chính là tổ hợp các component.</p>
<h3 id=tìm-hiểu-về-prop-state-hook-thông-qua-các-ví-dụ>Tìm hiểu về prop, state, hook thông qua các ví dụ</h3>
<ol>
<li>Thiết kế nút &ldquo;New Link&rdquo; và LinkFormComponent</li>
</ol>
<ul>
<li>Cài đặt bootstrap</li>
<li>Handle Event khi ấn nút &ldquo;New Link&rdquo; sẽ thực hiện mở Modal chưas Form nhập liệu cho liên kết mới</li>
<li>Trong Form nhập liệu cho liên kết mới, yêu cầu phải nhập link, phần title nếu ngừoi dùng để trống, sử dụng chính link đã nhập để làm title.</li>
<li>Khi bấm Close/Esc sẽ đóng modal. Khi mở lại Modal cho New Link, form dữ liệu phải trống.</li>
<li>Khi bấm Save Changes trong màn hình chính, sẽ hiển thị dạng JSON của những link đã được thêm.</li>
</ul>
<blockquote>
<p>Using bootstrap</p>
</blockquote>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>npm install bootstrap sass --save
</code></pre></div><blockquote>
<p>index.html</p>
</blockquote>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=color:#75715e>&lt;!DOCTYPE html&gt;</span>
&lt;<span style=color:#f92672>html</span> <span style=color:#a6e22e>lang</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;en&#34;</span>&gt;
  &lt;<span style=color:#f92672>head</span>&gt;
    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>charset</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;UTF-8&#34;</span> /&gt;
    &lt;<span style=color:#f92672>link</span> <span style=color:#a6e22e>rel</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;icon&#34;</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;image/svg+xml&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/vite.svg&#34;</span> /&gt;
    &lt;<span style=color:#f92672>meta</span> <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;viewport&#34;</span> <span style=color:#a6e22e>content</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;width=device-width, initial-scale=1.0&#34;</span> /&gt;
    &lt;<span style=color:#f92672>title</span>&gt;%VITE_APP_NAME% - %MODE%&lt;/<span style=color:#f92672>title</span>&gt;
  &lt;/<span style=color:#f92672>head</span>&gt;
  &lt;<span style=color:#f92672>body</span>&gt;
    &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;root&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;container&#34;</span>&gt;&lt;/<span style=color:#f92672>div</span>&gt;
    &lt;<span style=color:#f92672>script</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;module&#34;</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/src/main.jsx&#34;</span>&gt;&lt;/<span style=color:#f92672>script</span>&gt;
  &lt;/<span style=color:#f92672>body</span>&gt;
&lt;/<span style=color:#f92672>html</span>&gt;
</code></pre></div><blockquote>
<p>main.jsx</p>
</blockquote>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>React</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>ReactDOM</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react-dom/client&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>App</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./App.jsx&#34;</span>;
<span style=color:#75715e>// Bootstrap Bundle JS
</span><span style=color:#75715e></span><span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#34;bootstrap/dist/js/bootstrap.bundle.min&#34;</span>;
<span style=color:#75715e>// reset css
</span><span style=color:#75715e></span><span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#34;./index.scss&#34;</span>;

<span style=color:#a6e22e>ReactDOM</span>.<span style=color:#a6e22e>createRoot</span>(document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#34;root&#34;</span>)).<span style=color:#a6e22e>render</span>(
  &lt;<span style=color:#f92672>React.StrictMode</span>&gt;
    &lt;<span style=color:#f92672>App</span> /&gt;
  &lt;/<span style=color:#f92672>React.StrictMode</span>&gt;
);
</code></pre></div><blockquote>
<p>index.scss</p>
</blockquote>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scss data-lang=scss>$primary<span style=color:#f92672>:</span> <span style=color:#ae81ff>#176d16</span>;
$danger<span style=color:#f92672>:</span> <span style=color:#ae81ff>#ff4136</span>;

<span style=color:#66d9ef>@import</span> <span style=color:#e6db74>&#34;node_modules/bootstrap/scss/bootstrap&#34;</span>;
</code></pre></div><h4 id=event-handler-trong-reactjs>Event Handler trong ReactJS</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx>&lt;<span style=color:#f92672>a</span>
  <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://nextjsvietnam.com&#34;</span>
  <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span>
  <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>e</span>) =&gt; {
    <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
    <span style=color:#a6e22e>alert</span>(<span style=color:#e6db74>`You&#39;re going to redirect to </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>target</span>.<span style=color:#a6e22e>href</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
  }}
&gt;
  <span style=color:#a6e22e>Event</span> <span style=color:#a6e22e>Handler</span>
&lt;/<span style=color:#f92672>a</span>&gt;
</code></pre></div><h4 id=props>Props</h4>
<blockquote>
<p>Trong ReactJS, các component thường sử dụng props để giao tiếp với nhau. Các component cha thường sẽ truyền dữ liệu cho các component con thông qua props. Ngoài ra props còn bao gồm cả các thuộc tính HTML, các giá trị trong Javascript như: objects, arrays, kể cả functions.</p>
</blockquote>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useState</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>enviroment</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./shared/environment&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>Counter</span> <span style=color:#f92672>=</span> ({ <span style=color:#a6e22e>number</span>, <span style=color:#a6e22e>children</span>, ...<span style=color:#a6e22e>props</span> }) =&gt; {
  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>a</span> {<span style=color:#a6e22e>...props</span>}&gt;
        <span style=color:#a6e22e>Counter</span> <span style=color:#a6e22e>Name</span><span style=color:#f92672>:</span>{<span style=color:#a6e22e>children</span>}
        &lt;<span style=color:#f92672>br</span> /&gt;
        <span style=color:#a6e22e>Value</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>number</span>}
      &lt;/<span style=color:#f92672>a</span>&gt;
    &lt;/&gt;
  );
};

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>Lession003</span> <span style=color:#f92672>=</span> () =&gt; {
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>values</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>6</span>, <span style=color:#ae81ff>7</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>9</span>];
  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      {<span style=color:#a6e22e>values</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>v</span>, <span style=color:#a6e22e>index</span>) =&gt; (
        &lt;<span style=color:#f92672>Counter</span> <span style=color:#a6e22e>key</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>index</span>} <span style=color:#a6e22e>number</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>v</span>} <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span>&gt;
          <span style=color:#a6e22e>Counter</span> {<span style=color:#a6e22e>index</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>}
        &lt;/<span style=color:#f92672>Counter</span>&gt;
      ))}
    &lt;/&gt;
  );
};

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>Lession003</span>;
</code></pre></div><p>Có 3 điểm cần lưu ý ở đây khi sử dụng props:</p>
<ol>
<li>Tất cả các thuộc tính được truyền vào dạng attribute của 1 tag/component đều được gộp vào props. Tuy nhiên hãy sử dụng spread operator để chọn ra các thuộc tính chắc chắn có, điều này giúp editor dễ dàng hỗ trợ anh/chị trong quá trình code.</li>
<li>Trong ví dụ trên anh/chị sẽ thấy sự xuất hiện của <strong>chidren</strong>, từ khoá này mang ý nghĩa phần content bên trong 2 thẻ đóng mở của component sẽ được gán vào prop có key là <strong>children</strong>.</li>
<li>Props là readonly, không bao giờ được cố gắng thay đổi value của props (immutable). Luôn sử dụng state bên dưới khi cần một loại biến để thay đổi giá trị mỗi lần user tương tác.</li>
</ol>
<p>Một lưu ý, khi render 1 list trong ReactJS, ta sẽ thấy lỗi sau xuất hiện trên console.</p>
<p><img src=https://user-images.githubusercontent.com/31009750/253806885-a6677a9d-8787-4e55-8109-6d127052ea0e.png alt=image></p>
<p>Nguyên nhân là trong thiết kế của ReactJS, nhằm tối ưu hoá việc render, update DOM, khi render 1 list item, việc gán một key unique cho từng phần tử thuộc mảng, sẽ giúp ReactJS tối ưu được việc render khi một item được thêm/xoá/cập nhật.</p>
<h4 id=state>State</h4>
<blockquote>
<p>Bản chất chính là bộ nhớ của component, thể hiện trạng thái hiện tại của component và sẽ biến đổi khi người dùng tương tác với component</p>
</blockquote>
<p>Hãy xem xét ví dụ sau</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> <span style=color:#a6e22e>enviroment</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./shared/environment&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>Lession003</span> <span style=color:#f92672>=</span> () =&gt; {
  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>counter</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1</span>;
  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;Before render&#34;</span>);
  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>h2</span>&gt;<span style=color:#a6e22e>State</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>Event</span>&lt;/<span style=color:#f92672>h2</span>&gt;
      &lt;<span style=color:#f92672>h3</span>&gt;<span style=color:#a6e22e>Counter</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>counter</span>}&lt;/<span style=color:#f92672>h3</span>&gt;
      &lt;<span style=color:#f92672>button</span>
        <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
        <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span>
        <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>e</span>) =&gt; {
          <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
          <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Increase counter from </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>counter</span><span style=color:#e6db74>}</span><span style=color:#e6db74> to </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>counter</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
          <span style=color:#a6e22e>counter</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
          <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;After counter increased!&#34;</span>, <span style=color:#a6e22e>counter</span>);
        }}
      &gt;
        <span style=color:#a6e22e>Increase</span> <span style=color:#a6e22e>counter</span>
      &lt;/<span style=color:#f92672>button</span>&gt;
    &lt;/&gt;
  );
};

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>Lession003</span>;
</code></pre></div><p>Như ta đã thấy thì việc handler event cũng rất giống với việc handle một event trên DOM, chỉ khác 1 chút về cú pháp, là thay vì gọi function ngay lập tức, trong JSX anh/chị cần assign 1 event cho 1 function. Function này có thể là anonymous function như trong ví dụ, hoặc một function được khai báo trước đó.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>onclick</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;myFunction()&#34;</span>&gt;Click me&lt;/<span style=color:#f92672>button</span>&gt;
</code></pre></div><p>Nhìn vào đoạn code trên, anh/chị sẽ nghĩ, khi biến counter thay đổi, trên màn hình lúc này, anh/chị sẽ thấy được giá trị mới của nó. Tuy nhiên hãy theo dõi console.log và kết quả của mỗi lần click vào nút Increase counter.</p>
<p><img src=https://user-images.githubusercontent.com/31009750/253735920-7b913847-85a2-4888-815a-505d0a130743.png alt=image></p>
<p>Đáng lí kết quả nhận được theo như phỏng đoán, là sau mỗi lần counter biến đổi, console.log sẽ ghi nhận thêm 1 dòng của &ldquo;Before render&rdquo;. Và counter trên giao diện cũng sẽ được cập nhật.</p>
<p>Đáp án là, React Component không có lí do để render lại, nó chỉ render lại khi và chỉ khi <strong>state</strong> biến đổi. Dưới đây là cú pháp để khai báo và sử dụng state trong ReactJS.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useState</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>enviroment</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./shared/environment&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>Lession003</span> <span style=color:#f92672>=</span> () =&gt; {
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>counter</span>, <span style=color:#a6e22e>setCounter</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#ae81ff>0</span>);
  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;Before render, counter:&#34;</span>, <span style=color:#a6e22e>counter</span>);
  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>h2</span>&gt;<span style=color:#a6e22e>State</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>Event</span>&lt;/<span style=color:#f92672>h2</span>&gt;
      &lt;<span style=color:#f92672>h3</span>&gt;<span style=color:#a6e22e>Counter</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>counter</span>}&lt;/<span style=color:#f92672>h3</span>&gt;
      &lt;<span style=color:#f92672>button</span>
        <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
        <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span>
        <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>e</span>) =&gt; {
          <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
          <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Increase counter from </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>counter</span><span style=color:#e6db74>}</span><span style=color:#e6db74> to </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>counter</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
          <span style=color:#a6e22e>setCounter</span>(<span style=color:#a6e22e>counter</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>);
          <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;After counter increased!&#34;</span>, <span style=color:#a6e22e>counter</span>);
        }}
      &gt;
        <span style=color:#a6e22e>Increase</span> <span style=color:#a6e22e>counter</span>
      &lt;/<span style=color:#f92672>button</span>&gt;
    &lt;/&gt;
  );
};

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>Lession003</span>;
</code></pre></div><p><img src=https://user-images.githubusercontent.com/31009750/253736315-136a0174-6b34-4d4f-af22-078c7f7d083e.png alt=image></p>
<p>Sau khi viết lại đoạn code ban đầu, bằng cách sử dụng cú pháp trong React để khai báo và cập nhật state. Chúng ta nhận thấy 3 điều sau:</p>
<ol>
<li>Không thể cập nhật state trực tiếp, chỉ có thể dùng hàm setState được cung cấp.</li>
<li>Khi hàm setState được gọi, giá trị của state không thay đổi ngay lập tức.</li>
<li>Sau khi Component được render lại, chúng ta mới thấy được giá trị mới của state.</li>
<li>Nếu state là một object, cần lưu ý, giá trị mới của state phải tạo thành 1 object mới, thì React mới nhận biết được state đã thay đổi mà render lại (do object trong javascript luôn được tham chiếu tới 1 địa chỉ cố định lúc khởi tạo và trong quá trình thay đổi giá trị, địa chỉ tham chiếu này vẫn không đổi).</li>
</ol>
<p>Giả sử, chúng ta gọi hàm cập nhật state liên tiếp nhau thì điều gì sẽ xảy ra:</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useState</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>enviroment</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./shared/environment&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>Lession003</span> <span style=color:#f92672>=</span> () =&gt; {
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>counter</span>, <span style=color:#a6e22e>setCounter</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#ae81ff>0</span>);
  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;Before render, counter:&#34;</span>, <span style=color:#a6e22e>counter</span>);
  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>h2</span>&gt;<span style=color:#a6e22e>State</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>Event</span>&lt;/<span style=color:#f92672>h2</span>&gt;
      &lt;<span style=color:#f92672>h3</span>&gt;<span style=color:#a6e22e>Counter</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>counter</span>}&lt;/<span style=color:#f92672>h3</span>&gt;
      &lt;<span style=color:#f92672>button</span>
        <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
        <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span>
        <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>e</span>) =&gt; {
          <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
          <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Increase counter from </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>counter</span><span style=color:#e6db74>}</span><span style=color:#e6db74> to </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>counter</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
          <span style=color:#a6e22e>setCounter</span>(<span style=color:#a6e22e>counter</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>);
          <span style=color:#a6e22e>setCounter</span>(<span style=color:#a6e22e>counter</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>);
          <span style=color:#a6e22e>setCounter</span>(<span style=color:#a6e22e>counter</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>);
          <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;After counter increased!&#34;</span>, <span style=color:#a6e22e>counter</span>);
        }}
      &gt;
        <span style=color:#a6e22e>Increase</span> <span style=color:#a6e22e>counter</span>
      &lt;/<span style=color:#f92672>button</span>&gt;
    &lt;/&gt;
  );
};

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>Lession003</span>;
</code></pre></div><p>Có lẽ là 6 hay chăng? Không kết quả là chỉ có setCounter(counter+3) được thực thi.</p>
<p><img src=https://user-images.githubusercontent.com/31009750/253736507-c6fa9749-1c63-4c54-8bde-82219b5baf51.png alt=image></p>
<p>Giải thích: Trong 1 sự kiện , khi diễn ra việc cập nhật state, ReactJS sẽ gom các cập nhật này và thực hiện 1 lần, lúc này state counter sẽ là 1 giá trị cố định trong mỗi event cập nhật, do đó dù các event update state trước đó là +1,+2 được thực hiện nhưng tại bước số +3, giá trị counter vẫn được lấy từ giá trị ban đầu, do đó kết quả sẽ như ta đã thấy.
Cùng test thử việc cập nhật 2 state riêng biệt trong cùng 1 event và kiểm tra xem ReactJS sẽ render bao nhiêu lần.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useState</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>enviroment</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./shared/environment&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>Lession003</span> <span style=color:#f92672>=</span> () =&gt; {
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>counter</span>, <span style=color:#a6e22e>setCounter</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#ae81ff>0</span>);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>counter2</span>, <span style=color:#a6e22e>setCounter2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#ae81ff>1</span>);
  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;Before render, counter:&#34;</span>, <span style=color:#a6e22e>counter</span>, <span style=color:#e6db74>&#34;counter2:&#34;</span>, <span style=color:#a6e22e>counter2</span>);
  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>h2</span>&gt;<span style=color:#a6e22e>State</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>Event</span>&lt;/<span style=color:#f92672>h2</span>&gt;
      &lt;<span style=color:#f92672>h3</span>&gt;<span style=color:#a6e22e>Counter</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>counter</span>}&lt;/<span style=color:#f92672>h3</span>&gt;
      &lt;<span style=color:#f92672>h3</span>&gt;<span style=color:#a6e22e>Counter2</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>counter2</span>}&lt;/<span style=color:#f92672>h3</span>&gt;
      &lt;<span style=color:#f92672>button</span>
        <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
        <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span>
        <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>e</span>) =&gt; {
          <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
          <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Increase counter from </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>counter</span><span style=color:#e6db74>}</span><span style=color:#e6db74> to </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>counter</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
          <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Increase counter from </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>counter2</span><span style=color:#e6db74>}</span><span style=color:#e6db74> to </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>counter2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
          <span style=color:#a6e22e>setCounter</span>(<span style=color:#a6e22e>counter</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>);
          <span style=color:#a6e22e>setCounter2</span>(<span style=color:#a6e22e>counter2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>);
        }}
      &gt;
        <span style=color:#a6e22e>Increase</span> <span style=color:#a6e22e>counter</span>
      &lt;/<span style=color:#f92672>button</span>&gt;
    &lt;/&gt;
  );
};

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>Lession003</span>;
</code></pre></div><p><img src=https://user-images.githubusercontent.com/31009750/253738458-3e7f09c2-0a0b-4964-b24c-443a612386f2.png alt=image></p>
<p>Nếu thay vì sử dụng giá trị state trực tiếp trong component, và cập nhật state sử dụng callback function như bên dứoi</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useState</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>enviroment</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./shared/environment&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>Lession003</span> <span style=color:#f92672>=</span> () =&gt; {
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>counter</span>, <span style=color:#a6e22e>setCounter</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#ae81ff>0</span>);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>counter2</span>, <span style=color:#a6e22e>setCounter2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#ae81ff>1</span>);
  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;Before render, counter:&#34;</span>, <span style=color:#a6e22e>counter</span>, <span style=color:#e6db74>&#34;counter2:&#34;</span>, <span style=color:#a6e22e>counter2</span>);
  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>h2</span>&gt;<span style=color:#a6e22e>State</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>Event</span>&lt;/<span style=color:#f92672>h2</span>&gt;
      &lt;<span style=color:#f92672>h3</span>&gt;<span style=color:#a6e22e>Counter</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>counter</span>}&lt;/<span style=color:#f92672>h3</span>&gt;
      &lt;<span style=color:#f92672>h3</span>&gt;<span style=color:#a6e22e>Counter2</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>counter2</span>}&lt;/<span style=color:#f92672>h3</span>&gt;
      &lt;<span style=color:#f92672>button</span>
        <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
        <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span>
        <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>e</span>) =&gt; {
          <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
          <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Increase counter from </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>counter</span><span style=color:#e6db74>}</span><span style=color:#e6db74> to </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>counter</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
          <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Increase counter from </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>counter2</span><span style=color:#e6db74>}</span><span style=color:#e6db74> to </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>counter2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
          <span style=color:#a6e22e>setCounter</span>((<span style=color:#a6e22e>counter</span>) =&gt; <span style=color:#a6e22e>counter</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>);
          <span style=color:#a6e22e>setCounter</span>((<span style=color:#a6e22e>counter</span>) =&gt; <span style=color:#a6e22e>counter</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>4</span>);
          <span style=color:#a6e22e>setCounter2</span>((<span style=color:#a6e22e>counter2</span>) =&gt; <span style=color:#a6e22e>counter2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>);
        }}
      &gt;
        <span style=color:#a6e22e>Increase</span> <span style=color:#a6e22e>counter</span>
      &lt;/<span style=color:#f92672>button</span>&gt;
    &lt;/&gt;
  );
};

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>Lession003</span>;
</code></pre></div><p>Kết quả nhận được đúng như những gì được mô tả.</p>
<p><img src=https://user-images.githubusercontent.com/31009750/253738818-448d77fe-f25f-4bae-a0a9-b0ec5f8a5078.png alt=image></p>
<p>Tiếp tục thử nghiệm với setTimeOut,</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useState</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>enviroment</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./shared/environment&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>Lession003</span> <span style=color:#f92672>=</span> () =&gt; {
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>counter</span>, <span style=color:#a6e22e>setCounter</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#ae81ff>0</span>);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>counter2</span>, <span style=color:#a6e22e>setCounter2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#ae81ff>1</span>);
  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;Before render, counter:&#34;</span>, <span style=color:#a6e22e>counter</span>, <span style=color:#e6db74>&#34;counter2:&#34;</span>, <span style=color:#a6e22e>counter2</span>);
  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>h2</span>&gt;<span style=color:#a6e22e>State</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>Event</span>&lt;/<span style=color:#f92672>h2</span>&gt;
      &lt;<span style=color:#f92672>h3</span>&gt;<span style=color:#a6e22e>Counter</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>counter</span>}&lt;/<span style=color:#f92672>h3</span>&gt;
      &lt;<span style=color:#f92672>h3</span>&gt;<span style=color:#a6e22e>Counter2</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>counter2</span>}&lt;/<span style=color:#f92672>h3</span>&gt;
      &lt;<span style=color:#f92672>button</span>
        <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
        <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span>
        <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>e</span>) =&gt; {
          <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
          <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Increase counter from </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>counter</span><span style=color:#e6db74>}</span><span style=color:#e6db74> to </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>counter</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
          <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>`Increase counter from </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>counter2</span><span style=color:#e6db74>}</span><span style=color:#e6db74> to </span><span style=color:#e6db74>${</span><span style=color:#a6e22e>counter2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>);
          <span style=color:#a6e22e>setCounter</span>((<span style=color:#a6e22e>counter</span>) =&gt; <span style=color:#a6e22e>counter</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>2</span>);
          <span style=color:#a6e22e>setCounter</span>((<span style=color:#a6e22e>counter</span>) =&gt; <span style=color:#a6e22e>counter</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>4</span>);
          <span style=color:#a6e22e>setTimeout</span>(() =&gt; {
            <span style=color:#a6e22e>setCounter</span>((<span style=color:#a6e22e>counter</span>) =&gt; <span style=color:#a6e22e>counter</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>6</span>);
          }, <span style=color:#ae81ff>0</span>);
          <span style=color:#a6e22e>setCounter2</span>((<span style=color:#a6e22e>counter2</span>) =&gt; <span style=color:#a6e22e>counter2</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>3</span>);
        }}
      &gt;
        <span style=color:#a6e22e>Increase</span> <span style=color:#a6e22e>counter</span>
      &lt;/<span style=color:#f92672>button</span>&gt;
    &lt;/&gt;
  );
};

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>Lession003</span>;
</code></pre></div><p>Kết quả ta có 2 lần render, vì lần cập nhật state counter + 6 diễn ra trong 1 tiến trình khác.</p>
<p><img src=https://user-images.githubusercontent.com/31009750/253738943-b6630f8f-dc06-4755-a0d8-2cfa12e5ea98.png alt=image></p>
<p>Cùng thử nghiệm với object cho statestate</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useState</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>enviroment</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./shared/environment&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>Lession003</span> <span style=color:#f92672>=</span> () =&gt; {
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>stateObject</span>, <span style=color:#a6e22e>setStateObject</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>({
    <span style=color:#a6e22e>a</span><span style=color:#f92672>:</span> {
      <span style=color:#a6e22e>b</span><span style=color:#f92672>:</span> {
        <span style=color:#a6e22e>c</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>,
      },
    },
  });
  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;Before render, stateObject.a.b.c:&#34;</span>, <span style=color:#a6e22e>stateObject</span>.<span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>c</span>);
  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>h2</span>&gt;<span style=color:#a6e22e>State</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>Event</span>&lt;/<span style=color:#f92672>h2</span>&gt;
      &lt;<span style=color:#f92672>h3</span>&gt;<span style=color:#a6e22e>StateObject</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>stringify</span>(<span style=color:#a6e22e>stateObject</span>)}&lt;/<span style=color:#f92672>h3</span>&gt;
      &lt;<span style=color:#f92672>button</span>
        <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
        <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span>
        <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>e</span>) =&gt; {
          <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
          <span style=color:#a6e22e>setStateObject</span>((<span style=color:#a6e22e>obj</span>) =&gt; {
            <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>obj</span>.<span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>c</span>, <span style=color:#e6db74>&#34;obj === stateObject&#34;</span>, <span style=color:#a6e22e>obj</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>stateObject</span>);
            <span style=color:#a6e22e>obj</span>.<span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>c</span> <span style=color:#f92672>+=</span> <span style=color:#ae81ff>1</span>;
            <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>obj</span>;
          });
        }}
      &gt;
        <span style=color:#a6e22e>Increase</span> <span style=color:#a6e22e>counter</span>
      &lt;/<span style=color:#f92672>button</span>&gt;
    &lt;/&gt;
  );
};

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>Lession003</span>;
</code></pre></div><p>Kết quả, dù ta thấy value c có thay đổi nhưng thực tế trên UI vẫn không hề render lại.</p>
<p><img src=https://user-images.githubusercontent.com/31009750/253748442-c7c9b1f3-a71b-48e8-9377-7fa9a0a65f1f.png alt=image></p>
<p>Do đó việc mutate trực tiếp object và kết quả sau khi đổi vẫn tham chiếu tới cùng 1 object, sẽ khiến React Component không nhận biết được sẽ phải render lại, do nó thực hiện phép so sánh giữa 2 object với nhau.
Vì vậy, việc bắt buộc là anh/chị không được thay đổi trực tiếp object này, mà nên tạo 1 object bao gồm các gía trị của object cũ được trộn với giá trị mới đã thay đổi.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useState</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>enviroment</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./shared/environment&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>Lession003</span> <span style=color:#f92672>=</span> () =&gt; {
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>stateObject</span>, <span style=color:#a6e22e>setStateObject</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>({
    <span style=color:#a6e22e>a</span><span style=color:#f92672>:</span> {
      <span style=color:#a6e22e>b</span><span style=color:#f92672>:</span> {
        <span style=color:#a6e22e>c</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>,
      },
    },
  });
  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;Before render, stateObject.a.b.c:&#34;</span>, <span style=color:#a6e22e>stateObject</span>.<span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>c</span>);
  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>h2</span>&gt;<span style=color:#a6e22e>State</span> <span style=color:#a6e22e>and</span> <span style=color:#a6e22e>Event</span>&lt;/<span style=color:#f92672>h2</span>&gt;
      &lt;<span style=color:#f92672>h3</span>&gt;<span style=color:#a6e22e>StateObject</span><span style=color:#f92672>:</span> {<span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>stringify</span>(<span style=color:#a6e22e>stateObject</span>)}&lt;/<span style=color:#f92672>h3</span>&gt;
      &lt;<span style=color:#f92672>button</span>
        <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
        <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span>
        <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>e</span>) =&gt; {
          <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
          <span style=color:#a6e22e>setStateObject</span>((<span style=color:#a6e22e>obj</span>) =&gt; {
            <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>obj</span>.<span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>c</span>, <span style=color:#e6db74>&#34;obj === stateObject&#34;</span>, <span style=color:#a6e22e>obj</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>stateObject</span>);
            <span style=color:#66d9ef>return</span> {
              ...<span style=color:#a6e22e>obj</span>,
              <span style=color:#a6e22e>a</span><span style=color:#f92672>:</span> {
                <span style=color:#a6e22e>b</span><span style=color:#f92672>:</span> {
                  <span style=color:#a6e22e>c</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>obj</span>.<span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>b</span>.<span style=color:#a6e22e>c</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>,
                },
              },
            };
          });
        }}
      &gt;
        <span style=color:#a6e22e>Increase</span> <span style=color:#a6e22e>counter</span>
      &lt;/<span style=color:#f92672>button</span>&gt;
    &lt;/&gt;
  );
};

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>Lession003</span>;
</code></pre></div><p><img src=https://user-images.githubusercontent.com/31009750/253748682-a14a9340-d363-4063-aee4-e3c2457c04c7.png alt=image></p>
<p>Lúc này cả trên UI, lẫn console, giá trị của c đều được cập nhật tương ứng.</p>
<blockquote>
<p>Làm thế nào để lấy được giá trị của form input</p>
</blockquote>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useState</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>Lession003</span> <span style=color:#f92672>=</span> () =&gt; {
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>input</span>, <span style=color:#a6e22e>setInput</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#e6db74>&#34;&#34;</span>);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>items</span>, <span style=color:#a6e22e>setItems</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>([]);

  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>h2</span>&gt;<span style=color:#a6e22e>State</span> Array&lt;/<span style=color:#f92672>h2</span>&gt;
      &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mb-3&#34;</span>&gt;
        &lt;<span style=color:#f92672>label</span> <span style=color:#a6e22e>htmlFor</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;exampleFormControlInput1&#34;</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;form-label&#34;</span>&gt;
          <span style=color:#a6e22e>Item</span> <span style=color:#a6e22e>name</span>
        &lt;/<span style=color:#f92672>label</span>&gt;
        &lt;<span style=color:#f92672>input</span>
          <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>input</span>}
          <span style=color:#a6e22e>onChange</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>e</span>) =&gt; {
            <span style=color:#a6e22e>setInput</span>(<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>target</span>.<span style=color:#a6e22e>value</span>);
          }}
          <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;email&#34;</span>
          <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;form-control&#34;</span>
          <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;exampleFormControlInput1&#34;</span>
          <span style=color:#a6e22e>placeholder</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;name&#34;</span>
        /&gt;
      &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;<span style=color:#f92672>button</span>
        <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
        <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span>
        <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>e</span>) =&gt; {
          <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
          <span style=color:#a6e22e>setItems</span>((<span style=color:#a6e22e>items</span>) =&gt; {
            <span style=color:#66d9ef>return</span> [...<span style=color:#a6e22e>items</span>, <span style=color:#a6e22e>input</span>];
          });
        }}
      &gt;
        <span style=color:#a6e22e>Add</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>item</span>
      &lt;/<span style=color:#f92672>button</span>&gt;
      &lt;<span style=color:#f92672>ul</span>&gt;
        {<span style=color:#a6e22e>items</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>item</span>, <span style=color:#a6e22e>index</span>) =&gt; (
          &lt;<span style=color:#f92672>li</span> <span style=color:#a6e22e>key</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>index</span>}&gt;{<span style=color:#a6e22e>item</span>}&lt;/<span style=color:#f92672>li</span>&gt;
        ))}
      &lt;/<span style=color:#f92672>ul</span>&gt;
    &lt;/&gt;
  );
};

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>Lession003</span>;
</code></pre></div><p><img src=https://user-images.githubusercontent.com/31009750/253852462-a2dbe6dc-e78a-486a-a47b-7c45952bf739.png alt=image></p>
<p>Như vậy ta có thể thấy rằng bằng cách sử dụng state, và event onChange, các anh/chị sẽ có thể đồng bộ được user input và state của input này. Nhờ vào cơ chế của ReactJS mà trong hình các anh/chị chỉ thấy phần được render lại chính là nội dung của input chứ ko phải toàn bộ, điều này giúp cho ứng dụng trở nên mượt mà là vậy.</p>
<blockquote>
<p>Cùng thử với state dạng array</p>
</blockquote>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx>&lt;<span style=color:#f92672>button</span>
  <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
  <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span>
  <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>e</span>) =&gt; {
    <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
    <span style=color:#a6e22e>setItems</span>((<span style=color:#a6e22e>items</span>) =&gt; {
      <span style=color:#66d9ef>return</span> [...<span style=color:#a6e22e>items</span>, <span style=color:#a6e22e>input</span>];
    });
  }}
&gt;
  <span style=color:#a6e22e>Add</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>item</span>
&lt;/<span style=color:#f92672>button</span>&gt;
</code></pre></div><p>Qua các ví dụ trên chúng ta đúc kết được như sau:</p>
<p><img src=https://user-images.githubusercontent.com/31009750/253850183-5e54ca43-42e9-444a-8f06-6eeba6261bab.png alt=image></p>
<blockquote>
<p>Tuy nhiên cách viết trên, làm đoạn code trông khá là phức tạp và khó bảo trì. Các anh/chị có thể sử dụng thư viên immer để vẫn đảm bảo tính immutable của state nhưng khi viết code thì trông như đang mutate vậy.</p>
</blockquote>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>npm install use-immer --save
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useState</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useImmer</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;use-immer&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>Lession003</span> <span style=color:#f92672>=</span> () =&gt; {
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>input</span>, <span style=color:#a6e22e>setInput</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#e6db74>&#34;&#34;</span>);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>items</span>, <span style=color:#a6e22e>setItems</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useImmer</span>([]);

  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>h2</span>&gt;<span style=color:#a6e22e>State</span> Array&lt;/<span style=color:#f92672>h2</span>&gt;
      &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mb-3&#34;</span>&gt;
        &lt;<span style=color:#f92672>label</span> <span style=color:#a6e22e>htmlFor</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;exampleFormControlInput1&#34;</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;form-label&#34;</span>&gt;
          <span style=color:#a6e22e>Item</span> <span style=color:#a6e22e>name</span>
        &lt;/<span style=color:#f92672>label</span>&gt;
        &lt;<span style=color:#f92672>input</span>
          <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>input</span>}
          <span style=color:#a6e22e>onChange</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>e</span>) =&gt; {
            <span style=color:#a6e22e>setInput</span>(<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>target</span>.<span style=color:#a6e22e>value</span>);
          }}
          <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;email&#34;</span>
          <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;form-control&#34;</span>
          <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;exampleFormControlInput1&#34;</span>
          <span style=color:#a6e22e>placeholder</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;name&#34;</span>
        /&gt;
      &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;<span style=color:#f92672>button</span>
        <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
        <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span>
        <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{(<span style=color:#a6e22e>e</span>) =&gt; {
          <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
          <span style=color:#a6e22e>setItems</span>((<span style=color:#a6e22e>items</span>) =&gt; {
            <span style=color:#a6e22e>items</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>input</span>);
          });
        }}
      &gt;
        <span style=color:#a6e22e>Add</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>item</span>
      &lt;/<span style=color:#f92672>button</span>&gt;
      &lt;<span style=color:#f92672>ul</span>&gt;
        {<span style=color:#a6e22e>items</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>item</span>, <span style=color:#a6e22e>index</span>) =&gt; (
          &lt;<span style=color:#f92672>li</span> <span style=color:#a6e22e>key</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>index</span>}&gt;{<span style=color:#a6e22e>item</span>}&lt;/<span style=color:#f92672>li</span>&gt;
        ))}
      &lt;/<span style=color:#f92672>ul</span>&gt;
    &lt;/&gt;
  );
};

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>Lession003</span>;
</code></pre></div><p>Đoạn code mới này trông clean hơn hẳn đúng không nào.</p>
<h4 id=quá-trình-một-reactjs-component-render-sẽ-diễn-tiến-như-sau>Quá trình một ReactJS Component render sẽ diễn tiến như sau:</h4>
<blockquote>
<h3 id=trigger---render---commit>Trigger -> Render -> Commit</h3>
</blockquote>
<p><strong>Trigger:</strong></p>
<ul>
<li>Khi ứng dụng khởi tạo tại bước này ReactJS sẽ nhúng ứng dụng vào DOM node root, và thực hiện gọi phương thức <strong>render</strong> của các component.</li>
<li>Re-render: mỗi khi component cập nhật state của nó, thì bản thân nó sẽ render lại, điều này dẫn đến việc các children components của nó cũng sẽ render lại.</li>
</ul>
<p><strong>Render</strong>:</p>
<ul>
<li>Như đã đề cập ở trên, khi ứng dụng khởi tạo, React sẽ gọi root component thực hiện render.</li>
<li>Đối với các lần tiếp theo, React sẽ thực gọi các function component có state update trigger việc render này.</li>
</ul>
<p><strong>Commit</strong>:</p>
<ul>
<li>Khi ứng dụng khởi tạo, sau khi component root render thành công, React lúc này sẽ append toàn bộ DOM nodes được tạo vào cây DOM.</li>
<li>Đối với các lần tiếp theo, React sẽ thực hiện so sánh và chỉ cập nhật cây DOM nếu thực sự có thay đổi.</li>
</ul>
<p>Vậy là các anh/chị đã có 1 cái nhìn tổng quan về state,props trong ReactJS và cách mà ReactJS render lại các component khi state thay đổi.</p>
<h3 id=thực-hành-xây-dựng-ứng-dụng-quản-lí-liên-kết>Thực hành xây dựng ứng dụng quản lí liên kết</h3>
<h4 id=yêu-cầu-của-ứng-dụng>Yêu cầu của ứng dụng</h4>
<p>Trong ứng dụng thực tế, chúng ta cần giải quyết nhiều câu hỏi hóc búa hơn. Trong phạm vi bài học này, chúng ta cùng tìm cách trả lời các câu hỏi sau.</p>
<p>Giả sử, các anh chị phải xây dựng 1 ứng dụng nhỏ, nhằm quản lí 1 danh sách các liên kết.
Mỗi liên kết có thể là: Link website, Hình Ảnh(png/jpg/jpeg), Link Youtube.</p>
<p>Ứng dụng sẽ gồm 1 màn hình duy nhất, các tác vụ thêm, sửa sẽ mở 1 modal cho phép người dùng nhập/thay đổi thông tin, sau khi lưu lại, thông tin trong danh sách sẽ được cập nhật.</p>
<p><strong>Các tính năng chính của ứng dụng gồm:</strong></p>
<ul>
<li>Thêm, Sửa, Xoá Link</li>
<li>Hiển thị liên kết theo 3 format: website(dạng link với tiêu đề đã nhập, nếu để trống tiêu đề, sử dụng link), hình ảnh(dạng image với tiêu đề đã nhập, nếu để trống, sử dụng link), link youtube ( dạng iframe với embed link)</li>
<li>Lưu trữ thông tin ứng dụng trên máy người dùng, để khi tắt ứng dụng mở lại, thông tin đã lưu vẫn còn tồn tại.</li>
</ul>
<p><strong>Yêu cầu về giao diện như sau</strong></p>
<blockquote>
<p>Màn hình chính</p>
</blockquote>
<p><img src=https://user-images.githubusercontent.com/31009750/253456804-a3f42811-9a61-438b-bd77-e5e00e128662.png alt="Màn hình chính"></p>
<blockquote>
<p>Modal thêm, sửa</p>
</blockquote>
<p><img src=https://user-images.githubusercontent.com/31009750/253457039-65cd0eb2-cfbd-4204-a757-c90d1fc3b834.png alt="Modal thêm,sửa"></p>
<p>Khi thực hiện ứng dụng trên, các anh chị cần phải trả lời được các câu hỏi sau:
được các thông tin vừa nhập?</p>
<ol>
<li>Làm thế nào để lấy được thông tin trong form nhập liệu của link để tiếp tục xử lý</li>
<li>Làm cách nào truyền được data từ danh sách lên modal.</li>
<li>Khi người dùng nhập mới/cập nhật thông tin của liên kết, làm thế nào để màn hình danh sách hiển thị.</li>
<li>Làm thế nào để nạp thông tin đã lưu trên ứng dụng, khi user mở lại ứng dụng.</li>
<li>Nên lưu thông tin ứng dụng trên máy user vào đâu.</li>
</ol>
<p>Để giải quyết được bài tập này, tôi sẽ gợi ý 1 số bước mà các anh chị cần phải thực hiện như sau:</p>
<h3 id=các-bước-chính>Các bước chính:</h3>
<ol>
<li>Phân tích và chia nhỏ các cần component</li>
<li>Thiết kế cấu trúc dữ liệu</li>
<li>Xây dựng chi tiết, bắt đầu từ các component nhỏ nhất.</li>
<li>Tích hợp toàn bộ các component lại thành 1 ứng dụng hoàn chỉnh</li>
</ol>
<h4 id=bước-1-phân-tích-và-chia-nhỏ-các-cần-component>Bước 1: Phân tích và chia nhỏ các cần component</h4>
<p>Nguyên tắc chia sẽ giống như việc cắt giao diện HTML từ file design cho trước. Từ trên xuống dưới, từ ngoài vào trong.</p>
<p>Tại bước này các anh/chị phải phân tích và chia nhỏ các cần component cần được xây dựng, dùng để lắp ghép cho sản phẩm cuối cùng.</p>
<ol>
<li>LinkFormComponent</li>
</ol>
<ul>
<li>Input: linkObject</li>
<li>Output: linkObject</li>
</ul>
<p>LinkFormComponent sẽ được sử dụng cho cả 2 trường hợp thêm mới/chỉnh sửa 1 liên kết (link).</p>
<ol start=2>
<li>LinkDetailComponent</li>
</ol>
<ul>
<li>Input: linkObject</li>
</ul>
<p><img src=https://user-images.githubusercontent.com/31009750/253543476-9facfd47-89aa-4889-9aeb-52c96ffbbc1a.png alt=image></p>
<ol start=3>
<li>PaginationComponent</li>
</ol>
<ul>
<li>Input: paginationObject</li>
<li>Output: activePage</li>
</ul>
<p><img src=https://user-images.githubusercontent.com/31009750/253543768-b3734491-77d9-4299-bd5b-9753dfd28876.png alt=image></p>
<ol start=4>
<li>LinkManagementContainer</li>
</ol>
<ul>
<li>Là component bao quát toàn bộ ứng dụng quản lí liên kết.</li>
</ul>
<p>Sau bước này, các anh chị sẽ phần nào hình dung được khối lượng công việc cần phải làm để xây dựng ứng dụng này.</p>
<p>Bước tiếp theo hãy cùng tìm hiểu chi tiết về cơ chế hoạt động của ReactJS và cái khái niệm cơ bản như prop,state, hook, và cách mà ReactJS sẽ cập nhật lại giao diện sau mỗi tương tác của người dùng.</p>
<h4 id=bước-2--thiết-kế-cấu-trúc-dữ-liệu>Bước 2 : Thiết kế cấu trúc dữ liệu</h4>
<p>Chính là trạng thái của dữ liệu từ lúc bắt đầu, trong lúc hoạt động, cho đến khi kết thúc.
Điều này cực kì quan trọng, vì ứng dụng ngoài yêu cầu phải tương tác với người dùng, thì nhiệm vụ chính của nó là thể hiện các trạng thái hiện tại của dữ liệu: ban đầu, sau khi biến đổi, khi kết thúc.</p>
<p>Trong phần này tôi sẽ hướng dẫn xây dựng cấu trúc dữ liệu cho ví dụ minh họa trong bài học này. Các anh chị có thể đọc thêm về cách xây dựng và lựa chọn cấu trúc dữ liệu cho state tại <a href=https://nextjsvietnam.com/post/manage-your-reactjs-state-the-right-way/>bài viết này</a>.</p>
<p>Sau một số bước phân tích, anh/chị sẽ có được 1 sơ đồ mô tả tóm tắt các props và states của các component trong ứng dụng trên như sau.</p>
<p><img src=https://user-images.githubusercontent.com/31009750/253876828-38aa00a5-56f3-4f1b-9a62-2428ea4bfaac.png alt=image></p>
<p>Sau khi có cái nhìn tổng quan về cấu trúc dữ liệu của các component. Lúc này các anh/chị cần thiết kế luồng dữ liệu giữa các component trong ứng dụng.</p>
<p><img src=https://user-images.githubusercontent.com/31009750/253907170-192c1260-1bdf-4f43-b200-457ac65d972d.png alt=image></p>
<p>Sau khi phân tích xong, các anh/chị đã có thể tiến hành bước tiếp theo là implementation.</p>
<h4 id=bước-số-3-xây-dựng-chi-tiết-bắt-đầu-từ-các-component-nhỏ-nhất>Bước số 3. Xây dựng chi tiết, bắt đầu từ các component nhỏ nhất.</h4>
<p>Nguyên tắc là xây dựng các component nhỏ độc lập, nhận input và trả ra output nếu cần.
Các component lớn hơn, có thể có trạng thái riêng và là tổ hợp chứa nhiều component nhỏ hơn.</p>
<h5 id=31-xây-dựng-linkformcomponent>3.1. Xây dựng LinkFormComponent</h5>
<ul>
<li>LinkFormComponent sẽ là một modal, trong đó chứa form add/edit 1 liên kết.</li>
<li>Khi người dùng bấm cancel, modal sẽ đóng, dữ liệu đã nhập cần phải được xóa, để lần sau khi mở lại, form nhập liệu sẽ luôn ở trạng thái mới.</li>
<li>Khi người dùng bấm save, dữ liệu cần được kiểm tra (validate) - ở đây chỉ cần kiểm tra link phải là dạng liên kết là được.</li>
<li>Sau khi dữ liệu hợp lệ, dữ liệu sẽ được truyền ngược trở lại component cha là &ldquo;LinkManagementContainer&rdquo; để cập nhật state và render lại list link được hiển thị, link mới được cập nhật sẽ được hiển thị trên cùng.</li>
</ul>
<p>Cùng xem xét cách show 1 modal trong bootstrap</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal&#34;</span> <span style=color:#a6e22e>tabindex</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;-1&#34;</span>&gt;
  &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal-dialog&#34;</span>&gt;
    &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal-content&#34;</span>&gt;
      &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal-header&#34;</span>&gt;
        &lt;<span style=color:#f92672>h5</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal-title&#34;</span>&gt;Modal title&lt;/<span style=color:#f92672>h5</span>&gt;
        &lt;<span style=color:#f92672>button</span>
          <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
          <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn-close&#34;</span>
          <span style=color:#a6e22e>data-bs-dismiss</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal&#34;</span>
          <span style=color:#a6e22e>aria-label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Close&#34;</span>
        &gt;&lt;/<span style=color:#f92672>button</span>&gt;
      &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal-body&#34;</span>&gt;
        &lt;<span style=color:#f92672>p</span>&gt;Modal body text goes here.&lt;/<span style=color:#f92672>p</span>&gt;
      &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal-footer&#34;</span>&gt;
        &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-secondary&#34;</span> <span style=color:#a6e22e>data-bs-dismiss</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal&#34;</span>&gt;
          Close
        &lt;/<span style=color:#f92672>button</span>&gt;
        &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span> <span style=color:#a6e22e>class</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span>&gt;Save changes&lt;/<span style=color:#f92672>button</span>&gt;
      &lt;/<span style=color:#f92672>div</span>&gt;
    &lt;/<span style=color:#f92672>div</span>&gt;
  &lt;/<span style=color:#f92672>div</span>&gt;
&lt;/<span style=color:#f92672>div</span>&gt;
</code></pre></div><p>Để điều khiển modal này ẩn hiện các anh/chị cần dùng đoạn javascript như sau</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>myModal</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>bootstrap</span>.<span style=color:#a6e22e>Modal</span>(document.<span style=color:#a6e22e>getElementById</span>(<span style=color:#e6db74>&#34;myModal&#34;</span>), {
  <span style=color:#a6e22e>backdrop</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
  <span style=color:#a6e22e>focus</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
  <span style=color:#a6e22e>keyboard</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
});
<span style=color:#75715e>// open modal
</span><span style=color:#75715e></span><span style=color:#a6e22e>myModal</span>.<span style=color:#a6e22e>show</span>();
<span style=color:#75715e>// close modal
</span><span style=color:#75715e></span><span style=color:#a6e22e>myModal</span>.<span style=color:#a6e22e>close</span>();
</code></pre></div><p>Trong bước này, chúng ta có 3 hướng xử lý:</p>
<p><strong>1. Hướng thứ 1: tạo 1 component duy nhất, nhận prop là link để phân biệt 2 trường hợp: add và edit.</strong></p>
<ul>
<li>Để sử dụng được modal theo như doc của bootstrap, lúc này các anh/chị cần tìm cách khởi tạo được modal bằng cách truyền DOM Element của Modal chứa LinkForm.</li>
<li>Và modal sau khi khởi tạo xong, cũng không cần thiết phải trigger việc render lại.</li>
</ul>
<p>ReactJS có giới thiệu cho các anh/chị 1 hook <strong>useRef</strong> để áp dụng trong trường hợp này.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useCallback</span>, <span style=color:#a6e22e>useEffect</span>, <span style=color:#a6e22e>useRef</span>, <span style=color:#a6e22e>useState</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#34;./App.css&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>LinkFormComponent</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./components/LinkFormComponent&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>enviroment</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./shared/environment&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Modal</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;bootstrap&#34;</span>;

<span style=color:#66d9ef>function</span> <span style=color:#a6e22e>App</span>() {
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>linkFormComponentModalInstance</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRef</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>linkFormComponentModal</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRef</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>editLink</span>, <span style=color:#a6e22e>setEditLink</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onNewLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>e</span>) =&gt; {
    <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>) {
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;new modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
      <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Modal</span>(
        <span style=color:#a6e22e>linkFormComponentModal</span>.<span style=color:#a6e22e>current</span>,
        {
          <span style=color:#a6e22e>backdrop</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
          <span style=color:#a6e22e>focus</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
          <span style=color:#a6e22e>keyboard</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
        }
      );
      <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>show</span>();
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;created modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
      <span style=color:#66d9ef>return</span>;
    }
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;existing modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
    <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>show</span>();
  };
  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>nav</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar navbar-expand-lg&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;container-fluid&#34;</span>&gt;
          &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-brand&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;
            &lt;<span style=color:#f92672>img</span>
              <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://nextjsvietnam.com/themes/2022/src/assets/images/logo.png&#34;</span>
              <span style=color:#a6e22e>alt</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Bootstrap&#34;</span>
            /&gt;
          &lt;/<span style=color:#f92672>a</span>&gt;
          &lt;<span style=color:#f92672>button</span>
            <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-toggler&#34;</span>
            <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
            <span style=color:#a6e22e>data</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>bs</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>toggle</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;collapse&#34;</span>
            <span style=color:#a6e22e>data</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>bs</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>target</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#navbarNav&#34;</span>
            <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>controls</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbarNav&#34;</span>
            <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>expanded</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;false&#34;</span>
            <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Toggle navigation&#34;</span>
          &gt;
            &lt;<span style=color:#f92672>span</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-toggler-icon&#34;</span>&gt;&lt;/<span style=color:#f92672>span</span>&gt;
          &lt;/<span style=color:#f92672>button</span>&gt;
          &lt;<span style=color:#f92672>div</span>
            <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;collapse navbar-collapse justify-content-end&#34;</span>
            <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbarNav&#34;</span>
          &gt;
            &lt;<span style=color:#f92672>ul</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-nav&#34;</span>&gt;
              &lt;<span style=color:#f92672>li</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-item&#34;</span>&gt;
                &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-link active&#34;</span> <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>current</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;page&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;
                  {<span style=color:#a6e22e>enviroment</span>.<span style=color:#a6e22e>APP_NAME</span>}
                &lt;/<span style=color:#f92672>a</span>&gt;
              &lt;/<span style=color:#f92672>li</span>&gt;
            &lt;/<span style=color:#f92672>ul</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>nav</span>&gt;
      &lt;<span style=color:#f92672>main</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mt-4&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card&#34;</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-header text-bg-primary&#34;</span>&gt;
            &lt;<span style=color:#f92672>h3</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-title&#34;</span>&gt;<span style=color:#a6e22e>Links</span>&lt;/<span style=color:#f92672>h3</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-body&#34;</span>&gt;
            &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;d-flex justify-content-end&#34;</span>&gt;
              &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onNewLink</span>}&gt;
                <span style=color:#a6e22e>New</span> <span style=color:#a6e22e>Link</span>
              &lt;/<span style=color:#f92672>button</span>&gt;
            &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>main</span>&gt;
      &lt;<span style=color:#f92672>footer</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mt-4&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;container&#34;</span>&gt;
          &lt;<span style=color:#f92672>p</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text-center&#34;</span>&gt;
            <span style=color:#a6e22e>Copyright</span><span style=color:#960050;background-color:#1e0010>@</span><span style=color:#a6e22e>JSBase</span> <span style=color:#f92672>-</span> {<span style=color:#a6e22e>enviroment</span>.<span style=color:#a6e22e>APP_VERSION</span>} <span style=color:#f92672>-</span> {<span style=color:#a6e22e>enviroment</span>.<span style=color:#a6e22e>MODE</span>}
          &lt;/<span style=color:#f92672>p</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>footer</span>&gt;
      &lt;<span style=color:#f92672>LinkFormComponent</span>
        <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;LinkFormComponent&#34;</span>
        <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal&#34;</span>
        <span style=color:#a6e22e>tabIndex</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;-1&#34;</span>
        <span style=color:#a6e22e>ref</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>linkFormComponentModal</span>}
        <span style=color:#a6e22e>link</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>editLink</span>}
      &gt;&lt;/<span style=color:#f92672>LinkFormComponent</span>&gt;
    &lt;/&gt;
  );
}

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>App</span>;
</code></pre></div><p>Tuy nhiên khi sử dụng ref cho function component, ReactJS sẽ hiện thị ra lỗi bên dưới.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>react-dom.development.js:86 Warning: Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef<span style=color:#f92672>()</span>?
</code></pre></div><p>Lí do là ref chỉ xài được cho các native HTML Element, trường hợp anh/chị muốn sử dụng cho ReactComponent cần làm theo cú pháp sau. Do đó anh/chị cần refactor lại đoạn code trên 1 chút.</p>
<blockquote>
<p>App.jsx</p>
</blockquote>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useCallback</span>, <span style=color:#a6e22e>useEffect</span>, <span style=color:#a6e22e>useRef</span>, <span style=color:#a6e22e>useState</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#34;./App.css&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>LinkFormComponent</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./components/LinkFormComponent&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>enviroment</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./shared/environment&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Modal</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;bootstrap&#34;</span>;

<span style=color:#66d9ef>function</span> <span style=color:#a6e22e>App</span>() {
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>linkFormComponentModalInstance</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRef</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>linkFormComponentModal</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRef</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>editLink</span>, <span style=color:#a6e22e>setEditLink</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onNewLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>e</span>) =&gt; {
    <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>) {
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;new modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
      <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Modal</span>(
        <span style=color:#a6e22e>linkFormComponentModal</span>.<span style=color:#a6e22e>current</span>,
        {
          <span style=color:#a6e22e>backdrop</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
          <span style=color:#a6e22e>focus</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
          <span style=color:#a6e22e>keyboard</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
        }
      );
      <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>show</span>();
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;created modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
      <span style=color:#66d9ef>return</span>;
    }
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;existing modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
    <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>show</span>();
  };
  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>nav</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar navbar-expand-lg&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;container-fluid&#34;</span>&gt;
          &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-brand&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;
            &lt;<span style=color:#f92672>img</span>
              <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://nextjsvietnam.com/themes/2022/src/assets/images/logo.png&#34;</span>
              <span style=color:#a6e22e>alt</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Bootstrap&#34;</span>
            /&gt;
          &lt;/<span style=color:#f92672>a</span>&gt;
          &lt;<span style=color:#f92672>button</span>
            <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-toggler&#34;</span>
            <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
            <span style=color:#a6e22e>data</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>bs</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>toggle</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;collapse&#34;</span>
            <span style=color:#a6e22e>data</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>bs</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>target</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#navbarNav&#34;</span>
            <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>controls</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbarNav&#34;</span>
            <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>expanded</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;false&#34;</span>
            <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Toggle navigation&#34;</span>
          &gt;
            &lt;<span style=color:#f92672>span</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-toggler-icon&#34;</span>&gt;&lt;/<span style=color:#f92672>span</span>&gt;
          &lt;/<span style=color:#f92672>button</span>&gt;
          &lt;<span style=color:#f92672>div</span>
            <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;collapse navbar-collapse justify-content-end&#34;</span>
            <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbarNav&#34;</span>
          &gt;
            &lt;<span style=color:#f92672>ul</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-nav&#34;</span>&gt;
              &lt;<span style=color:#f92672>li</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-item&#34;</span>&gt;
                &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-link active&#34;</span> <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>current</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;page&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;
                  {<span style=color:#a6e22e>enviroment</span>.<span style=color:#a6e22e>APP_NAME</span>}
                &lt;/<span style=color:#f92672>a</span>&gt;
              &lt;/<span style=color:#f92672>li</span>&gt;
            &lt;/<span style=color:#f92672>ul</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>nav</span>&gt;
      &lt;<span style=color:#f92672>main</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mt-4&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card&#34;</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-header text-bg-primary&#34;</span>&gt;
            &lt;<span style=color:#f92672>h3</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-title&#34;</span>&gt;<span style=color:#a6e22e>Links</span>&lt;/<span style=color:#f92672>h3</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-body&#34;</span>&gt;
            &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;d-flex justify-content-end&#34;</span>&gt;
              &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onNewLink</span>}&gt;
                <span style=color:#a6e22e>New</span> <span style=color:#a6e22e>Link</span>
              &lt;/<span style=color:#f92672>button</span>&gt;
            &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>main</span>&gt;
      &lt;<span style=color:#f92672>footer</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mt-4&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;container&#34;</span>&gt;
          &lt;<span style=color:#f92672>p</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text-center&#34;</span>&gt;
            <span style=color:#a6e22e>Copyright</span><span style=color:#960050;background-color:#1e0010>@</span><span style=color:#a6e22e>JSBase</span> <span style=color:#f92672>-</span> {<span style=color:#a6e22e>enviroment</span>.<span style=color:#a6e22e>APP_VERSION</span>} <span style=color:#f92672>-</span> {<span style=color:#a6e22e>enviroment</span>.<span style=color:#a6e22e>MODE</span>}
          &lt;/<span style=color:#f92672>p</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>footer</span>&gt;
      &lt;<span style=color:#f92672>LinkFormComponent</span>
        <span style=color:#a6e22e>ref</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>linkFormComponentModal</span>}
        <span style=color:#a6e22e>link</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>editLink</span>}
      &gt;&lt;/<span style=color:#f92672>LinkFormComponent</span>&gt;
    &lt;/&gt;
  );
}

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>App</span>;
</code></pre></div><blockquote>
<p>src\components\LinkFormComponent.jsx</p>
</blockquote>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>forwardRef</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>LinkFormComponent</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>forwardRef</span>(({ <span style=color:#a6e22e>link</span>, ...<span style=color:#a6e22e>props</span> }, <span style=color:#a6e22e>ref</span>) =&gt; {
  <span style=color:#66d9ef>return</span> (
    &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;LinkFormComponent&#34;</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal&#34;</span> <span style=color:#a6e22e>tabIndex</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;-1&#34;</span> <span style=color:#a6e22e>ref</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>ref</span>}&gt;
      &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal-dialog&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal-content&#34;</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal-header&#34;</span>&gt;
            &lt;<span style=color:#f92672>h5</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal-title&#34;</span>&gt;{<span style=color:#a6e22e>link</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#34;Edit Link&#34;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Add Link&#34;</span>}&lt;/<span style=color:#f92672>h5</span>&gt;
            &lt;<span style=color:#f92672>button</span>
              <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
              <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn-close&#34;</span>
              <span style=color:#a6e22e>data</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>bs</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>dismiss</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal&#34;</span>
              <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Close&#34;</span>
            &gt;&lt;/<span style=color:#f92672>button</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal-body&#34;</span>&gt;
            &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mb-3&#34;</span>&gt;
              &lt;<span style=color:#f92672>label</span> <span style=color:#a6e22e>htmlFor</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;exampleFormControlInput1&#34;</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;form-label&#34;</span>&gt;
                <span style=color:#a6e22e>Email</span> <span style=color:#a6e22e>address</span>
              &lt;/<span style=color:#f92672>label</span>&gt;
              &lt;<span style=color:#f92672>input</span>
                <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;email&#34;</span>
                <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;form-control&#34;</span>
                <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;exampleFormControlInput1&#34;</span>
                <span style=color:#a6e22e>placeholder</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;name@example.com&#34;</span>
              /&gt;
            &lt;/<span style=color:#f92672>div</span>&gt;
            &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mb-3&#34;</span>&gt;
              &lt;<span style=color:#f92672>label</span>
                <span style=color:#a6e22e>htmlFor</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;exampleFormControlTextarea1&#34;</span>
                <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;form-label&#34;</span>
              &gt;
                <span style=color:#a6e22e>Example</span> <span style=color:#a6e22e>textarea</span>
              &lt;/<span style=color:#f92672>label</span>&gt;
              &lt;<span style=color:#f92672>textarea</span>
                <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;form-control&#34;</span>
                <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;exampleFormControlTextarea1&#34;</span>
                <span style=color:#a6e22e>rows</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;3&#34;</span>
              &gt;&lt;/<span style=color:#f92672>textarea</span>&gt;
            &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal-footer&#34;</span>&gt;
            &lt;<span style=color:#f92672>button</span>
              <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
              <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-secondary&#34;</span>
              <span style=color:#a6e22e>data</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>bs</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>dismiss</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal&#34;</span>
            &gt;
              <span style=color:#a6e22e>Close</span>
            &lt;/<span style=color:#f92672>button</span>&gt;
            &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span>&gt;
              <span style=color:#a6e22e>Save</span> <span style=color:#a6e22e>changes</span>
            &lt;/<span style=color:#f92672>button</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>div</span>&gt;
    &lt;/<span style=color:#f92672>div</span>&gt;
  );
});

<span style=color:#a6e22e>LinkFormComponent</span>.<span style=color:#a6e22e>displayName</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;LinkFormComponent&#34;</span>;

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>LinkFormComponent</span>;
</code></pre></div><p>Tuy nhiên, anh/chị cần điều chỉnh một chút vì LinkFormComponent sẽ xài chung cho cả hai trường hợp</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useCallback</span>, <span style=color:#a6e22e>useEffect</span>, <span style=color:#a6e22e>useRef</span>, <span style=color:#a6e22e>useState</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#34;./App.css&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>LinkFormComponent</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./components/LinkFormComponent&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>enviroment</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./shared/environment&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Modal</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;bootstrap&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useImmer</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;use-immer&#34;</span>;

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>LINK_TYPE</span> <span style=color:#f92672>=</span> {
  <span style=color:#a6e22e>LINK</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;link&#34;</span>,
  <span style=color:#a6e22e>YOUTUBE</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;youtube&#34;</span>,
  <span style=color:#a6e22e>IMAGE</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;image&#34;</span>,
};

<span style=color:#66d9ef>function</span> <span style=color:#a6e22e>App</span>() {
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>linkFormComponentModalInstance</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRef</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>linkFormComponentModal</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRef</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>editLink</span>, <span style=color:#a6e22e>setEditLink</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>links</span>, <span style=color:#a6e22e>setLinks</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useImmer</span>([
    {
      <span style=color:#a6e22e>id</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>,
      <span style=color:#a6e22e>link</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;https://nextjsvietnam.com&#34;</span>,
      <span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;https://nextjsvietnam.com&#34;</span>,
      <span style=color:#a6e22e>type</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>LINK</span>,
    },
  ]);

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>openModal</span> <span style=color:#f92672>=</span> () =&gt; {
    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>) {
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;new modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
      <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Modal</span>(
        <span style=color:#a6e22e>linkFormComponentModal</span>.<span style=color:#a6e22e>current</span>,
        {
          <span style=color:#a6e22e>backdrop</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
          <span style=color:#a6e22e>focus</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
          <span style=color:#a6e22e>keyboard</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
        }
      );
      <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>show</span>();
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;created modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
      <span style=color:#75715e>// handler event close
</span><span style=color:#75715e></span>      <span style=color:#a6e22e>linkFormComponentModal</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#34;hide.bs.modal&#34;</span>, () =&gt; {
        <span style=color:#75715e>// reset state
</span><span style=color:#75715e></span>        <span style=color:#a6e22e>setEditLink</span>(<span style=color:#66d9ef>null</span>);
      });
      <span style=color:#66d9ef>return</span>;
    }
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;existing modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
    <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>show</span>();
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onNewLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>e</span>) =&gt; {
    <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
    <span style=color:#a6e22e>openModal</span>();
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onEditLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>link</span>) =&gt; {
    <span style=color:#75715e>// set editLink
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>setEditLink</span>(<span style=color:#a6e22e>link</span>);
    <span style=color:#75715e>// open modal
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>openModal</span>();
  };

  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>nav</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar navbar-expand-lg&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;container-fluid&#34;</span>&gt;
          &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-brand&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;
            &lt;<span style=color:#f92672>img</span>
              <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://nextjsvietnam.com/themes/2022/src/assets/images/logo.png&#34;</span>
              <span style=color:#a6e22e>alt</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Bootstrap&#34;</span>
            /&gt;
          &lt;/<span style=color:#f92672>a</span>&gt;
          &lt;<span style=color:#f92672>button</span>
            <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-toggler&#34;</span>
            <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
            <span style=color:#a6e22e>data</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>bs</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>toggle</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;collapse&#34;</span>
            <span style=color:#a6e22e>data</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>bs</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>target</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#navbarNav&#34;</span>
            <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>controls</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbarNav&#34;</span>
            <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>expanded</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;false&#34;</span>
            <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Toggle navigation&#34;</span>
          &gt;
            &lt;<span style=color:#f92672>span</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-toggler-icon&#34;</span>&gt;&lt;/<span style=color:#f92672>span</span>&gt;
          &lt;/<span style=color:#f92672>button</span>&gt;
          &lt;<span style=color:#f92672>div</span>
            <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;collapse navbar-collapse justify-content-end&#34;</span>
            <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbarNav&#34;</span>
          &gt;
            &lt;<span style=color:#f92672>ul</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-nav&#34;</span>&gt;
              &lt;<span style=color:#f92672>li</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-item&#34;</span>&gt;
                &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-link active&#34;</span> <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>current</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;page&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;
                  {<span style=color:#a6e22e>enviroment</span>.<span style=color:#a6e22e>APP_NAME</span>}
                &lt;/<span style=color:#f92672>a</span>&gt;
              &lt;/<span style=color:#f92672>li</span>&gt;
            &lt;/<span style=color:#f92672>ul</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>nav</span>&gt;
      &lt;<span style=color:#f92672>main</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mt-4&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card&#34;</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-header text-bg-primary&#34;</span>&gt;
            &lt;<span style=color:#f92672>h3</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-title&#34;</span>&gt;<span style=color:#a6e22e>Links</span>&lt;/<span style=color:#f92672>h3</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-body&#34;</span>&gt;
            &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;d-flex justify-content-end&#34;</span>&gt;
              &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onNewLink</span>}&gt;
                <span style=color:#a6e22e>New</span> <span style=color:#a6e22e>Link</span>
              &lt;/<span style=color:#f92672>button</span>&gt;
            &lt;/<span style=color:#f92672>div</span>&gt;
            &lt;<span style=color:#f92672>div</span>&gt;
              {<span style=color:#a6e22e>links</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>link</span>) =&gt; (
                &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>key</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>}&gt;
                  &lt;<span style=color:#f92672>h4</span>&gt;{<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>title</span>}&lt;/<span style=color:#f92672>h4</span>&gt;
                  &lt;<span style=color:#f92672>button</span>
                    <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
                    <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-warning&#34;</span>
                    <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{() =&gt; {
                      <span style=color:#a6e22e>onEditLink</span>(<span style=color:#a6e22e>link</span>);
                    }}
                  &gt;
                    <span style=color:#a6e22e>Edit</span>
                  &lt;/<span style=color:#f92672>button</span>&gt;
                &lt;/<span style=color:#f92672>div</span>&gt;
              ))}
            &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>main</span>&gt;
      &lt;<span style=color:#f92672>footer</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mt-4&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;container&#34;</span>&gt;
          &lt;<span style=color:#f92672>p</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text-center&#34;</span>&gt;
            <span style=color:#a6e22e>Copyright</span><span style=color:#960050;background-color:#1e0010>@</span><span style=color:#a6e22e>JSBase</span> <span style=color:#f92672>-</span> {<span style=color:#a6e22e>enviroment</span>.<span style=color:#a6e22e>APP_VERSION</span>} <span style=color:#f92672>-</span> {<span style=color:#a6e22e>enviroment</span>.<span style=color:#a6e22e>MODE</span>}
          &lt;/<span style=color:#f92672>p</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>footer</span>&gt;
      &lt;<span style=color:#f92672>LinkFormComponent</span>
        <span style=color:#a6e22e>ref</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>linkFormComponentModal</span>}
        <span style=color:#a6e22e>link</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>editLink</span>}
      &gt;&lt;/<span style=color:#f92672>LinkFormComponent</span>&gt;
    &lt;/&gt;
  );
}

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>App</span>;
</code></pre></div><blockquote>
<p>Truyền lại newLinkData cho LinkManagementContainer</p>
</blockquote>
<p>Cách thông thường nhất trong ReactJS là các anh/chị sẽ truyền 1 function trong component cha nhận param là newLinkData và cập nhật lại state tại component cha.</p>
<blockquote>
<p>App.jsx</p>
</blockquote>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useCallback</span>, <span style=color:#a6e22e>useEffect</span>, <span style=color:#a6e22e>useRef</span>, <span style=color:#a6e22e>useState</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#34;./App.css&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>LinkFormComponent</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./components/LinkFormComponent&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>enviroment</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./shared/environment&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Modal</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;bootstrap&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useImmer</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;use-immer&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>PaginationComponent</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./components/PaginationComponent&#34;</span>;

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>LINK_TYPE</span> <span style=color:#f92672>=</span> {
  <span style=color:#a6e22e>LINK</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;link&#34;</span>,
  <span style=color:#a6e22e>YOUTUBE</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;youtube&#34;</span>,
  <span style=color:#a6e22e>IMAGE</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;image&#34;</span>,
};

<span style=color:#66d9ef>function</span> <span style=color:#a6e22e>App</span>() {
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>linkFormComponentModalInstance</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRef</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>linkFormComponentModal</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRef</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>editLink</span>, <span style=color:#a6e22e>setEditLink</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>links</span>, <span style=color:#a6e22e>setLinks</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useImmer</span>([
    {
      <span style=color:#a6e22e>id</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>,
      <span style=color:#a6e22e>link</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;https://nextjsvietnam.com&#34;</span>,
      <span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;https://nextjsvietnam.com&#34;</span>,
      <span style=color:#a6e22e>type</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>LINK</span>,
      <span style=color:#a6e22e>publishedDate</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>new</span> Date(),
    },
  ]);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>paginator</span>, <span style=color:#a6e22e>setPaginator</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useImmer</span>({
    <span style=color:#a6e22e>currentPage</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>,
    <span style=color:#a6e22e>numberOfPages</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>10</span>,
    <span style=color:#a6e22e>rowsPerPage</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>5</span>,
    <span style=color:#a6e22e>numberOfItems</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>50</span>,
  });

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>openModal</span> <span style=color:#f92672>=</span> () =&gt; {
    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>) {
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;new modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
      <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Modal</span>(
        <span style=color:#a6e22e>linkFormComponentModal</span>.<span style=color:#a6e22e>current</span>,
        {
          <span style=color:#a6e22e>backdrop</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
          <span style=color:#a6e22e>focus</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
          <span style=color:#a6e22e>keyboard</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
        }
      );
      <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>show</span>();
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;created modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
      <span style=color:#75715e>// handler event close
</span><span style=color:#75715e></span>      <span style=color:#a6e22e>linkFormComponentModal</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#34;hide.bs.modal&#34;</span>, () =&gt; {
        <span style=color:#75715e>// reset state
</span><span style=color:#75715e></span>        <span style=color:#a6e22e>setEditLink</span>(<span style=color:#66d9ef>null</span>);
      });
      <span style=color:#66d9ef>return</span>;
    }
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;existing modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
    <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>show</span>();
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>closeModal</span> <span style=color:#f92672>=</span> () =&gt; {
    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>) {
      <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>hide</span>();
    }
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onNewLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>e</span>) =&gt; {
    <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
    <span style=color:#a6e22e>openModal</span>();
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onEditLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>link</span>) =&gt; {
    <span style=color:#75715e>// set editLink
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>setEditLink</span>(<span style=color:#a6e22e>link</span>);
    <span style=color:#75715e>// open modal
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>openModal</span>();
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onSaveLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>data</span>) =&gt; {
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>link</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>structuredClone</span>(<span style=color:#a6e22e>data</span>);
    <span style=color:#75715e>// new link has no id
</span><span style=color:#75715e></span>    <span style=color:#75715e>// existed link has id
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>link</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span><span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>) {
      <span style=color:#a6e22e>setLinks</span>((<span style=color:#a6e22e>linkList</span>) =&gt; {
        <span style=color:#a6e22e>Reflect</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>link</span>, <span style=color:#e6db74>&#34;id&#34;</span>, Date.<span style=color:#a6e22e>now</span>());
        <span style=color:#a6e22e>Reflect</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>link</span>, <span style=color:#e6db74>&#34;publishedDate&#34;</span>, <span style=color:#66d9ef>new</span> Date());
        <span style=color:#a6e22e>linkList</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>link</span>);
      });
      <span style=color:#75715e>// close modal
</span><span style=color:#75715e></span>      <span style=color:#a6e22e>closeModal</span>();
      <span style=color:#66d9ef>return</span>;
    }
    <span style=color:#75715e>// otherwise edit mode
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>link</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>) {
      <span style=color:#a6e22e>setLinks</span>((<span style=color:#a6e22e>linkList</span>) =&gt; {
        <span style=color:#a6e22e>Reflect</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>link</span>, <span style=color:#e6db74>&#34;publishedDate&#34;</span>, <span style=color:#66d9ef>new</span> Date());
        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>editLinkIndex</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>linkList</span>.<span style=color:#a6e22e>findIndex</span>((<span style=color:#a6e22e>l</span>) =&gt; <span style=color:#a6e22e>l</span>.<span style=color:#a6e22e>id</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>);
        <span style=color:#a6e22e>linkList</span>[<span style=color:#a6e22e>editLinkIndex</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>link</span>;
      });
      <span style=color:#75715e>// close modal
</span><span style=color:#75715e></span>      <span style=color:#a6e22e>closeModal</span>();
      <span style=color:#66d9ef>return</span>;
    }
  };
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onChangeCurrentPage</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>newCurrentPage</span>) =&gt; {
    <span style=color:#a6e22e>setPaginator</span>((<span style=color:#a6e22e>p</span>) =&gt; {
      <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>currentPage</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>newCurrentPage</span>;
    });
  };

  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>nav</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar navbar-expand-lg&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;container-fluid&#34;</span>&gt;
          &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-brand&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;
            &lt;<span style=color:#f92672>img</span>
              <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://nextjsvietnam.com/themes/2022/src/assets/images/logo.png&#34;</span>
              <span style=color:#a6e22e>alt</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Bootstrap&#34;</span>
            /&gt;
          &lt;/<span style=color:#f92672>a</span>&gt;
          &lt;<span style=color:#f92672>button</span>
            <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-toggler&#34;</span>
            <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
            <span style=color:#a6e22e>data</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>bs</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>toggle</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;collapse&#34;</span>
            <span style=color:#a6e22e>data</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>bs</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>target</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#navbarNav&#34;</span>
            <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>controls</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbarNav&#34;</span>
            <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>expanded</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;false&#34;</span>
            <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Toggle navigation&#34;</span>
          &gt;
            &lt;<span style=color:#f92672>span</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-toggler-icon&#34;</span>&gt;&lt;/<span style=color:#f92672>span</span>&gt;
          &lt;/<span style=color:#f92672>button</span>&gt;
          &lt;<span style=color:#f92672>div</span>
            <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;collapse navbar-collapse justify-content-end&#34;</span>
            <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbarNav&#34;</span>
          &gt;
            &lt;<span style=color:#f92672>ul</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-nav&#34;</span>&gt;
              &lt;<span style=color:#f92672>li</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-item&#34;</span>&gt;
                &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-link active&#34;</span> <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>current</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;page&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;
                  {<span style=color:#a6e22e>enviroment</span>.<span style=color:#a6e22e>APP_NAME</span>}
                &lt;/<span style=color:#f92672>a</span>&gt;
              &lt;/<span style=color:#f92672>li</span>&gt;
            &lt;/<span style=color:#f92672>ul</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>nav</span>&gt;
      &lt;<span style=color:#f92672>main</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mt-4&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card&#34;</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-header text-bg-primary&#34;</span>&gt;
            &lt;<span style=color:#f92672>h3</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-title&#34;</span>&gt;<span style=color:#a6e22e>Links</span>&lt;/<span style=color:#f92672>h3</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-body&#34;</span>&gt;
            &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;d-flex justify-content-end&#34;</span>&gt;
              &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onNewLink</span>}&gt;
                <span style=color:#a6e22e>New</span> <span style=color:#a6e22e>Link</span>
              &lt;/<span style=color:#f92672>button</span>&gt;
            &lt;/<span style=color:#f92672>div</span>&gt;
            &lt;<span style=color:#f92672>div</span>&gt;
              {<span style=color:#a6e22e>links</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>link</span>) =&gt; (
                &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>key</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>}&gt;
                  &lt;<span style=color:#f92672>h4</span>&gt;
                    &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>rel</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;noreferrer&#34;</span> <span style=color:#a6e22e>target</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;_blank&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>link</span>}&gt;
                      {<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>title</span>}
                    &lt;/<span style=color:#f92672>a</span>&gt;
                  &lt;/<span style=color:#f92672>h4</span>&gt;
                  &lt;<span style=color:#f92672>span</span>&gt;
                    {<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>publishedDate</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>publishedDate</span>.<span style=color:#a6e22e>toISOString</span>()}
                  &lt;/<span style=color:#f92672>span</span>&gt;
                  &lt;<span style=color:#f92672>button</span>
                    <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
                    <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-warning&#34;</span>
                    <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{() =&gt; {
                      <span style=color:#a6e22e>onEditLink</span>(<span style=color:#a6e22e>link</span>);
                    }}
                  &gt;
                    <span style=color:#a6e22e>Edit</span>
                  &lt;/<span style=color:#f92672>button</span>&gt;
                &lt;/<span style=color:#f92672>div</span>&gt;
              ))}
            &lt;/<span style=color:#f92672>div</span>&gt;
            &lt;<span style=color:#f92672>PaginationComponent</span>
              <span style=color:#a6e22e>numberOfPages</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>paginator</span>.<span style=color:#a6e22e>numberOfPages</span>}
              <span style=color:#a6e22e>currentPage</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>paginator</span>.<span style=color:#a6e22e>currentPage</span>}
              <span style=color:#a6e22e>onChangeCurrentPage</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onChangeCurrentPage</span>}
            /&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>main</span>&gt;
      &lt;<span style=color:#f92672>footer</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mt-4&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;container&#34;</span>&gt;
          &lt;<span style=color:#f92672>p</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text-center&#34;</span>&gt;
            <span style=color:#a6e22e>Copyright</span><span style=color:#960050;background-color:#1e0010>@</span><span style=color:#a6e22e>JSBase</span> <span style=color:#f92672>-</span> {<span style=color:#a6e22e>enviroment</span>.<span style=color:#a6e22e>APP_VERSION</span>} <span style=color:#f92672>-</span> {<span style=color:#a6e22e>enviroment</span>.<span style=color:#a6e22e>MODE</span>}
          &lt;/<span style=color:#f92672>p</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>footer</span>&gt;
      &lt;<span style=color:#f92672>LinkFormComponent</span>
        <span style=color:#a6e22e>ref</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>linkFormComponentModal</span>}
        <span style=color:#a6e22e>link</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>editLink</span>}
        <span style=color:#a6e22e>onSaveLink</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onSaveLink</span>}
      &gt;&lt;/<span style=color:#f92672>LinkFormComponent</span>&gt;
    &lt;/&gt;
  );
}

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>App</span>;
</code></pre></div><blockquote>
<p>src\components\LinkFormComponent.jsx</p>
</blockquote>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>forwardRef</span>, <span style=color:#a6e22e>useEffect</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useImmer</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;use-immer&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>LinkFormComponent</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>forwardRef</span>(({ <span style=color:#a6e22e>link</span>, <span style=color:#a6e22e>onSaveLink</span>, ...<span style=color:#a6e22e>props</span> }, <span style=color:#a6e22e>ref</span>) =&gt; {
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>formData</span>, <span style=color:#a6e22e>setFormData</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useImmer</span>({
    <span style=color:#a6e22e>link</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;&#34;</span>,
    <span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;&#34;</span>,
  });
  <span style=color:#75715e>// ref handler event
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>useEffect</span>(() =&gt; {
    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>ref</span>) {
      <span style=color:#a6e22e>ref</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#34;hide.bs.modal&#34;</span>, () =&gt; {
        <span style=color:#75715e>// reset state
</span><span style=color:#75715e></span>        <span style=color:#a6e22e>setFormData</span>({ <span style=color:#a6e22e>link</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;&#34;</span>, <span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;&#34;</span> });
      });
    }
  }, [<span style=color:#a6e22e>ref</span>]);
  <span style=color:#75715e>// watch change for link
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>useEffect</span>(() =&gt; {
    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>link</span>) {
      <span style=color:#a6e22e>setFormData</span>(() =&gt; {
        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>link</span>;
      });
    }
  }, [<span style=color:#a6e22e>link</span>]);
  <span style=color:#75715e>// watch change for fields
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onFieldChange</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>e</span>) =&gt; {
    <span style=color:#a6e22e>setFormData</span>((<span style=color:#a6e22e>v</span>) =&gt; {
      <span style=color:#a6e22e>v</span>[<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>target</span>.<span style=color:#a6e22e>name</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>target</span>.<span style=color:#a6e22e>value</span>;
    });
  };
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onSaveChanges</span> <span style=color:#f92672>=</span> () =&gt; {
    <span style=color:#a6e22e>onSaveLink</span>(<span style=color:#a6e22e>formData</span>);
    <span style=color:#75715e>// close modal
</span><span style=color:#75715e></span>  };

  <span style=color:#66d9ef>return</span> (
    &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;LinkFormComponent&#34;</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal&#34;</span> <span style=color:#a6e22e>tabIndex</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;-1&#34;</span> <span style=color:#a6e22e>ref</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>ref</span>}&gt;
      &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal-dialog&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal-content&#34;</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal-header&#34;</span>&gt;
            &lt;<span style=color:#f92672>h5</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal-title&#34;</span>&gt;{<span style=color:#a6e22e>link</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#34;Edit Link&#34;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Add Link&#34;</span>}&lt;/<span style=color:#f92672>h5</span>&gt;
            &lt;<span style=color:#f92672>button</span>
              <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
              <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn-close&#34;</span>
              <span style=color:#a6e22e>data</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>bs</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>dismiss</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal&#34;</span>
              <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Close&#34;</span>
            &gt;&lt;/<span style=color:#f92672>button</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal-body&#34;</span>&gt;
            {<span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>stringify</span>(<span style=color:#a6e22e>link</span>)}
            {<span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>stringify</span>(<span style=color:#a6e22e>formData</span>)}
            &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mb-3&#34;</span>&gt;
              &lt;<span style=color:#f92672>label</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;form-label&#34;</span>&gt;<span style=color:#a6e22e>Link</span>&lt;/<span style=color:#f92672>label</span>&gt;
              &lt;<span style=color:#f92672>input</span>
                <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;link&#34;</span>
                <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;link&#34;</span>
                <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;form-control&#34;</span>
                <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>formData</span>.<span style=color:#a6e22e>link</span>}
                <span style=color:#a6e22e>onChange</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onFieldChange</span>}
              /&gt;
            &lt;/<span style=color:#f92672>div</span>&gt;
            &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mb-3&#34;</span>&gt;
              &lt;<span style=color:#f92672>label</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;form-label&#34;</span>&gt;<span style=color:#a6e22e>Title</span>&lt;/<span style=color:#f92672>label</span>&gt;
              &lt;<span style=color:#f92672>input</span>
                <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text&#34;</span>
                <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;form-control&#34;</span>
                <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;title&#34;</span>
                <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>formData</span>.<span style=color:#a6e22e>title</span>}
                <span style=color:#a6e22e>onChange</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onFieldChange</span>}
              /&gt;
            &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal-footer&#34;</span>&gt;
            &lt;<span style=color:#f92672>button</span>
              <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
              <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-secondary&#34;</span>
              <span style=color:#a6e22e>data</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>bs</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>dismiss</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;modal&#34;</span>
            &gt;
              <span style=color:#a6e22e>Close</span>
            &lt;/<span style=color:#f92672>button</span>&gt;
            &lt;<span style=color:#f92672>button</span>
              <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
              <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span>
              <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onSaveChanges</span>}
            &gt;
              <span style=color:#a6e22e>Save</span> <span style=color:#a6e22e>changes</span>
            &lt;/<span style=color:#f92672>button</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>div</span>&gt;
    &lt;/<span style=color:#f92672>div</span>&gt;
  );
});

<span style=color:#a6e22e>LinkFormComponent</span>.<span style=color:#a6e22e>displayName</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;LinkFormComponent&#34;</span>;

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>LinkFormComponent</span>;
</code></pre></div><p><strong>2. Hướng thứ 2: tạo 2 component riêng biệt, mỗi trường hợp là một component.</strong></p>
<p><strong>3. Hướng thứ 3: tạo component modal, trong component modal thì gắn thêm LinkFormComponent và áp dụng hướng thứ 1 nhất, nhận prop là link để phân biệt 2 trường hợp.</strong></p>
<h5 id=32-xây-dựng-paginationcomponent>3.2. Xây dựng PaginationComponent</h5>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>PaginationComponent</span> <span style=color:#f92672>=</span> ({
  <span style=color:#a6e22e>numberOfPages</span>,
  <span style=color:#a6e22e>currentPage</span>,
  <span style=color:#a6e22e>onChangeCurrentPage</span>,
  ...<span style=color:#a6e22e>props</span>
}) =&gt; {
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>spaces</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>5</span>; <span style=color:#75715e>// 5 page links
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isDisabledPrevious</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>currentPage</span> <span style=color:#f92672>===</span> <span style=color:#ae81ff>1</span>;
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>isDisabledNext</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>currentPage</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>numberOfPages</span>;
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>pages</span> <span style=color:#f92672>=</span> [];
  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>start</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>currentPage</span> <span style=color:#f92672>&lt;</span> <span style=color:#a6e22e>spaces</span> <span style=color:#f92672>?</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>:</span> <span style=color:#a6e22e>currentPage</span> <span style=color:#f92672>-</span> Math.<span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>spaces</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>end</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>start</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>spaces</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>;
  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>end</span> <span style=color:#f92672>&gt;</span> <span style=color:#a6e22e>numberOfPages</span>) {
    <span style=color:#a6e22e>end</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>numberOfPages</span>;
    <span style=color:#a6e22e>start</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>max</span>(<span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>numberOfPages</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>spaces</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>);
  }
  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>let</span> <span style=color:#a6e22e>index</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>start</span>; <span style=color:#a6e22e>index</span> <span style=color:#f92672>&lt;=</span> <span style=color:#a6e22e>end</span>; <span style=color:#a6e22e>index</span><span style=color:#f92672>++</span>) {
    <span style=color:#a6e22e>pages</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>index</span>);
  }

  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      {<span style=color:#a6e22e>pages</span>.<span style=color:#a6e22e>length</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&amp;&amp;</span> (
        &lt;<span style=color:#f92672>nav</span>&gt;
          &lt;<span style=color:#f92672>ul</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;pagination&#34;</span>&gt;
            &lt;<span style=color:#f92672>li</span>
              <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span>{
                <span style=color:#a6e22e>isDisabledPrevious</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#34;page-item disabled&#34;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;page-item&#34;</span>
              }
            &gt;
              &lt;<span style=color:#f92672>a</span>
                <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span>{{
                  <span style=color:#a6e22e>cursor</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;pointer&#34;</span>,
                }}
                <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;page-link&#34;</span>
                <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{() =&gt; <span style=color:#a6e22e>onChangeCurrentPage</span>(<span style=color:#ae81ff>1</span>)}
              &gt;
                <span style=color:#a6e22e>First</span>
              &lt;/<span style=color:#f92672>a</span>&gt;
            &lt;/<span style=color:#f92672>li</span>&gt;
            &lt;<span style=color:#f92672>li</span>
              <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span>{
                <span style=color:#a6e22e>isDisabledPrevious</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#34;page-item disabled&#34;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;page-item&#34;</span>
              }
            &gt;
              &lt;<span style=color:#f92672>a</span>
                <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span>{{
                  <span style=color:#a6e22e>cursor</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;pointer&#34;</span>,
                }}
                <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;page-link&#34;</span>
                <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{() =&gt; <span style=color:#a6e22e>onChangeCurrentPage</span>(<span style=color:#a6e22e>currentPage</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>)}
              &gt;
                <span style=color:#a6e22e>Previous</span>
              &lt;/<span style=color:#f92672>a</span>&gt;
            &lt;/<span style=color:#f92672>li</span>&gt;
            {<span style=color:#a6e22e>pages</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>p</span>) =&gt; (
              &lt;<span style=color:#f92672>li</span> <span style=color:#a6e22e>key</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>p</span>}&gt;
                &lt;<span style=color:#f92672>a</span>
                  <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span>{{
                    <span style=color:#a6e22e>cursor</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;pointer&#34;</span>,
                  }}
                  <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{() =&gt; <span style=color:#a6e22e>onChangeCurrentPage</span>(<span style=color:#a6e22e>p</span>)}
                  <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span>{
                    <span style=color:#a6e22e>p</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>currentPage</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#34;page-link active&#34;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;page-link&#34;</span>
                  }
                &gt;
                  {<span style=color:#a6e22e>p</span>}
                &lt;/<span style=color:#f92672>a</span>&gt;
              &lt;/<span style=color:#f92672>li</span>&gt;
            ))}
            &lt;<span style=color:#f92672>li</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>isDisabledNext</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#34;page-item disabled&#34;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;page-item&#34;</span>}&gt;
              &lt;<span style=color:#f92672>a</span>
                <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span>{{
                  <span style=color:#a6e22e>cursor</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;pointer&#34;</span>,
                }}
                <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;page-link&#34;</span>
                <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{() =&gt; <span style=color:#a6e22e>onChangeCurrentPage</span>(<span style=color:#a6e22e>currentPage</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>)}
              &gt;
                <span style=color:#a6e22e>Next</span>
              &lt;/<span style=color:#f92672>a</span>&gt;
            &lt;/<span style=color:#f92672>li</span>&gt;
            &lt;<span style=color:#f92672>li</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>isDisabledNext</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#34;page-item disabled&#34;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;page-item&#34;</span>}&gt;
              &lt;<span style=color:#f92672>a</span>
                <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span>{{
                  <span style=color:#a6e22e>cursor</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;pointer&#34;</span>,
                }}
                <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;page-link&#34;</span>
                <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{() =&gt; <span style=color:#a6e22e>onChangeCurrentPage</span>(<span style=color:#a6e22e>numberOfPages</span>)}
              &gt;
                <span style=color:#a6e22e>Last</span>
              &lt;/<span style=color:#f92672>a</span>&gt;
            &lt;/<span style=color:#f92672>li</span>&gt;
          &lt;/<span style=color:#f92672>ul</span>&gt;
        &lt;/<span style=color:#f92672>nav</span>&gt;
      )}
    &lt;/&gt;
  );
};

<span style=color:#a6e22e>PaginationComponent</span>.<span style=color:#a6e22e>displayName</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;PaginationComponent&#34;</span>;

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>PaginationComponent</span>;
</code></pre></div><p>Dùng thử</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useCallback</span>, <span style=color:#a6e22e>useEffect</span>, <span style=color:#a6e22e>useRef</span>, <span style=color:#a6e22e>useState</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#34;./App.css&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>LinkFormComponent</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./components/LinkFormComponent&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>enviroment</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./shared/environment&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Modal</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;bootstrap&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useImmer</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;use-immer&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>PaginationComponent</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./components/PaginationComponent&#34;</span>;

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>LINK_TYPE</span> <span style=color:#f92672>=</span> {
  <span style=color:#a6e22e>LINK</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;link&#34;</span>,
  <span style=color:#a6e22e>YOUTUBE</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;youtube&#34;</span>,
  <span style=color:#a6e22e>IMAGE</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;image&#34;</span>,
};

<span style=color:#66d9ef>function</span> <span style=color:#a6e22e>App</span>() {
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>linkFormComponentModalInstance</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRef</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>linkFormComponentModal</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRef</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>editLink</span>, <span style=color:#a6e22e>setEditLink</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>links</span>, <span style=color:#a6e22e>setLinks</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useImmer</span>([
    {
      <span style=color:#a6e22e>id</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>,
      <span style=color:#a6e22e>link</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;https://nextjsvietnam.com&#34;</span>,
      <span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;https://nextjsvietnam.com&#34;</span>,
      <span style=color:#a6e22e>type</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>LINK</span>,
    },
  ]);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>paginator</span>, <span style=color:#a6e22e>setPaginator</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useImmer</span>({
    <span style=color:#a6e22e>currentPage</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>,
    <span style=color:#a6e22e>numberOfPages</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>10</span>,
    <span style=color:#a6e22e>rowsPerPage</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>5</span>,
    <span style=color:#a6e22e>numberOfItems</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>50</span>,
  });

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>openModal</span> <span style=color:#f92672>=</span> () =&gt; {
    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>) {
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;new modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
      <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Modal</span>(
        <span style=color:#a6e22e>linkFormComponentModal</span>.<span style=color:#a6e22e>current</span>,
        {
          <span style=color:#a6e22e>backdrop</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
          <span style=color:#a6e22e>focus</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
          <span style=color:#a6e22e>keyboard</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
        }
      );
      <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>show</span>();
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;created modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
      <span style=color:#75715e>// handler event close
</span><span style=color:#75715e></span>      <span style=color:#a6e22e>linkFormComponentModal</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#34;hide.bs.modal&#34;</span>, () =&gt; {
        <span style=color:#75715e>// reset state
</span><span style=color:#75715e></span>        <span style=color:#a6e22e>setEditLink</span>(<span style=color:#66d9ef>null</span>);
      });
      <span style=color:#66d9ef>return</span>;
    }
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;existing modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
    <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>show</span>();
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onNewLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>e</span>) =&gt; {
    <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
    <span style=color:#a6e22e>openModal</span>();
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onEditLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>link</span>) =&gt; {
    <span style=color:#75715e>// set editLink
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>setEditLink</span>(<span style=color:#a6e22e>link</span>);
    <span style=color:#75715e>// open modal
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>openModal</span>();
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onChangeCurrentPage</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>newCurrentPage</span>) =&gt; {
    <span style=color:#a6e22e>setPaginator</span>((<span style=color:#a6e22e>p</span>) =&gt; {
      <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>currentPage</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>newCurrentPage</span>;
    });
  };

  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>nav</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar navbar-expand-lg&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;container-fluid&#34;</span>&gt;
          &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-brand&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;
            &lt;<span style=color:#f92672>img</span>
              <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://nextjsvietnam.com/themes/2022/src/assets/images/logo.png&#34;</span>
              <span style=color:#a6e22e>alt</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Bootstrap&#34;</span>
            /&gt;
          &lt;/<span style=color:#f92672>a</span>&gt;
          &lt;<span style=color:#f92672>button</span>
            <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-toggler&#34;</span>
            <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
            <span style=color:#a6e22e>data</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>bs</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>toggle</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;collapse&#34;</span>
            <span style=color:#a6e22e>data</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>bs</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>target</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#navbarNav&#34;</span>
            <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>controls</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbarNav&#34;</span>
            <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>expanded</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;false&#34;</span>
            <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Toggle navigation&#34;</span>
          &gt;
            &lt;<span style=color:#f92672>span</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-toggler-icon&#34;</span>&gt;&lt;/<span style=color:#f92672>span</span>&gt;
          &lt;/<span style=color:#f92672>button</span>&gt;
          &lt;<span style=color:#f92672>div</span>
            <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;collapse navbar-collapse justify-content-end&#34;</span>
            <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbarNav&#34;</span>
          &gt;
            &lt;<span style=color:#f92672>ul</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-nav&#34;</span>&gt;
              &lt;<span style=color:#f92672>li</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-item&#34;</span>&gt;
                &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-link active&#34;</span> <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>current</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;page&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;
                  {<span style=color:#a6e22e>enviroment</span>.<span style=color:#a6e22e>APP_NAME</span>}
                &lt;/<span style=color:#f92672>a</span>&gt;
              &lt;/<span style=color:#f92672>li</span>&gt;
            &lt;/<span style=color:#f92672>ul</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>nav</span>&gt;
      &lt;<span style=color:#f92672>main</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mt-4&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card&#34;</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-header text-bg-primary&#34;</span>&gt;
            &lt;<span style=color:#f92672>h3</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-title&#34;</span>&gt;<span style=color:#a6e22e>Links</span>&lt;/<span style=color:#f92672>h3</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-body&#34;</span>&gt;
            &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;d-flex justify-content-end&#34;</span>&gt;
              &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onNewLink</span>}&gt;
                <span style=color:#a6e22e>New</span> <span style=color:#a6e22e>Link</span>
              &lt;/<span style=color:#f92672>button</span>&gt;
            &lt;/<span style=color:#f92672>div</span>&gt;
            &lt;<span style=color:#f92672>div</span>&gt;
              {<span style=color:#a6e22e>links</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>link</span>) =&gt; (
                &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>key</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>}&gt;
                  &lt;<span style=color:#f92672>h4</span>&gt;{<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>title</span>}&lt;/<span style=color:#f92672>h4</span>&gt;
                  &lt;<span style=color:#f92672>button</span>
                    <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
                    <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-warning&#34;</span>
                    <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{() =&gt; {
                      <span style=color:#a6e22e>onEditLink</span>(<span style=color:#a6e22e>link</span>);
                    }}
                  &gt;
                    <span style=color:#a6e22e>Edit</span>
                  &lt;/<span style=color:#f92672>button</span>&gt;
                &lt;/<span style=color:#f92672>div</span>&gt;
              ))}
            &lt;/<span style=color:#f92672>div</span>&gt;
            &lt;<span style=color:#f92672>PaginationComponent</span>
              <span style=color:#a6e22e>numberOfPages</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>paginator</span>.<span style=color:#a6e22e>numberOfPages</span>}
              <span style=color:#a6e22e>currentPage</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>paginator</span>.<span style=color:#a6e22e>currentPage</span>}
              <span style=color:#a6e22e>onChangeCurrentPage</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onChangeCurrentPage</span>}
            /&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>main</span>&gt;
      &lt;<span style=color:#f92672>footer</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mt-4&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;container&#34;</span>&gt;
          &lt;<span style=color:#f92672>p</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text-center&#34;</span>&gt;
            <span style=color:#a6e22e>Copyright</span><span style=color:#960050;background-color:#1e0010>@</span><span style=color:#a6e22e>JSBase</span> <span style=color:#f92672>-</span> {<span style=color:#a6e22e>enviroment</span>.<span style=color:#a6e22e>APP_VERSION</span>} <span style=color:#f92672>-</span> {<span style=color:#a6e22e>enviroment</span>.<span style=color:#a6e22e>MODE</span>}
          &lt;/<span style=color:#f92672>p</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>footer</span>&gt;
      &lt;<span style=color:#f92672>LinkFormComponent</span>
        <span style=color:#a6e22e>ref</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>linkFormComponentModal</span>}
        <span style=color:#a6e22e>link</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>editLink</span>}
      &gt;&lt;/<span style=color:#f92672>LinkFormComponent</span>&gt;
    &lt;/&gt;
  );
}

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>App</span>;
</code></pre></div><p><img src=https://user-images.githubusercontent.com/31009750/253977033-46fb6d62-a7c0-46a1-9933-c81715c8596b.png alt=image></p>
<h5 id=33-xây-dựng-linkdetailcomponent>3.3. Xây dựng LinkDetailComponent</h5>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>LINK_TYPE</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;../containers/LinkManagementContainer&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>TextLink</span> <span style=color:#f92672>=</span> ({ <span style=color:#a6e22e>link</span>, ...<span style=color:#a6e22e>props</span> }) =&gt; {
  <span style=color:#66d9ef>return</span> (
    &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>link</span>} <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;d-flex gap-2 align-items-center&#34;</span> {<span style=color:#a6e22e>...props</span>}&gt;
      &lt;<span style=color:#f92672>i</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;bi bi-link fs-3&#34;</span>&gt;&lt;/<span style=color:#f92672>i</span>&gt;
      {<span style=color:#a6e22e>link</span>}
    &lt;/<span style=color:#f92672>a</span>&gt;
  );
};

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>YoutubeLink</span> <span style=color:#f92672>=</span> ({ <span style=color:#a6e22e>link</span> }) =&gt; {
  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>v</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;&#34;</span>;
  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>includes</span>(<span style=color:#e6db74>&#34;watch&#34;</span>)) {
    <span style=color:#a6e22e>v</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>URL</span>(<span style=color:#a6e22e>link</span>).<span style=color:#a6e22e>searchParams</span>.<span style=color:#a6e22e>get</span>(<span style=color:#e6db74>&#34;v&#34;</span>);
  }
  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>src</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>includes</span>(<span style=color:#e6db74>&#34;embed&#34;</span>)
    <span style=color:#f92672>?</span> <span style=color:#a6e22e>link</span>
    <span style=color:#f92672>:</span> <span style=color:#e6db74>`https://www.youtube.com/embed/</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>v</span><span style=color:#e6db74>}</span><span style=color:#e6db74>?feature=oembed`</span>;
  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;embed-responsive ratio ratio-16x9&#34;</span>&gt;
        &lt;<span style=color:#f92672>iframe</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;rounded embed-responsive-item&#34;</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>src</span>}&gt;&lt;/<span style=color:#f92672>iframe</span>&gt;
      &lt;/<span style=color:#f92672>div</span>&gt;
    &lt;/&gt;
  );
};

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>ImageLink</span> <span style=color:#f92672>=</span> ({ <span style=color:#a6e22e>link</span> }) =&gt; {
  <span style=color:#66d9ef>return</span> (
    &lt;<span style=color:#f92672>div</span>&gt;
      &lt;<span style=color:#f92672>img</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>link</span>} <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;rounded img-thumbnail&#34;</span>&gt;&lt;/<span style=color:#f92672>img</span>&gt;
    &lt;/<span style=color:#f92672>div</span>&gt;
  );
};

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>LinkDetailComponent</span> <span style=color:#f92672>=</span> ({ <span style=color:#a6e22e>link</span>, <span style=color:#a6e22e>onEditLink</span>, <span style=color:#a6e22e>onDeleteLink</span>, ...<span style=color:#a6e22e>props</span> }) =&gt; {
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>linkTypeBadge</span> <span style=color:#f92672>=</span> {
    [<span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>LINK</span>]<span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;text-bg-primary&#34;</span>,
    [<span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>IMAGE</span>]<span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;text-bg-warning&#34;</span>,
    [<span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>YOUTUBE</span>]<span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;text-bg-danger&#34;</span>,
  };
  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;LinkDetailComponent:render&#34;</span>);
  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card my-4&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-title d-flex justify-content-between border-bottom p-3&#34;</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;d-flex justify-content-between gap-4&#34;</span>&gt;
            &lt;<span style=color:#f92672>span</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span>{<span style=color:#e6db74>&#34;btn &#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>linkTypeBadge</span>[<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>type</span>]}&gt;
              {<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>type</span>}
            &lt;/<span style=color:#f92672>span</span>&gt;
            &lt;<span style=color:#f92672>h5</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;m-0 lh-lg&#34;</span>&gt;{<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>title</span>}&lt;/<span style=color:#f92672>h5</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn text-bg-warning align-middle&#34;</span>&gt;
            {<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>publishedDate</span>.<span style=color:#a6e22e>toISOString</span>()}
          &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-body&#34;</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;row&#34;</span>&gt;
            &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;col&#34;</span>&gt;
              {<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>type</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>LINK</span> <span style=color:#f92672>&amp;&amp;</span> &lt;<span style=color:#f92672>TextLink</span> <span style=color:#a6e22e>link</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>link</span>} /&gt;}
              {<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>type</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>YOUTUBE</span> <span style=color:#f92672>&amp;&amp;</span> (
                &lt;<span style=color:#f92672>YoutubeLink</span> <span style=color:#a6e22e>link</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>link</span>} /&gt;
              )}
              {<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>type</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>IMAGE</span> <span style=color:#f92672>&amp;&amp;</span> &lt;<span style=color:#f92672>ImageLink</span> <span style=color:#a6e22e>link</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>link</span>} /&gt;}
            &lt;/<span style=color:#f92672>div</span>&gt;
            &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;col d-flex justify-content-between flex-column&#34;</span>&gt;
              {[<span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>YOUTUBE</span>, <span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>IMAGE</span>].<span style=color:#a6e22e>includes</span>(<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>type</span>) <span style=color:#f92672>&amp;&amp;</span> (
                &lt;<span style=color:#f92672>TextLink</span>
                  <span style=color:#a6e22e>link</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>link</span>}
                  <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span>{
                    <span style=color:#e6db74>&#34;d-flex gap-2 align-items-center justify-content-end&#34;</span>
                  }
                /&gt;
              )}
              &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;d-flex gap-2 justify-content-end align-self-end&#34;</span>&gt;
                &lt;<span style=color:#f92672>button</span>
                  <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-warning&#34;</span>
                  <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span>{{ <span style=color:#a6e22e>width</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;120px&#34;</span>, <span style=color:#a6e22e>height</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;40px&#34;</span> }}
                  <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{() =&gt; {
                    <span style=color:#a6e22e>onEditLink</span>(<span style=color:#a6e22e>link</span>);
                  }}
                &gt;
                  <span style=color:#a6e22e>Edit</span>
                &lt;/<span style=color:#f92672>button</span>&gt;
                &lt;<span style=color:#f92672>button</span>
                  <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-danger&#34;</span>
                  <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span>{{ <span style=color:#a6e22e>width</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;120px&#34;</span>, <span style=color:#a6e22e>height</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;40px&#34;</span> }}
                  <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{() =&gt; {
                    <span style=color:#a6e22e>onDeleteLink</span>(<span style=color:#a6e22e>link</span>);
                  }}
                &gt;
                  <span style=color:#a6e22e>Delete</span>
                &lt;/<span style=color:#f92672>button</span>&gt;
              &lt;/<span style=color:#f92672>div</span>&gt;
            &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>div</span>&gt;
    &lt;/&gt;
  );
};

<span style=color:#a6e22e>LinkDetailComponent</span>.<span style=color:#a6e22e>displayName</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;LinkDetailComponent&#34;</span>;

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>LinkDetailComponent</span>;
</code></pre></div><blockquote>
<p>App.js</p>
</blockquote>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useCallback</span>, <span style=color:#a6e22e>useEffect</span>, <span style=color:#a6e22e>useRef</span>, <span style=color:#a6e22e>useState</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#34;./App.css&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>LinkFormComponent</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./components/LinkFormComponent&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>enviroment</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./shared/environment&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Modal</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;bootstrap&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useImmer</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;use-immer&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>PaginationComponent</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./components/PaginationComponent&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>LinkDetailComponent</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./components/LinkDetailComponent&#34;</span>;

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>LINK_TYPE</span> <span style=color:#f92672>=</span> {
  <span style=color:#a6e22e>LINK</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;link&#34;</span>,
  <span style=color:#a6e22e>YOUTUBE</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;youtube&#34;</span>,
  <span style=color:#a6e22e>IMAGE</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;image&#34;</span>,
};

<span style=color:#66d9ef>function</span> <span style=color:#a6e22e>App</span>() {
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>linkFormComponentModalInstance</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRef</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>linkFormComponentModal</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRef</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>editLink</span>, <span style=color:#a6e22e>setEditLink</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>links</span>, <span style=color:#a6e22e>setLinks</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useImmer</span>([
    {
      <span style=color:#a6e22e>id</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>,
      <span style=color:#a6e22e>link</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;https://nextjsvietnam.com&#34;</span>,
      <span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;https://nextjsvietnam.com&#34;</span>,
      <span style=color:#a6e22e>type</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>LINK</span>,
      <span style=color:#a6e22e>publishedDate</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>new</span> Date(),
    },
    {
      <span style=color:#a6e22e>id</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>2</span>,
      <span style=color:#a6e22e>link</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;https://www.youtube.com/watch?v=M9voXLBcKTk&amp;t=2818s&#34;</span>,
      <span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Những Ca Khúc Nhạc Đỏ Cách Mạng&#34;</span>,
      <span style=color:#a6e22e>type</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>YOUTUBE</span>,
      <span style=color:#a6e22e>publishedDate</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>new</span> Date(),
    },
    {
      <span style=color:#a6e22e>id</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>3</span>,
      <span style=color:#a6e22e>link</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;https://user-images.githubusercontent.com/31009750/246856332-ece36caa-82ef-4a4f-86d9-9dad4a108929.png&#34;</span>,
      <span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;ReactJS Tutorial Banner&#34;</span>,
      <span style=color:#a6e22e>type</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>IMAGE</span>,
      <span style=color:#a6e22e>publishedDate</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>new</span> Date(),
    },
  ]);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>paginator</span>, <span style=color:#a6e22e>setPaginator</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useImmer</span>({
    <span style=color:#a6e22e>currentPage</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>,
    <span style=color:#a6e22e>numberOfPages</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>10</span>,
    <span style=color:#a6e22e>rowsPerPage</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>5</span>,
    <span style=color:#a6e22e>numberOfItems</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>50</span>,
  });

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>openModal</span> <span style=color:#f92672>=</span> () =&gt; {
    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>) {
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;new modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
      <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Modal</span>(
        <span style=color:#a6e22e>linkFormComponentModal</span>.<span style=color:#a6e22e>current</span>,
        {
          <span style=color:#a6e22e>backdrop</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
          <span style=color:#a6e22e>focus</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
          <span style=color:#a6e22e>keyboard</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
        }
      );
      <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>show</span>();
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;created modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
      <span style=color:#75715e>// handler event close
</span><span style=color:#75715e></span>      <span style=color:#a6e22e>linkFormComponentModal</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#34;hide.bs.modal&#34;</span>, () =&gt; {
        <span style=color:#75715e>// reset state
</span><span style=color:#75715e></span>        <span style=color:#a6e22e>setEditLink</span>(<span style=color:#66d9ef>null</span>);
      });
      <span style=color:#66d9ef>return</span>;
    }
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;existing modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
    <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>show</span>();
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>closeModal</span> <span style=color:#f92672>=</span> () =&gt; {
    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>) {
      <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>hide</span>();
    }
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onNewLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>e</span>) =&gt; {
    <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
    <span style=color:#a6e22e>openModal</span>();
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onEditLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>link</span>) =&gt; {
    <span style=color:#75715e>// set editLink
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>setEditLink</span>(<span style=color:#a6e22e>link</span>);
    <span style=color:#75715e>// open modal
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>openModal</span>();
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onDeleteLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>link</span>) =&gt; {
    <span style=color:#75715e>// delete link
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>setLinks</span>((<span style=color:#a6e22e>linkList</span>) =&gt; {
      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>deleteLinkIndex</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>linkList</span>.<span style=color:#a6e22e>findIndex</span>((<span style=color:#a6e22e>l</span>) =&gt; <span style=color:#a6e22e>l</span>.<span style=color:#a6e22e>id</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>);
      <span style=color:#a6e22e>linkList</span>.<span style=color:#a6e22e>splice</span>(<span style=color:#a6e22e>deleteLinkIndex</span>, <span style=color:#ae81ff>1</span>);
    });
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onSaveLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>data</span>) =&gt; {
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>link</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>structuredClone</span>(<span style=color:#a6e22e>data</span>);
    <span style=color:#75715e>// new link has no id
</span><span style=color:#75715e></span>    <span style=color:#75715e>// existed link has id
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>link</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span><span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>) {
      <span style=color:#a6e22e>setLinks</span>((<span style=color:#a6e22e>linkList</span>) =&gt; {
        <span style=color:#a6e22e>Reflect</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>link</span>, <span style=color:#e6db74>&#34;id&#34;</span>, Date.<span style=color:#a6e22e>now</span>());
        <span style=color:#a6e22e>Reflect</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>link</span>, <span style=color:#e6db74>&#34;publishedDate&#34;</span>, <span style=color:#66d9ef>new</span> Date());
        <span style=color:#a6e22e>Reflect</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>link</span>, <span style=color:#e6db74>&#34;type&#34;</span>, <span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>LINK</span>);
        <span style=color:#a6e22e>linkList</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>link</span>);
      });
      <span style=color:#75715e>// close modal
</span><span style=color:#75715e></span>      <span style=color:#a6e22e>closeModal</span>();
      <span style=color:#66d9ef>return</span>;
    }
    <span style=color:#75715e>// otherwise edit mode
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>link</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>) {
      <span style=color:#a6e22e>setLinks</span>((<span style=color:#a6e22e>linkList</span>) =&gt; {
        <span style=color:#a6e22e>Reflect</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>link</span>, <span style=color:#e6db74>&#34;publishedDate&#34;</span>, <span style=color:#66d9ef>new</span> Date());
        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>editLinkIndex</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>linkList</span>.<span style=color:#a6e22e>findIndex</span>((<span style=color:#a6e22e>l</span>) =&gt; <span style=color:#a6e22e>l</span>.<span style=color:#a6e22e>id</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>);
        <span style=color:#a6e22e>linkList</span>[<span style=color:#a6e22e>editLinkIndex</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>link</span>;
      });
      <span style=color:#75715e>// close modal
</span><span style=color:#75715e></span>      <span style=color:#a6e22e>closeModal</span>();
      <span style=color:#66d9ef>return</span>;
    }
  };
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onChangeCurrentPage</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>newCurrentPage</span>) =&gt; {
    <span style=color:#a6e22e>setPaginator</span>((<span style=color:#a6e22e>p</span>) =&gt; {
      <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>currentPage</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>newCurrentPage</span>;
    });
  };

  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>nav</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar navbar-expand-lg&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;container-fluid&#34;</span>&gt;
          &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-brand&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;
            &lt;<span style=color:#f92672>img</span>
              <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://nextjsvietnam.com/themes/2022/src/assets/images/logo.png&#34;</span>
              <span style=color:#a6e22e>alt</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Bootstrap&#34;</span>
            /&gt;
          &lt;/<span style=color:#f92672>a</span>&gt;
          &lt;<span style=color:#f92672>button</span>
            <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-toggler&#34;</span>
            <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
            <span style=color:#a6e22e>data</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>bs</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>toggle</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;collapse&#34;</span>
            <span style=color:#a6e22e>data</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>bs</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>target</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#navbarNav&#34;</span>
            <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>controls</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbarNav&#34;</span>
            <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>expanded</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;false&#34;</span>
            <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Toggle navigation&#34;</span>
          &gt;
            &lt;<span style=color:#f92672>span</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-toggler-icon&#34;</span>&gt;&lt;/<span style=color:#f92672>span</span>&gt;
          &lt;/<span style=color:#f92672>button</span>&gt;
          &lt;<span style=color:#f92672>div</span>
            <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;collapse navbar-collapse justify-content-end&#34;</span>
            <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbarNav&#34;</span>
          &gt;
            &lt;<span style=color:#f92672>ul</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-nav&#34;</span>&gt;
              &lt;<span style=color:#f92672>li</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-item&#34;</span>&gt;
                &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-link active&#34;</span> <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>current</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;page&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;
                  {<span style=color:#a6e22e>enviroment</span>.<span style=color:#a6e22e>APP_NAME</span>}
                &lt;/<span style=color:#f92672>a</span>&gt;
              &lt;/<span style=color:#f92672>li</span>&gt;
            &lt;/<span style=color:#f92672>ul</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>nav</span>&gt;
      &lt;<span style=color:#f92672>main</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mt-4&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card&#34;</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-header text-bg-primary&#34;</span>&gt;
            &lt;<span style=color:#f92672>h3</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-title&#34;</span>&gt;<span style=color:#a6e22e>Links</span>&lt;/<span style=color:#f92672>h3</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-body&#34;</span>&gt;
            &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;d-flex justify-content-end&#34;</span>&gt;
              &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onNewLink</span>}&gt;
                <span style=color:#a6e22e>New</span> <span style=color:#a6e22e>Link</span>
              &lt;/<span style=color:#f92672>button</span>&gt;
            &lt;/<span style=color:#f92672>div</span>&gt;
            &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mt-4&#34;</span>&gt;
              {<span style=color:#a6e22e>links</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>link</span>) =&gt; (
                &lt;<span style=color:#f92672>LinkDetailComponent</span>
                  <span style=color:#a6e22e>key</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>}
                  <span style=color:#a6e22e>link</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>link</span>}
                  <span style=color:#a6e22e>onEditLink</span><span style=color:#f92672>=</span>{() =&gt; <span style=color:#a6e22e>onEditLink</span>(<span style=color:#a6e22e>link</span>)}
                  <span style=color:#a6e22e>onDeleteLink</span><span style=color:#f92672>=</span>{() =&gt; <span style=color:#a6e22e>onDeleteLink</span>(<span style=color:#a6e22e>link</span>)}
                /&gt;
              ))}
            &lt;/<span style=color:#f92672>div</span>&gt;
            &lt;<span style=color:#f92672>PaginationComponent</span>
              <span style=color:#a6e22e>numberOfPages</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>paginator</span>.<span style=color:#a6e22e>numberOfPages</span>}
              <span style=color:#a6e22e>currentPage</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>paginator</span>.<span style=color:#a6e22e>currentPage</span>}
              <span style=color:#a6e22e>onChangeCurrentPage</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onChangeCurrentPage</span>}
            /&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>main</span>&gt;
      &lt;<span style=color:#f92672>footer</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mt-4&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;container&#34;</span>&gt;
          &lt;<span style=color:#f92672>p</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text-center&#34;</span>&gt;
            <span style=color:#a6e22e>Copyright</span><span style=color:#960050;background-color:#1e0010>@</span><span style=color:#a6e22e>JSBase</span> <span style=color:#f92672>-</span> {<span style=color:#a6e22e>enviroment</span>.<span style=color:#a6e22e>APP_VERSION</span>} <span style=color:#f92672>-</span> {<span style=color:#a6e22e>enviroment</span>.<span style=color:#a6e22e>MODE</span>}
          &lt;/<span style=color:#f92672>p</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>footer</span>&gt;
      &lt;<span style=color:#f92672>LinkFormComponent</span>
        <span style=color:#a6e22e>ref</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>linkFormComponentModal</span>}
        <span style=color:#a6e22e>link</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>editLink</span>}
        <span style=color:#a6e22e>onSaveLink</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onSaveLink</span>}
      &gt;&lt;/<span style=color:#f92672>LinkFormComponent</span>&gt;
    &lt;/&gt;
  );
}

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>App</span>;
</code></pre></div><p>Và kết quả</p>
<p><img src=https://user-images.githubusercontent.com/31009750/254329638-390282f5-d450-437e-90fa-09c5daf1129f.png alt=image></p>
<h4 id=bước-số-4-tích-hợp-toàn-bộ-các-component-lại-thành-1-ứng-dụng-hoàn-chỉnh>Bước số 4. Tích hợp toàn bộ các component lại thành 1 ứng dụng hoàn chỉnh</h4>
<p>Đây là bước cuối cùng, lắp ráp lại kết quả của các bước trên, nhằm tạo ra 1 ứng dụng hoàn chỉnh cho người dùng.</p>
<p>Cùng sắp xếp lại code của ứng dụng một chút, ở bước này các anh/chị sẽ tách code trong App component thành 1 component khác chứa màn hình chính của ứng dụng.</p>
<blockquote>
<p>src\App.jsx</p>
</blockquote>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> <span style=color:#e6db74>&#34;./App.css&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>enviroment</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./shared/environment&#34;</span>;

<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>LinkManagementContainer</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;./containers/LinkManagementContainer&#34;</span>;

<span style=color:#66d9ef>function</span> <span style=color:#a6e22e>App</span>() {
  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>nav</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar navbar-expand-lg&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;container-fluid&#34;</span>&gt;
          &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-brand&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;
            &lt;<span style=color:#f92672>img</span>
              <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://nextjsvietnam.com/themes/2022/src/assets/images/logo.png&#34;</span>
              <span style=color:#a6e22e>alt</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Bootstrap&#34;</span>
            /&gt;
          &lt;/<span style=color:#f92672>a</span>&gt;
          &lt;<span style=color:#f92672>button</span>
            <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-toggler&#34;</span>
            <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;button&#34;</span>
            <span style=color:#a6e22e>data</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>bs</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>toggle</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;collapse&#34;</span>
            <span style=color:#a6e22e>data</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>bs</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>target</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#navbarNav&#34;</span>
            <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>controls</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbarNav&#34;</span>
            <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>expanded</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;false&#34;</span>
            <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Toggle navigation&#34;</span>
          &gt;
            &lt;<span style=color:#f92672>span</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-toggler-icon&#34;</span>&gt;&lt;/<span style=color:#f92672>span</span>&gt;
          &lt;/<span style=color:#f92672>button</span>&gt;
          &lt;<span style=color:#f92672>div</span>
            <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;collapse navbar-collapse justify-content-end&#34;</span>
            <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbarNav&#34;</span>
          &gt;
            &lt;<span style=color:#f92672>ul</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;navbar-nav&#34;</span>&gt;
              &lt;<span style=color:#f92672>li</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-item&#34;</span>&gt;
                &lt;<span style=color:#f92672>a</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;nav-link active&#34;</span> <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>current</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;page&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;#&#34;</span>&gt;
                  {<span style=color:#a6e22e>enviroment</span>.<span style=color:#a6e22e>APP_NAME</span>}
                &lt;/<span style=color:#f92672>a</span>&gt;
              &lt;/<span style=color:#f92672>li</span>&gt;
            &lt;/<span style=color:#f92672>ul</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>nav</span>&gt;
      &lt;<span style=color:#f92672>main</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mt-4&#34;</span>&gt;
        &lt;<span style=color:#f92672>LinkManagementContainer</span> /&gt;
      &lt;/<span style=color:#f92672>main</span>&gt;
      &lt;<span style=color:#f92672>footer</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mt-4&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;container&#34;</span>&gt;
          &lt;<span style=color:#f92672>p</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text-center&#34;</span>&gt;
            <span style=color:#a6e22e>Copyright</span><span style=color:#960050;background-color:#1e0010>@</span><span style=color:#a6e22e>JSBase</span> <span style=color:#f92672>-</span> {<span style=color:#a6e22e>enviroment</span>.<span style=color:#a6e22e>APP_VERSION</span>} <span style=color:#f92672>-</span> {<span style=color:#a6e22e>enviroment</span>.<span style=color:#a6e22e>MODE</span>}
          &lt;/<span style=color:#f92672>p</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>footer</span>&gt;
    &lt;/&gt;
  );
}

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>App</span>;
</code></pre></div><blockquote>
<p>src\containers\LinkManagementContainer.jsx</p>
</blockquote>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useRef</span>, <span style=color:#a6e22e>useState</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>LinkFormComponent</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;../components/LinkFormComponent&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Modal</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;bootstrap&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useImmer</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;use-immer&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>PaginationComponent</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;../components/PaginationComponent&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>LinkDetailComponent</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;../components/LinkDetailComponent&#34;</span>;

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>LINK_TYPE</span> <span style=color:#f92672>=</span> {
  <span style=color:#a6e22e>LINK</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;link&#34;</span>,
  <span style=color:#a6e22e>YOUTUBE</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;youtube&#34;</span>,
  <span style=color:#a6e22e>IMAGE</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;image&#34;</span>,
};

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>ROWS_PER_PAGE_OPTIONS</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>15</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>25</span>, <span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>100</span>];
<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>DEFAULT_ROWS_PER_PAGE</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ROWS_PER_PAGE_OPTIONS</span>[<span style=color:#ae81ff>0</span>];
<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>LINK_TYPE_OPTIONS</span> <span style=color:#f92672>=</span> Object.<span style=color:#a6e22e>values</span>(<span style=color:#a6e22e>LINK_TYPE</span>);

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>LinkManagementContainer</span> <span style=color:#f92672>=</span> () =&gt; {
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>linkFormComponentModalInstance</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRef</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>linkFormComponentModal</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRef</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>editLink</span>, <span style=color:#a6e22e>setEditLink</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>links</span>, <span style=color:#a6e22e>setLinks</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useImmer</span>([
    {
      <span style=color:#a6e22e>id</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>,
      <span style=color:#a6e22e>link</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;https://nextjsvietnam.com&#34;</span>,
      <span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;https://nextjsvietnam.com&#34;</span>,
      <span style=color:#a6e22e>type</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>LINK</span>,
      <span style=color:#a6e22e>publishedDate</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>new</span> Date(),
    },
    {
      <span style=color:#a6e22e>id</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>2</span>,
      <span style=color:#a6e22e>link</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;https://www.youtube.com/watch?v=M9voXLBcKTk&amp;t=2818s&#34;</span>,
      <span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Những Ca Khúc Nhạc Đỏ Cách Mạng&#34;</span>,
      <span style=color:#a6e22e>type</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>YOUTUBE</span>,
      <span style=color:#a6e22e>publishedDate</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>new</span> Date(),
    },
    {
      <span style=color:#a6e22e>id</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>3</span>,
      <span style=color:#a6e22e>link</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;https://user-images.githubusercontent.com/31009750/246856332-ece36caa-82ef-4a4f-86d9-9dad4a108929.png&#34;</span>,
      <span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;ReactJS Tutorial Banner&#34;</span>,
      <span style=color:#a6e22e>type</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>IMAGE</span>,
      <span style=color:#a6e22e>publishedDate</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>new</span> Date(),
    },
  ]);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>paginator</span>, <span style=color:#a6e22e>setPaginator</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useImmer</span>({
    <span style=color:#a6e22e>currentPage</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>,
    <span style=color:#a6e22e>numberOfPages</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>10</span>,
    <span style=color:#a6e22e>rowsPerPage</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>5</span>,
    <span style=color:#a6e22e>numberOfItems</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>50</span>,
  });
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>query</span>, <span style=color:#a6e22e>setQuery</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useImmer</span>({
    <span style=color:#a6e22e>rowsPerPage</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>DEFAULT_ROWS_PER_PAGE</span>,
    <span style=color:#a6e22e>searchText</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;&#34;</span>,
    <span style=color:#a6e22e>type</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;&#34;</span>,
    <span style=color:#a6e22e>page</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>,
  });

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>openModal</span> <span style=color:#f92672>=</span> () =&gt; {
    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>) {
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;new modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
      <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Modal</span>(
        <span style=color:#a6e22e>linkFormComponentModal</span>.<span style=color:#a6e22e>current</span>,
        {
          <span style=color:#a6e22e>backdrop</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
          <span style=color:#a6e22e>focus</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
          <span style=color:#a6e22e>keyboard</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
        }
      );
      <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>show</span>();
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;created modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
      <span style=color:#75715e>// handler event close
</span><span style=color:#75715e></span>      <span style=color:#a6e22e>linkFormComponentModal</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#34;hide.bs.modal&#34;</span>, () =&gt; {
        <span style=color:#75715e>// reset state
</span><span style=color:#75715e></span>        <span style=color:#a6e22e>setEditLink</span>(<span style=color:#66d9ef>null</span>);
      });
      <span style=color:#66d9ef>return</span>;
    }
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;existing modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
    <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>show</span>();
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>closeModal</span> <span style=color:#f92672>=</span> () =&gt; {
    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>) {
      <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>hide</span>();
    }
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onNewLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>e</span>) =&gt; {
    <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
    <span style=color:#a6e22e>openModal</span>();
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onEditLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>link</span>) =&gt; {
    <span style=color:#75715e>// set editLink
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>setEditLink</span>(<span style=color:#a6e22e>link</span>);
    <span style=color:#75715e>// open modal
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>openModal</span>();
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onDeleteLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>link</span>) =&gt; {
    <span style=color:#75715e>// delete link
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>setLinks</span>((<span style=color:#a6e22e>linkList</span>) =&gt; {
      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>deleteLinkIndex</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>linkList</span>.<span style=color:#a6e22e>findIndex</span>((<span style=color:#a6e22e>l</span>) =&gt; <span style=color:#a6e22e>l</span>.<span style=color:#a6e22e>id</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>);
      <span style=color:#a6e22e>linkList</span>.<span style=color:#a6e22e>splice</span>(<span style=color:#a6e22e>deleteLinkIndex</span>, <span style=color:#ae81ff>1</span>);
    });
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onSaveLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>data</span>) =&gt; {
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>link</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>structuredClone</span>(<span style=color:#a6e22e>data</span>);
    <span style=color:#75715e>// new link has no id
</span><span style=color:#75715e></span>    <span style=color:#75715e>// existed link has id
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>link</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span><span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>) {
      <span style=color:#a6e22e>setLinks</span>((<span style=color:#a6e22e>linkList</span>) =&gt; {
        <span style=color:#a6e22e>Reflect</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>link</span>, <span style=color:#e6db74>&#34;id&#34;</span>, Date.<span style=color:#a6e22e>now</span>());
        <span style=color:#a6e22e>Reflect</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>link</span>, <span style=color:#e6db74>&#34;publishedDate&#34;</span>, <span style=color:#66d9ef>new</span> Date());
        <span style=color:#a6e22e>Reflect</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>link</span>, <span style=color:#e6db74>&#34;type&#34;</span>, <span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>LINK</span>);
        <span style=color:#a6e22e>linkList</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>link</span>);
      });
      <span style=color:#75715e>// close modal
</span><span style=color:#75715e></span>      <span style=color:#a6e22e>closeModal</span>();
      <span style=color:#66d9ef>return</span>;
    }
    <span style=color:#75715e>// otherwise edit mode
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>link</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>) {
      <span style=color:#a6e22e>setLinks</span>((<span style=color:#a6e22e>linkList</span>) =&gt; {
        <span style=color:#a6e22e>Reflect</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>link</span>, <span style=color:#e6db74>&#34;publishedDate&#34;</span>, <span style=color:#66d9ef>new</span> Date());
        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>editLinkIndex</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>linkList</span>.<span style=color:#a6e22e>findIndex</span>((<span style=color:#a6e22e>l</span>) =&gt; <span style=color:#a6e22e>l</span>.<span style=color:#a6e22e>id</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>);
        <span style=color:#a6e22e>linkList</span>[<span style=color:#a6e22e>editLinkIndex</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>link</span>;
      });
      <span style=color:#75715e>// close modal
</span><span style=color:#75715e></span>      <span style=color:#a6e22e>closeModal</span>();
      <span style=color:#66d9ef>return</span>;
    }
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onChangeCurrentPage</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>newCurrentPage</span>) =&gt; {
    <span style=color:#a6e22e>setPaginator</span>((<span style=color:#a6e22e>p</span>) =&gt; {
      <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>currentPage</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>newCurrentPage</span>;
    });
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onChangeQueryField</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>e</span>) =&gt; {
    <span style=color:#a6e22e>setQuery</span>((<span style=color:#a6e22e>q</span>) =&gt; {
      <span style=color:#a6e22e>q</span>[<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>target</span>.<span style=color:#a6e22e>name</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>target</span>.<span style=color:#a6e22e>value</span>;
    });
  };

  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-header text-bg-primary&#34;</span>&gt;
          &lt;<span style=color:#f92672>h3</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-title&#34;</span>&gt;<span style=color:#a6e22e>Links</span>&lt;/<span style=color:#f92672>h3</span>&gt;
          {<span style=color:#a6e22e>JSON</span>.<span style=color:#a6e22e>stringify</span>(<span style=color:#a6e22e>query</span>)}
        &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-body&#34;</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;d-flex justify-content-end&#34;</span>&gt;
            &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onNewLink</span>}&gt;
              <span style=color:#a6e22e>New</span> <span style=color:#a6e22e>Link</span>
            &lt;/<span style=color:#f92672>button</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mt-4 d-flex justify-content-between&#34;</span>&gt;
            &lt;<span style=color:#f92672>select</span>
              <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;form-select&#34;</span>
              <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Select rows per page&#34;</span>
              <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;rowsPerPage&#34;</span>
              <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span>{{
                <span style=color:#a6e22e>width</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;120px&#34;</span>,
              }}
              <span style=color:#a6e22e>onChange</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onChangeQueryField</span>}
            &gt;
              {<span style=color:#a6e22e>ROWS_PER_PAGE_OPTIONS</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>v</span>, <span style=color:#a6e22e>idx</span>) =&gt; (
                &lt;<span style=color:#f92672>option</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>v</span>} <span style=color:#a6e22e>key</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>idx</span>}&gt;{<span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>v</span><span style=color:#e6db74>}</span><span style=color:#e6db74> rows`</span>}&lt;/<span style=color:#f92672>option</span>&gt;
              ))}
            &lt;/<span style=color:#f92672>select</span>&gt;
            &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;d-flex justify-content-end&#34;</span>&gt;
              &lt;<span style=color:#f92672>select</span>
                <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;form-select&#34;</span>
                <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Select rows per page&#34;</span>
                <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span>{{
                  <span style=color:#a6e22e>width</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;120px&#34;</span>,
                }}
                <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;type&#34;</span>
                <span style=color:#a6e22e>onChange</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onChangeQueryField</span>}
              &gt;
                &lt;<span style=color:#f92672>option</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{<span style=color:#e6db74>&#34;&#34;</span>}&gt;<span style=color:#a6e22e>Type</span>&lt;/<span style=color:#f92672>option</span>&gt;
                {<span style=color:#a6e22e>LINK_TYPE_OPTIONS</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>v</span>, <span style=color:#a6e22e>idx</span>) =&gt; (
                  &lt;<span style=color:#f92672>option</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>v</span>} <span style=color:#a6e22e>key</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>idx</span>}&gt;{<span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>v</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>}&lt;/<span style=color:#f92672>option</span>&gt;
                ))}
              &lt;/<span style=color:#f92672>select</span>&gt;
              &lt;<span style=color:#f92672>input</span>
                <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text&#34;</span>
                <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;searchText&#34;</span>
                <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;form-control ms-2&#34;</span>
                <span style=color:#a6e22e>placeholder</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Search&#34;</span>
                <span style=color:#a6e22e>onChange</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onChangeQueryField</span>}
              &gt;&lt;/<span style=color:#f92672>input</span>&gt;
            &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mt-4&#34;</span>&gt;
            {<span style=color:#a6e22e>links</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>link</span>) =&gt; (
              &lt;<span style=color:#f92672>LinkDetailComponent</span>
                <span style=color:#a6e22e>key</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>}
                <span style=color:#a6e22e>link</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>link</span>}
                <span style=color:#a6e22e>onEditLink</span><span style=color:#f92672>=</span>{() =&gt; <span style=color:#a6e22e>onEditLink</span>(<span style=color:#a6e22e>link</span>)}
                <span style=color:#a6e22e>onDeleteLink</span><span style=color:#f92672>=</span>{() =&gt; <span style=color:#a6e22e>onDeleteLink</span>(<span style=color:#a6e22e>link</span>)}
              /&gt;
            ))}
          &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;<span style=color:#f92672>PaginationComponent</span>
            <span style=color:#a6e22e>numberOfPages</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>paginator</span>.<span style=color:#a6e22e>numberOfPages</span>}
            <span style=color:#a6e22e>currentPage</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>paginator</span>.<span style=color:#a6e22e>currentPage</span>}
            <span style=color:#a6e22e>onChangeCurrentPage</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onChangeCurrentPage</span>}
          /&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;<span style=color:#f92672>LinkFormComponent</span>
        <span style=color:#a6e22e>ref</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>linkFormComponentModal</span>}
        <span style=color:#a6e22e>link</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>editLink</span>}
        <span style=color:#a6e22e>onSaveLink</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onSaveLink</span>}
      &gt;&lt;/<span style=color:#f92672>LinkFormComponent</span>&gt;
    &lt;/&gt;
  );
};

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>LinkManagementContainer</span>;
</code></pre></div><p>Màn hình chính lúc này, sau mỗi lần thêm kí tự mới vào ô tìm kiếm</p>
<p><img src=https://user-images.githubusercontent.com/31009750/254897275-12d6d4da-c152-4bb6-904b-2e22834a4d6c.png alt=image></p>
<p>Hãy chú ý tới đoạn code bên dưới và phần console.log trong màn hình. 27 lần LinkDetailComponent:render. Điều này có nghĩa function LinkDetailComponent được gọi tới 27 lần mặc dù list link chưa hề được cập nhật.</p>
<blockquote>
<p>console.log(&ldquo;LinkDetailComponent:render&rdquo;);</p>
</blockquote>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>const</span> <span style=color:#a6e22e>LinkDetailComponent</span> <span style=color:#f92672>=</span> ({ <span style=color:#a6e22e>link</span>, <span style=color:#a6e22e>onEditLink</span>, <span style=color:#a6e22e>onDeleteLink</span>, ...<span style=color:#a6e22e>props</span> }) =&gt; {
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>linkTypeBadge</span> <span style=color:#f92672>=</span> {
    [<span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>LINK</span>]<span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;text-bg-primary&#34;</span>,
    [<span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>IMAGE</span>]<span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;text-bg-warning&#34;</span>,
    [<span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>YOUTUBE</span>]<span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;text-bg-danger&#34;</span>,
  };
  <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;LinkDetailComponent:render&#34;</span>);
  <span style=color:#75715e>// ...
</span></code></pre></div><p>Nguyên nhân là parent component của nó &ldquo;LinkManagementContainer&rdquo; đã render lại.
Do đó việc component render lại lúc này không hợp lí, vì list link lúc này chưa hề được cập nhật lại.
Để giải quyết vấn đề này, các anh/chị cần tối ưu lại như sau:</p>
<ul>
<li>Tách thêm component để chứa phần state - giúp hạn chế tối đa việc re-render lại không cần thiết của màn hình chính.</li>
</ul>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useImmer</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;use-immer&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>LINK_TYPE</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;../containers/LinkManagementContainer&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useEffect</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>ROWS_PER_PAGE_OPTIONS</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>15</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>25</span>, <span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>100</span>];
<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>DEFAULT_ROWS_PER_PAGE</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>LinkFilterComponent</span> <span style=color:#f92672>=</span> ({ <span style=color:#a6e22e>onFilterChanged</span>, ...<span style=color:#a6e22e>props</span> }) =&gt; {
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>LINK_TYPE_OPTIONS</span> <span style=color:#f92672>=</span> Object.<span style=color:#a6e22e>values</span>(<span style=color:#a6e22e>LINK_TYPE</span>);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>query</span>, <span style=color:#a6e22e>setQuery</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useImmer</span>({
    <span style=color:#a6e22e>rowsPerPage</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>DEFAULT_ROWS_PER_PAGE</span>,
    <span style=color:#a6e22e>searchText</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;&#34;</span>,
    <span style=color:#a6e22e>type</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;&#34;</span>,
  });
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onChangeQueryField</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>e</span>) =&gt; {
    <span style=color:#a6e22e>setQuery</span>((<span style=color:#a6e22e>q</span>) =&gt; {
      <span style=color:#a6e22e>q</span>[<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>target</span>.<span style=color:#a6e22e>name</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>target</span>.<span style=color:#a6e22e>value</span>;
    });
  };

  <span style=color:#a6e22e>useEffect</span>(() =&gt; {
    <span style=color:#a6e22e>onFilterChanged</span>(<span style=color:#a6e22e>query</span>);
  }, [<span style=color:#a6e22e>query</span>]);

  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mt-4 d-flex justify-content-between&#34;</span>&gt;
        &lt;<span style=color:#f92672>select</span>
          <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;form-select&#34;</span>
          <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Select rows per page&#34;</span>
          <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;rowsPerPage&#34;</span>
          <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span>{{
            <span style=color:#a6e22e>width</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;120px&#34;</span>,
          }}
          <span style=color:#a6e22e>onChange</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onChangeQueryField</span>}
        &gt;
          {<span style=color:#a6e22e>ROWS_PER_PAGE_OPTIONS</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>v</span>, <span style=color:#a6e22e>idx</span>) =&gt; (
            &lt;<span style=color:#f92672>option</span>
              <span style=color:#a6e22e>selected</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>v</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>rowsPerPage</span>}
              <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>v</span>}
              <span style=color:#a6e22e>key</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>idx</span>}
            &gt;{<span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>v</span><span style=color:#e6db74>}</span><span style=color:#e6db74> rows`</span>}&lt;/<span style=color:#f92672>option</span>&gt;
          ))}
        &lt;/<span style=color:#f92672>select</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;d-flex justify-content-end&#34;</span>&gt;
          &lt;<span style=color:#f92672>select</span>
            <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;form-select&#34;</span>
            <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Select rows per page&#34;</span>
            <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span>{{
              <span style=color:#a6e22e>width</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;120px&#34;</span>,
            }}
            <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;type&#34;</span>
            <span style=color:#a6e22e>onChange</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onChangeQueryField</span>}
          &gt;
            &lt;<span style=color:#f92672>option</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{<span style=color:#e6db74>&#34;&#34;</span>}&gt;<span style=color:#a6e22e>Type</span>&lt;/<span style=color:#f92672>option</span>&gt;
            {<span style=color:#a6e22e>LINK_TYPE_OPTIONS</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>v</span>, <span style=color:#a6e22e>idx</span>) =&gt; (
              &lt;<span style=color:#f92672>option</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>v</span>} <span style=color:#a6e22e>key</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>idx</span>}&gt;{<span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>v</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>}&lt;/<span style=color:#f92672>option</span>&gt;
            ))}
          &lt;/<span style=color:#f92672>select</span>&gt;
          &lt;<span style=color:#f92672>input</span>
            <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text&#34;</span>
            <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;searchText&#34;</span>
            <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;form-control ms-2&#34;</span>
            <span style=color:#a6e22e>placeholder</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Search&#34;</span>
            <span style=color:#a6e22e>onChange</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onChangeQueryField</span>}
          &gt;&lt;/<span style=color:#f92672>input</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>div</span>&gt;
    &lt;/&gt;
  );
};

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>LinkFilterComponent</span>;
</code></pre></div><blockquote>
<p>src\containers\LinkManagementContainer.jsx</p>
</blockquote>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx>&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;d-flex justify-content-end&#34;</span>&gt;
  &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onNewLink</span>}&gt;
    <span style=color:#a6e22e>New</span> <span style=color:#a6e22e>Link</span>
  &lt;/<span style=color:#f92672>button</span>&gt;
&lt;/<span style=color:#f92672>div</span>&gt;
&lt;<span style=color:#f92672>LinkFilterComponent</span> /&gt;
</code></pre></div><p>Sau khi tách xong
<img src=https://user-images.githubusercontent.com/31009750/254900426-c19bb80a-fa29-478c-a6f2-90fbc2b88e89.png alt=image></p>
<p>Sau khi xử lý xong vấn đề ở trên, lúc này các anh/chị cần làm 3 việc sau:</p>
<ol>
<li>Nhận query từ LinkFilterComponent và thực hiện tìm kiếm trên danh sách link hiện có.</li>
<li>Cập nhật là pagination sau mỗi lần tiếp kiếm.</li>
<li>Lưu trữ danh sách link trên browser và thực hiện khởi tạo danh sách link từ danh sách đã lưu trữ trên browser mỗi lần app được khởi động lại.</li>
</ol>
<h4 id=nhận-query-từ-linkfiltercomponent-và-thực-hiện-tìm-kiếm-trên-danh-sách-link-hiện-có---cập-nhật-là-pagination-sau-mỗi-lần-tiếp-kiếm>Nhận query từ LinkFilterComponent và thực hiện tìm kiếm trên danh sách link hiện có - Cập nhật là pagination sau mỗi lần tiếp kiếm.</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useImmer</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;use-immer&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>LINK_TYPE</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;../containers/LinkManagementContainer&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useEffect</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>ROWS_PER_PAGE_OPTIONS</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>15</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>25</span>, <span style=color:#ae81ff>50</span>, <span style=color:#ae81ff>100</span>];
<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>DEFAULT_ROWS_PER_PAGE</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>LinkFilterComponent</span> <span style=color:#f92672>=</span> ({ <span style=color:#a6e22e>onFilterChanged</span>, ...<span style=color:#a6e22e>props</span> }) =&gt; {
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>LINK_TYPE_OPTIONS</span> <span style=color:#f92672>=</span> Object.<span style=color:#a6e22e>values</span>(<span style=color:#a6e22e>LINK_TYPE</span>);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>query</span>, <span style=color:#a6e22e>setQuery</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useImmer</span>({
    <span style=color:#a6e22e>rowsPerPage</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>DEFAULT_ROWS_PER_PAGE</span>,
    <span style=color:#a6e22e>searchText</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;&#34;</span>,
    <span style=color:#a6e22e>type</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;&#34;</span>,
  });
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onChangeQueryField</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>e</span>) =&gt; {
    <span style=color:#a6e22e>setQuery</span>((<span style=color:#a6e22e>q</span>) =&gt; {
      <span style=color:#a6e22e>q</span>[<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>target</span>.<span style=color:#a6e22e>name</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>target</span>.<span style=color:#a6e22e>value</span>;
    });
  };

  <span style=color:#a6e22e>useEffect</span>(() =&gt; {
    <span style=color:#a6e22e>onFilterChanged</span>(<span style=color:#a6e22e>query</span>);
  }, [<span style=color:#a6e22e>query</span>]);

  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mt-4 d-flex justify-content-between&#34;</span>&gt;
        &lt;<span style=color:#f92672>select</span>
          <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;form-select&#34;</span>
          <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Select rows per page&#34;</span>
          <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;rowsPerPage&#34;</span>
          <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span>{{
            <span style=color:#a6e22e>width</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;120px&#34;</span>,
          }}
          <span style=color:#a6e22e>onChange</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onChangeQueryField</span>}
        &gt;
          {<span style=color:#a6e22e>ROWS_PER_PAGE_OPTIONS</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>v</span>, <span style=color:#a6e22e>idx</span>) =&gt; (
            &lt;<span style=color:#f92672>option</span>
              <span style=color:#a6e22e>selected</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>v</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>rowsPerPage</span>}
              <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>v</span>}
              <span style=color:#a6e22e>key</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>idx</span>}
            &gt;{<span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>v</span><span style=color:#e6db74>}</span><span style=color:#e6db74> rows`</span>}&lt;/<span style=color:#f92672>option</span>&gt;
          ))}
        &lt;/<span style=color:#f92672>select</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;d-flex justify-content-end&#34;</span>&gt;
          &lt;<span style=color:#f92672>select</span>
            <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;form-select&#34;</span>
            <span style=color:#a6e22e>aria</span><span style=color:#960050;background-color:#1e0010>-</span><span style=color:#a6e22e>label</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Select rows per page&#34;</span>
            <span style=color:#a6e22e>style</span><span style=color:#f92672>=</span>{{
              <span style=color:#a6e22e>width</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;120px&#34;</span>,
            }}
            <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;type&#34;</span>
            <span style=color:#a6e22e>onChange</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onChangeQueryField</span>}
          &gt;
            &lt;<span style=color:#f92672>option</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{<span style=color:#e6db74>&#34;&#34;</span>}&gt;<span style=color:#a6e22e>Type</span>&lt;/<span style=color:#f92672>option</span>&gt;
            {<span style=color:#a6e22e>LINK_TYPE_OPTIONS</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>v</span>, <span style=color:#a6e22e>idx</span>) =&gt; (
              &lt;<span style=color:#f92672>option</span> <span style=color:#a6e22e>value</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>v</span>} <span style=color:#a6e22e>key</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>idx</span>}&gt;{<span style=color:#e6db74>`</span><span style=color:#e6db74>${</span><span style=color:#a6e22e>v</span><span style=color:#e6db74>}</span><span style=color:#e6db74>`</span>}&lt;/<span style=color:#f92672>option</span>&gt;
            ))}
          &lt;/<span style=color:#f92672>select</span>&gt;
          &lt;<span style=color:#f92672>input</span>
            <span style=color:#a6e22e>type</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;text&#34;</span>
            <span style=color:#a6e22e>name</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;searchText&#34;</span>
            <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;form-control ms-2&#34;</span>
            <span style=color:#a6e22e>placeholder</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Search&#34;</span>
            <span style=color:#a6e22e>onChange</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onChangeQueryField</span>}
          &gt;&lt;/<span style=color:#f92672>input</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>div</span>&gt;
    &lt;/&gt;
  );
};

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>LinkFilterComponent</span>;
</code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useEffect</span>, <span style=color:#a6e22e>useRef</span>, <span style=color:#a6e22e>useState</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>LinkFormComponent</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;../components/LinkFormComponent&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Modal</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;bootstrap&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useImmer</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;use-immer&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>PaginationComponent</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;../components/PaginationComponent&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>LinkDetailComponent</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;../components/LinkDetailComponent&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>LinkFilterComponent</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;../components/LinkFilterComponent&#34;</span>;

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>LINK_TYPE</span> <span style=color:#f92672>=</span> {
  <span style=color:#a6e22e>LINK</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;link&#34;</span>,
  <span style=color:#a6e22e>YOUTUBE</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;youtube&#34;</span>,
  <span style=color:#a6e22e>IMAGE</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;image&#34;</span>,
};

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>searchLinkByQuery</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>links</span>, <span style=color:#a6e22e>query</span>) =&gt; {
  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>items</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>structuredClone</span>(<span style=color:#a6e22e>links</span>);
  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>type</span>) {
    <span style=color:#a6e22e>items</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>items</span>.<span style=color:#a6e22e>filter</span>((<span style=color:#a6e22e>l</span>) =&gt; <span style=color:#a6e22e>l</span>.<span style=color:#a6e22e>type</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>type</span>);
  }
  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>searchText</span>) {
    <span style=color:#a6e22e>items</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>items</span>.<span style=color:#a6e22e>filter</span>(
      (<span style=color:#a6e22e>l</span>) =&gt;
        <span style=color:#a6e22e>l</span>.<span style=color:#a6e22e>title</span>.<span style=color:#a6e22e>includes</span>(<span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>searchText</span>) <span style=color:#f92672>||</span> <span style=color:#a6e22e>l</span>.<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>includes</span>(<span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>searchText</span>)
    );
  }
  <span style=color:#75715e>// pagination
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>rowsPerPage</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>rowsPerPage</span> <span style=color:#f92672>||</span> <span style=color:#ae81ff>1</span>;
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>currentPage</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>currentPage</span> <span style=color:#f92672>||</span> <span style=color:#ae81ff>1</span>;
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>skip</span> <span style=color:#f92672>=</span> (Math.<span style=color:#a6e22e>max</span>(<span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>currentPage</span>) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>*</span> Math.<span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>rowsPerPage</span>, <span style=color:#ae81ff>0</span>);
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>numberOfItems</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>items</span>.<span style=color:#a6e22e>length</span>;
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>numberOfPages</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>ceil</span>(<span style=color:#a6e22e>numberOfItems</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>rowsPerPage</span>);

  <span style=color:#66d9ef>return</span> {
    <span style=color:#a6e22e>currentPage</span>,
    <span style=color:#a6e22e>rowsPerPage</span>,
    <span style=color:#a6e22e>items</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>items</span>.<span style=color:#a6e22e>slice</span>(<span style=color:#a6e22e>skip</span>, <span style=color:#a6e22e>skip</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>rowsPerPage</span>),
    <span style=color:#a6e22e>numberOfItems</span>,
    <span style=color:#a6e22e>numberOfPages</span>,
  };
};

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>LinkManagementContainer</span> <span style=color:#f92672>=</span> () =&gt; {
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>linkFormComponentModalInstance</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRef</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>linkFormComponentModal</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRef</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>editLink</span>, <span style=color:#a6e22e>setEditLink</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>storedLinks</span>, <span style=color:#a6e22e>setStoredLinks</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useImmer</span>([
    {
      <span style=color:#a6e22e>id</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>,
      <span style=color:#a6e22e>link</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;https://nextjsvietnam.com&#34;</span>,
      <span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;https://nextjsvietnam.com&#34;</span>,
      <span style=color:#a6e22e>type</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>LINK</span>,
      <span style=color:#a6e22e>publishedDate</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>new</span> Date(),
    },
    {
      <span style=color:#a6e22e>id</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>2</span>,
      <span style=color:#a6e22e>link</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;https://www.youtube.com/watch?v=M9voXLBcKTk&amp;t=2818s&#34;</span>,
      <span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;Những Ca Khúc Nhạc Đỏ Cách Mạng&#34;</span>,
      <span style=color:#a6e22e>type</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>YOUTUBE</span>,
      <span style=color:#a6e22e>publishedDate</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>new</span> Date(),
    },
    {
      <span style=color:#a6e22e>id</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>3</span>,
      <span style=color:#a6e22e>link</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;https://user-images.githubusercontent.com/31009750/246856332-ece36caa-82ef-4a4f-86d9-9dad4a108929.png&#34;</span>,
      <span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;ReactJS Tutorial Banner&#34;</span>,
      <span style=color:#a6e22e>type</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>IMAGE</span>,
      <span style=color:#a6e22e>publishedDate</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>new</span> Date(),
    },
  ]);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>links</span>, <span style=color:#a6e22e>setLinks</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useImmer</span>([]);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>paginator</span>, <span style=color:#a6e22e>setPaginator</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useImmer</span>({
    <span style=color:#a6e22e>currentPage</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>,
    <span style=color:#a6e22e>numberOfPages</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>10</span>,
    <span style=color:#a6e22e>rowsPerPage</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>5</span>,
    <span style=color:#a6e22e>numberOfItems</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>50</span>,
  });

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>saveLinks</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>links</span>) =&gt; {};

  <span style=color:#a6e22e>useEffect</span>(() =&gt; {
    <span style=color:#a6e22e>setLinks</span>(<span style=color:#a6e22e>storedLinks</span>);
  }, [<span style=color:#a6e22e>storedLinks</span>]);

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>openModal</span> <span style=color:#f92672>=</span> () =&gt; {
    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>) {
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;new modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
      <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Modal</span>(
        <span style=color:#a6e22e>linkFormComponentModal</span>.<span style=color:#a6e22e>current</span>,
        {
          <span style=color:#a6e22e>backdrop</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
          <span style=color:#a6e22e>focus</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
          <span style=color:#a6e22e>keyboard</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
        }
      );
      <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>show</span>();
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;created modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
      <span style=color:#75715e>// handler event close
</span><span style=color:#75715e></span>      <span style=color:#a6e22e>linkFormComponentModal</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#34;hide.bs.modal&#34;</span>, () =&gt; {
        <span style=color:#75715e>// reset state
</span><span style=color:#75715e></span>        <span style=color:#a6e22e>setEditLink</span>(<span style=color:#66d9ef>null</span>);
      });
      <span style=color:#66d9ef>return</span>;
    }
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;existing modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
    <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>show</span>();
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>closeModal</span> <span style=color:#f92672>=</span> () =&gt; {
    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>) {
      <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>hide</span>();
    }
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onNewLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>e</span>) =&gt; {
    <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
    <span style=color:#a6e22e>openModal</span>();
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onEditLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>link</span>) =&gt; {
    <span style=color:#75715e>// set editLink
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>setEditLink</span>(<span style=color:#a6e22e>link</span>);
    <span style=color:#75715e>// open modal
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>openModal</span>();
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onDeleteLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>link</span>) =&gt; {
    <span style=color:#75715e>// delete link
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>setLinks</span>((<span style=color:#a6e22e>linkList</span>) =&gt; {
      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>deleteLinkIndex</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>linkList</span>.<span style=color:#a6e22e>findIndex</span>((<span style=color:#a6e22e>l</span>) =&gt; <span style=color:#a6e22e>l</span>.<span style=color:#a6e22e>id</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>);
      <span style=color:#a6e22e>linkList</span>.<span style=color:#a6e22e>splice</span>(<span style=color:#a6e22e>deleteLinkIndex</span>, <span style=color:#ae81ff>1</span>);
    });
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onSaveLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>data</span>) =&gt; {
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>link</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>structuredClone</span>(<span style=color:#a6e22e>data</span>);
    <span style=color:#75715e>// new link has no id
</span><span style=color:#75715e></span>    <span style=color:#75715e>// existed link has id
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>link</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span><span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>) {
      <span style=color:#a6e22e>setLinks</span>((<span style=color:#a6e22e>linkList</span>) =&gt; {
        <span style=color:#a6e22e>Reflect</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>link</span>, <span style=color:#e6db74>&#34;id&#34;</span>, Date.<span style=color:#a6e22e>now</span>());
        <span style=color:#a6e22e>Reflect</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>link</span>, <span style=color:#e6db74>&#34;publishedDate&#34;</span>, <span style=color:#66d9ef>new</span> Date());
        <span style=color:#a6e22e>Reflect</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>link</span>, <span style=color:#e6db74>&#34;type&#34;</span>, <span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>LINK</span>);
        <span style=color:#a6e22e>linkList</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>link</span>);
      });
      <span style=color:#75715e>// close modal
</span><span style=color:#75715e></span>      <span style=color:#a6e22e>closeModal</span>();
      <span style=color:#66d9ef>return</span>;
    }
    <span style=color:#75715e>// otherwise edit mode
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>link</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>) {
      <span style=color:#a6e22e>setLinks</span>((<span style=color:#a6e22e>linkList</span>) =&gt; {
        <span style=color:#a6e22e>Reflect</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>link</span>, <span style=color:#e6db74>&#34;publishedDate&#34;</span>, <span style=color:#66d9ef>new</span> Date());
        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>editLinkIndex</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>linkList</span>.<span style=color:#a6e22e>findIndex</span>((<span style=color:#a6e22e>l</span>) =&gt; <span style=color:#a6e22e>l</span>.<span style=color:#a6e22e>id</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>);
        <span style=color:#a6e22e>linkList</span>[<span style=color:#a6e22e>editLinkIndex</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>link</span>;
      });
      <span style=color:#75715e>// close modal
</span><span style=color:#75715e></span>      <span style=color:#a6e22e>closeModal</span>();
      <span style=color:#66d9ef>return</span>;
    }
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onChangeCurrentPage</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>newCurrentPage</span>) =&gt; {
    <span style=color:#a6e22e>setPaginator</span>((<span style=color:#a6e22e>p</span>) =&gt; {
      <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>currentPage</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>newCurrentPage</span>;
    });
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onFilterChanged</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>filter</span>) =&gt; {
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>searchResult</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>searchLinkByQuery</span>(<span style=color:#a6e22e>storedLinks</span>, {
      ...<span style=color:#a6e22e>filter</span>,
      <span style=color:#a6e22e>currentPage</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>paginator</span>.<span style=color:#a6e22e>currentPage</span>,
    });
    <span style=color:#a6e22e>setLinks</span>(<span style=color:#a6e22e>searchResult</span>.<span style=color:#a6e22e>items</span>);
    <span style=color:#a6e22e>setPaginator</span>((<span style=color:#a6e22e>p</span>) =&gt; {
      <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>numberOfItems</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>searchResult</span>.<span style=color:#a6e22e>numberOfItems</span>;
      <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>numberOfPages</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>searchResult</span>.<span style=color:#a6e22e>numberOfPages</span>;
    });
  };

  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-header text-bg-primary&#34;</span>&gt;
          &lt;<span style=color:#f92672>h3</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-title&#34;</span>&gt;<span style=color:#a6e22e>Links</span>&lt;/<span style=color:#f92672>h3</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-body&#34;</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;d-flex justify-content-end&#34;</span>&gt;
            &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onNewLink</span>}&gt;
              <span style=color:#a6e22e>New</span> <span style=color:#a6e22e>Link</span>
            &lt;/<span style=color:#f92672>button</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;<span style=color:#f92672>LinkFilterComponent</span> <span style=color:#a6e22e>onFilterChanged</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onFilterChanged</span>} /&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mt-4&#34;</span>&gt;
            {<span style=color:#a6e22e>links</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>link</span>) =&gt; (
              &lt;<span style=color:#f92672>LinkDetailComponent</span>
                <span style=color:#a6e22e>key</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>}
                <span style=color:#a6e22e>link</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>link</span>}
                <span style=color:#a6e22e>onEditLink</span><span style=color:#f92672>=</span>{() =&gt; <span style=color:#a6e22e>onEditLink</span>(<span style=color:#a6e22e>link</span>)}
                <span style=color:#a6e22e>onDeleteLink</span><span style=color:#f92672>=</span>{() =&gt; <span style=color:#a6e22e>onDeleteLink</span>(<span style=color:#a6e22e>link</span>)}
              /&gt;
            ))}
          &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;<span style=color:#f92672>PaginationComponent</span>
            <span style=color:#a6e22e>numberOfPages</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>paginator</span>.<span style=color:#a6e22e>numberOfPages</span>}
            <span style=color:#a6e22e>currentPage</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>paginator</span>.<span style=color:#a6e22e>currentPage</span>}
            <span style=color:#a6e22e>onChangeCurrentPage</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onChangeCurrentPage</span>}
          /&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;<span style=color:#f92672>LinkFormComponent</span>
        <span style=color:#a6e22e>ref</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>linkFormComponentModal</span>}
        <span style=color:#a6e22e>link</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>editLink</span>}
        <span style=color:#a6e22e>onSaveLink</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onSaveLink</span>}
      &gt;&lt;/<span style=color:#f92672>LinkFormComponent</span>&gt;
    &lt;/&gt;
  );
};

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>LinkManagementContainer</span>;
</code></pre></div><h4 id=lưu-trữ-danh-sách-link-trên-browser-và-thực-hiện-khởi-tạo-danh-sách-link-từ-danh-sách-đã-lưu-trữ-trên-browser-mỗi-lần-app-được-khởi-động-lại>Lưu trữ danh sách link trên browser và thực hiện khởi tạo danh sách link từ danh sách đã lưu trữ trên browser mỗi lần app được khởi động lại.</h4>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-jsx data-lang=jsx><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useEffect</span>, <span style=color:#a6e22e>useRef</span>, <span style=color:#a6e22e>useState</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;react&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>LinkFormComponent</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;../components/LinkFormComponent&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>Modal</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;bootstrap&#34;</span>;
<span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>useImmer</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;use-immer&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>PaginationComponent</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;../components/PaginationComponent&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>LinkDetailComponent</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;../components/LinkDetailComponent&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>LinkFilterComponent</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;../components/LinkFilterComponent&#34;</span>;

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>LINK_TYPE</span> <span style=color:#f92672>=</span> {
  <span style=color:#a6e22e>LINK</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;link&#34;</span>,
  <span style=color:#a6e22e>YOUTUBE</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;youtube&#34;</span>,
  <span style=color:#a6e22e>IMAGE</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;image&#34;</span>,
};

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>searchLinkByQuery</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>links</span>, <span style=color:#a6e22e>query</span>) =&gt; {
  <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>items</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>structuredClone</span>(<span style=color:#a6e22e>links</span>);
  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>type</span>) {
    <span style=color:#a6e22e>items</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>items</span>.<span style=color:#a6e22e>filter</span>((<span style=color:#a6e22e>l</span>) =&gt; <span style=color:#a6e22e>l</span>.<span style=color:#a6e22e>type</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>type</span>);
  }
  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>searchText</span>) {
    <span style=color:#a6e22e>items</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>items</span>.<span style=color:#a6e22e>filter</span>(
      (<span style=color:#a6e22e>l</span>) =&gt;
        <span style=color:#a6e22e>l</span>.<span style=color:#a6e22e>title</span>.<span style=color:#a6e22e>includes</span>(<span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>searchText</span>) <span style=color:#f92672>||</span> <span style=color:#a6e22e>l</span>.<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>includes</span>(<span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>searchText</span>)
    );
  }
  <span style=color:#75715e>// pagination
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>rowsPerPage</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>rowsPerPage</span> <span style=color:#f92672>||</span> <span style=color:#ae81ff>1</span>;
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>currentPage</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>query</span>.<span style=color:#a6e22e>currentPage</span> <span style=color:#f92672>||</span> <span style=color:#ae81ff>1</span>;
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>skip</span> <span style=color:#f92672>=</span> (Math.<span style=color:#a6e22e>max</span>(<span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>currentPage</span>) <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>*</span> Math.<span style=color:#a6e22e>max</span>(<span style=color:#a6e22e>rowsPerPage</span>, <span style=color:#ae81ff>0</span>);
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>numberOfItems</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>items</span>.<span style=color:#a6e22e>length</span>;
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>numberOfPages</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>ceil</span>(<span style=color:#a6e22e>numberOfItems</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>rowsPerPage</span>);

  <span style=color:#66d9ef>return</span> {
    <span style=color:#a6e22e>currentPage</span>,
    <span style=color:#a6e22e>rowsPerPage</span>,
    <span style=color:#a6e22e>items</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>items</span>.<span style=color:#a6e22e>slice</span>(<span style=color:#a6e22e>skip</span>, <span style=color:#a6e22e>skip</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>rowsPerPage</span>),
    <span style=color:#a6e22e>numberOfItems</span>,
    <span style=color:#a6e22e>numberOfPages</span>,
  };
};

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>extractLinkType</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>link</span>) =&gt; {
  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>endsWith</span>(<span style=color:#e6db74>&#34;png&#34;</span>) <span style=color:#f92672>||</span> <span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>endsWith</span>(<span style=color:#e6db74>&#34;jpg&#34;</span>) <span style=color:#f92672>||</span> <span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>endsWith</span>(<span style=color:#e6db74>&#34;jpeg&#34;</span>)) {
    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>IMAGE</span>;
  }
  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>startsWith</span>(<span style=color:#e6db74>&#34;https://www.youtube.com&#34;</span>)) {
    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>YOUTUBE</span>;
  }
  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>LINK_TYPE</span>.<span style=color:#a6e22e>LINK</span>;
};

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>DBName</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;NextJSVietnam-LinkList&#34;</span>;
<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>CollectionName</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;links&#34;</span>;

<span style=color:#66d9ef>const</span> <span style=color:#a6e22e>LinkManagementContainer</span> <span style=color:#f92672>=</span> () =&gt; {
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>linkFormComponentModalInstance</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRef</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>linkFormComponentModal</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRef</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>editLink</span>, <span style=color:#a6e22e>setEditLink</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>links</span>, <span style=color:#a6e22e>setLinks</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useImmer</span>([]);
  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>query</span>, <span style=color:#a6e22e>setQuery</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useImmer</span>({
    <span style=color:#a6e22e>currentPage</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>1</span>,
  });

  <span style=color:#66d9ef>const</span> [<span style=color:#a6e22e>objectStore</span>, <span style=color:#a6e22e>setObjectStore</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>useState</span>(<span style=color:#66d9ef>null</span>);
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>db</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>useRef</span>(<span style=color:#66d9ef>null</span>);

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>loadLinksFromStorage</span> <span style=color:#f92672>=</span> () =&gt; {
    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>db</span>.<span style=color:#a6e22e>current</span>) {
      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>objectStore</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>db</span>.<span style=color:#a6e22e>current</span>
        .<span style=color:#a6e22e>transaction</span>(<span style=color:#a6e22e>CollectionName</span>, <span style=color:#e6db74>&#34;readwrite&#34;</span>)
        .<span style=color:#a6e22e>objectStore</span>(<span style=color:#a6e22e>CollectionName</span>);
      <span style=color:#a6e22e>setObjectStore</span>(<span style=color:#a6e22e>objectStore</span>);
      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>res</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>objectStore</span>.<span style=color:#a6e22e>getAll</span>();
      <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>onsuccess</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>e</span>) =&gt; {
        <span style=color:#a6e22e>setLinks</span>(<span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>target</span>.<span style=color:#a6e22e>result</span>);
      };
    }
  };

  <span style=color:#75715e>// init
</span><span style=color:#75715e></span>  <span style=color:#a6e22e>useEffect</span>(() =&gt; {
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>DBOpenRequest</span> <span style=color:#f92672>=</span> window.<span style=color:#a6e22e>indexedDB</span>.<span style=color:#a6e22e>open</span>(<span style=color:#a6e22e>DBName</span>, <span style=color:#ae81ff>1</span>);
    <span style=color:#75715e>// connection error
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>DBOpenRequest</span>.<span style=color:#a6e22e>onerror</span> <span style=color:#f92672>=</span> () =&gt; {
      <span style=color:#a6e22e>alert</span>(<span style=color:#e6db74>&#34;Can not connect IndexDB&#34;</span>);
    };
    <span style=color:#75715e>// for upgrade/init
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>DBOpenRequest</span>.<span style=color:#a6e22e>onupgradeneeded</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>event</span>) =&gt; {
      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>db</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>target</span>.<span style=color:#a6e22e>result</span>;

      <span style=color:#a6e22e>db</span>.<span style=color:#a6e22e>onerror</span> <span style=color:#f92672>=</span> () =&gt; {
        <span style=color:#a6e22e>alert</span>(<span style=color:#e6db74>&#34;Can not connect IndexDB&#34;</span>);
      };

      <span style=color:#75715e>// Create an objectStore for this CollectionName
</span><span style=color:#75715e></span>
      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>objectStore</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>db</span>.<span style=color:#a6e22e>createObjectStore</span>(<span style=color:#a6e22e>CollectionName</span>, {
        <span style=color:#a6e22e>keyPath</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;id&#34;</span>,
      });

      <span style=color:#75715e>// define what data items the objectStore will contain
</span><span style=color:#75715e></span>      <span style=color:#a6e22e>objectStore</span>.<span style=color:#a6e22e>createIndex</span>(<span style=color:#e6db74>&#34;link&#34;</span>, <span style=color:#e6db74>&#34;link&#34;</span>, { <span style=color:#a6e22e>unique</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span> });
      <span style=color:#a6e22e>objectStore</span>.<span style=color:#a6e22e>createIndex</span>(<span style=color:#e6db74>&#34;title&#34;</span>, <span style=color:#e6db74>&#34;title&#34;</span>, { <span style=color:#a6e22e>unique</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span> });
      <span style=color:#a6e22e>objectStore</span>.<span style=color:#a6e22e>createIndex</span>(<span style=color:#e6db74>&#34;type&#34;</span>, <span style=color:#e6db74>&#34;type&#34;</span>, { <span style=color:#a6e22e>unique</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span> });
      <span style=color:#a6e22e>objectStore</span>.<span style=color:#a6e22e>createIndex</span>(<span style=color:#e6db74>&#34;publishedDate&#34;</span>, <span style=color:#e6db74>&#34;publishedDate&#34;</span>, {
        <span style=color:#a6e22e>unique</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>false</span>,
      });

      <span style=color:#a6e22e>alert</span>(<span style=color:#e6db74>&#34;Object store created.&#34;</span>);
    };
    <span style=color:#75715e>// success
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>DBOpenRequest</span>.<span style=color:#a6e22e>onsuccess</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>event</span>) =&gt; {
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>event</span>);
      <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>objectStore</span>) {
        <span style=color:#75715e>// Store the result of opening the database in the db variable. This is used a lot below
</span><span style=color:#75715e></span>        <span style=color:#a6e22e>db</span>.<span style=color:#a6e22e>current</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>DBOpenRequest</span>.<span style=color:#a6e22e>result</span>;
        <span style=color:#a6e22e>loadLinksFromStorage</span>();
      }
    };
  }, []);

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>storeLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>link</span>, <span style=color:#a6e22e>action</span>) =&gt; {
    <span style=color:#75715e>// Open a read/write DB transaction, ready for adding the data
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>db</span>.<span style=color:#a6e22e>current</span>) {
      <span style=color:#75715e>// Call an object store that&#39;s already been added to the database
</span><span style=color:#75715e></span>      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>objectStore</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>db</span>.<span style=color:#a6e22e>current</span>
        .<span style=color:#a6e22e>transaction</span>(<span style=color:#a6e22e>CollectionName</span>, <span style=color:#e6db74>&#34;readwrite&#34;</span>)
        .<span style=color:#a6e22e>objectStore</span>(<span style=color:#a6e22e>CollectionName</span>);
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>objectStore</span>.<span style=color:#a6e22e>indexNames</span>);
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>objectStore</span>.<span style=color:#a6e22e>keyPath</span>);
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>objectStore</span>.<span style=color:#a6e22e>name</span>);
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>objectStore</span>.<span style=color:#a6e22e>transaction</span>);
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#a6e22e>objectStore</span>.<span style=color:#a6e22e>autoIncrement</span>);
      <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>objectStoreRequest</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>null</span>;
      <span style=color:#66d9ef>const</span> { <span style=color:#a6e22e>id</span> } <span style=color:#f92672>=</span> <span style=color:#a6e22e>link</span>;

      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>action</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#34;add&#34;</span>) {
        <span style=color:#a6e22e>objectStoreRequest</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>objectStore</span>.<span style=color:#a6e22e>add</span>(<span style=color:#a6e22e>link</span>);
      }
      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>action</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#34;edit&#34;</span>) {
        <span style=color:#a6e22e>objectStoreRequest</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>objectStore</span>.<span style=color:#a6e22e>put</span>(<span style=color:#a6e22e>link</span>);
      }
      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>action</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#34;delete&#34;</span>) {
        <span style=color:#a6e22e>objectStoreRequest</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>objectStore</span>.<span style=color:#66d9ef>delete</span>(<span style=color:#a6e22e>id</span>);
      }
      <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>objectStoreRequest</span>) {
        <span style=color:#a6e22e>objectStoreRequest</span>.<span style=color:#a6e22e>onsuccess</span> <span style=color:#f92672>=</span> () =&gt; {
          <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;object saved!&#34;</span>);
        };
      }
    }
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>openModal</span> <span style=color:#f92672>=</span> () =&gt; {
    <span style=color:#66d9ef>if</span> (<span style=color:#f92672>!</span><span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>) {
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;new modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
      <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Modal</span>(
        <span style=color:#a6e22e>linkFormComponentModal</span>.<span style=color:#a6e22e>current</span>,
        {
          <span style=color:#a6e22e>backdrop</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
          <span style=color:#a6e22e>focus</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
          <span style=color:#a6e22e>keyboard</span><span style=color:#f92672>:</span> <span style=color:#66d9ef>true</span>,
        }
      );
      <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>show</span>();
      <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;created modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
      <span style=color:#75715e>// handler event close
</span><span style=color:#75715e></span>      <span style=color:#a6e22e>linkFormComponentModal</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>addEventListener</span>(<span style=color:#e6db74>&#34;hide.bs.modal&#34;</span>, () =&gt; {
        <span style=color:#75715e>// reset state
</span><span style=color:#75715e></span>        <span style=color:#a6e22e>setEditLink</span>(<span style=color:#66d9ef>null</span>);
      });
      <span style=color:#66d9ef>return</span>;
    }
    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#34;existing modal&#34;</span>, <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>);
    <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>show</span>();
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>closeModal</span> <span style=color:#f92672>=</span> () =&gt; {
    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>) {
      <span style=color:#a6e22e>linkFormComponentModalInstance</span>.<span style=color:#a6e22e>current</span>.<span style=color:#a6e22e>hide</span>();
    }
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onNewLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>e</span>) =&gt; {
    <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>preventDefault</span>();
    <span style=color:#a6e22e>openModal</span>();
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onEditLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>link</span>) =&gt; {
    <span style=color:#75715e>// set editLink
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>setEditLink</span>(<span style=color:#a6e22e>link</span>);
    <span style=color:#75715e>// open modal
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>openModal</span>();
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onDeleteLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>link</span>) =&gt; {
    <span style=color:#75715e>// delete link
</span><span style=color:#75715e></span>    <span style=color:#a6e22e>setLinks</span>((<span style=color:#a6e22e>linkList</span>) =&gt; {
      <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>deleteLinkIndex</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>linkList</span>.<span style=color:#a6e22e>findIndex</span>((<span style=color:#a6e22e>l</span>) =&gt; <span style=color:#a6e22e>l</span>.<span style=color:#a6e22e>id</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>);
      <span style=color:#a6e22e>linkList</span>.<span style=color:#a6e22e>splice</span>(<span style=color:#a6e22e>deleteLinkIndex</span>, <span style=color:#ae81ff>1</span>);
      <span style=color:#a6e22e>storeLink</span>(<span style=color:#a6e22e>link</span>, <span style=color:#e6db74>&#34;delete&#34;</span>);
    });
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onSaveLink</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>data</span>) =&gt; {
    <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>link</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>structuredClone</span>(<span style=color:#a6e22e>data</span>);
    <span style=color:#75715e>// new link has no id
</span><span style=color:#75715e></span>    <span style=color:#75715e>// existed link has id
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>link</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#f92672>!</span><span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>) {
      <span style=color:#a6e22e>setLinks</span>((<span style=color:#a6e22e>linkList</span>) =&gt; {
        <span style=color:#a6e22e>Reflect</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>link</span>, <span style=color:#e6db74>&#34;id&#34;</span>, Date.<span style=color:#a6e22e>now</span>());
        <span style=color:#a6e22e>Reflect</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>link</span>, <span style=color:#e6db74>&#34;publishedDate&#34;</span>, <span style=color:#66d9ef>new</span> Date());
        <span style=color:#a6e22e>Reflect</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>link</span>, <span style=color:#e6db74>&#34;type&#34;</span>, <span style=color:#a6e22e>extractLinkType</span>(<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>link</span>));
        <span style=color:#a6e22e>linkList</span>.<span style=color:#a6e22e>push</span>(<span style=color:#a6e22e>link</span>);
      });
      <span style=color:#75715e>// close modal
</span><span style=color:#75715e></span>      <span style=color:#a6e22e>closeModal</span>();
      <span style=color:#75715e>// on add link
</span><span style=color:#75715e></span>      <span style=color:#a6e22e>storeLink</span>(<span style=color:#a6e22e>link</span>, <span style=color:#e6db74>&#34;add&#34;</span>);
      <span style=color:#66d9ef>return</span>;
    }
    <span style=color:#75715e>// otherwise edit mode
</span><span style=color:#75715e></span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>link</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>) {
      <span style=color:#a6e22e>setLinks</span>((<span style=color:#a6e22e>linkList</span>) =&gt; {
        <span style=color:#a6e22e>Reflect</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>link</span>, <span style=color:#e6db74>&#34;publishedDate&#34;</span>, <span style=color:#66d9ef>new</span> Date());
        <span style=color:#a6e22e>Reflect</span>.<span style=color:#a6e22e>set</span>(<span style=color:#a6e22e>link</span>, <span style=color:#e6db74>&#34;type&#34;</span>, <span style=color:#a6e22e>extractLinkType</span>(<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>link</span>));
        <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>editLinkIndex</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>linkList</span>.<span style=color:#a6e22e>findIndex</span>((<span style=color:#a6e22e>l</span>) =&gt; <span style=color:#a6e22e>l</span>.<span style=color:#a6e22e>id</span> <span style=color:#f92672>===</span> <span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>);
        <span style=color:#a6e22e>linkList</span>[<span style=color:#a6e22e>editLinkIndex</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>link</span>;
      });
      <span style=color:#75715e>// close modal
</span><span style=color:#75715e></span>      <span style=color:#a6e22e>closeModal</span>();
      <span style=color:#75715e>// on add link
</span><span style=color:#75715e></span>      <span style=color:#a6e22e>storeLink</span>(<span style=color:#a6e22e>link</span>, <span style=color:#e6db74>&#34;edit&#34;</span>);
      <span style=color:#66d9ef>return</span>;
    }
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onChangeCurrentPage</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>newCurrentPage</span>) =&gt; {
    <span style=color:#a6e22e>setQuery</span>((<span style=color:#a6e22e>q</span>) =&gt; {
      <span style=color:#a6e22e>q</span>.<span style=color:#a6e22e>currentPage</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>newCurrentPage</span>;
    });
  };

  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>onFilterChanged</span> <span style=color:#f92672>=</span> (<span style=color:#a6e22e>filter</span>) =&gt; {
    <span style=color:#a6e22e>setQuery</span>((<span style=color:#a6e22e>q</span>) =&gt; {
      <span style=color:#66d9ef>return</span> { ...<span style=color:#a6e22e>q</span>, ...<span style=color:#a6e22e>filter</span> };
    });
  };
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>res</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>searchLinkByQuery</span>(<span style=color:#a6e22e>links</span>, <span style=color:#a6e22e>query</span>);
  <span style=color:#75715e>// computed values
</span><span style=color:#75715e></span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>paginator</span> <span style=color:#f92672>=</span> {
    <span style=color:#a6e22e>numberOfPages</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>numberOfPages</span>,
    <span style=color:#a6e22e>numberOfItems</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>numberOfItems</span>,
    <span style=color:#a6e22e>rowsPerPage</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>rowsPerPage</span>,
    <span style=color:#a6e22e>currentPage</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>currentPage</span>,
  };
  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>items</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>res</span>.<span style=color:#a6e22e>items</span>;

  <span style=color:#66d9ef>return</span> (
    &lt;&gt;
      &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card&#34;</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-header text-bg-primary&#34;</span>&gt;
          &lt;<span style=color:#f92672>h3</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-title&#34;</span>&gt;<span style=color:#a6e22e>Links</span>&lt;/<span style=color:#f92672>h3</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;card-body&#34;</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;d-flex justify-content-end&#34;</span>&gt;
            &lt;<span style=color:#f92672>button</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;btn btn-primary&#34;</span> <span style=color:#a6e22e>onClick</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onNewLink</span>}&gt;
              <span style=color:#a6e22e>New</span> <span style=color:#a6e22e>Link</span>
            &lt;/<span style=color:#f92672>button</span>&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;<span style=color:#f92672>LinkFilterComponent</span> <span style=color:#a6e22e>onFilterChanged</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onFilterChanged</span>} /&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;mt-4&#34;</span>&gt;
            {<span style=color:#a6e22e>items</span>.<span style=color:#a6e22e>map</span>((<span style=color:#a6e22e>link</span>) =&gt; (
              &lt;<span style=color:#f92672>LinkDetailComponent</span>
                <span style=color:#a6e22e>key</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>link</span>.<span style=color:#a6e22e>id</span>}
                <span style=color:#a6e22e>link</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>link</span>}
                <span style=color:#a6e22e>onEditLink</span><span style=color:#f92672>=</span>{() =&gt; <span style=color:#a6e22e>onEditLink</span>(<span style=color:#a6e22e>link</span>)}
                <span style=color:#a6e22e>onDeleteLink</span><span style=color:#f92672>=</span>{() =&gt; <span style=color:#a6e22e>onDeleteLink</span>(<span style=color:#a6e22e>link</span>)}
              /&gt;
            ))}
          &lt;/<span style=color:#f92672>div</span>&gt;
          &lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>className</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;d-flex justify-content-between&#34;</span>&gt;
            {<span style=color:#a6e22e>paginator</span>.<span style=color:#a6e22e>numberOfItems</span> <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> (
              &lt;<span style=color:#f92672>div</span>&gt;
                <span style=color:#a6e22e>Showing</span>{<span style=color:#e6db74>&#34; &#34;</span>}
                {(<span style=color:#a6e22e>paginator</span>.<span style=color:#a6e22e>currentPage</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>paginator</span>.<span style=color:#a6e22e>rowsPerPage</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>} <span style=color:#a6e22e>to</span>{<span style=color:#e6db74>&#34; &#34;</span>}
                {Math.<span style=color:#a6e22e>min</span>(
                  <span style=color:#a6e22e>paginator</span>.<span style=color:#a6e22e>currentPage</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>paginator</span>.<span style=color:#a6e22e>rowsPerPage</span>,
                  <span style=color:#a6e22e>paginator</span>.<span style=color:#a6e22e>numberOfItems</span>
                )}{<span style=color:#e6db74>&#34; &#34;</span>}
                <span style=color:#66d9ef>of</span> {<span style=color:#a6e22e>paginator</span>.<span style=color:#a6e22e>numberOfItems</span>}
              &lt;/<span style=color:#f92672>div</span>&gt;
            )}
            &lt;<span style=color:#f92672>PaginationComponent</span>
              <span style=color:#a6e22e>numberOfPages</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>paginator</span>.<span style=color:#a6e22e>numberOfPages</span>}
              <span style=color:#a6e22e>currentPage</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>paginator</span>.<span style=color:#a6e22e>currentPage</span>}
              <span style=color:#a6e22e>onChangeCurrentPage</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onChangeCurrentPage</span>}
            /&gt;
          &lt;/<span style=color:#f92672>div</span>&gt;
        &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;/<span style=color:#f92672>div</span>&gt;
      &lt;<span style=color:#f92672>LinkFormComponent</span>
        <span style=color:#a6e22e>ref</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>linkFormComponentModal</span>}
        <span style=color:#a6e22e>link</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>editLink</span>}
        <span style=color:#a6e22e>onSaveLink</span><span style=color:#f92672>=</span>{<span style=color:#a6e22e>onSaveLink</span>}
      &gt;&lt;/<span style=color:#f92672>LinkFormComponent</span>&gt;
    &lt;/&gt;
  );
};

<span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>LinkManagementContainer</span>;
</code></pre></div><p><img src=https://user-images.githubusercontent.com/31009750/254928268-e8d9a8d7-ac84-44b4-b137-15033bdd7cbc.png alt=image></p>
<h3 id=hướng-dẫn-triển-khai-ứng-dụng-reactjs-lên-github-miễn-phí>Hướng dẫn triển khai ứng dụng ReactJS lên github miễn phí</h3>
<p>Các bước thực hiện</p>
<ol>
<li>Tạo github repo mới</li>
</ol>
<p><img src=https://user-images.githubusercontent.com/31009750/255149372-e1ef0e7b-7fe6-41e8-bfd9-1b61ff0df8c6.png alt=image></p>
<ol start=2>
<li>Copy source code trong bài ví dụ này sang repo mới</li>
</ol>
<p>Lưu ý các anh/chị chỉ cần copy các tập tin, thư mục trong hình là đủ</p>
<p><img src=https://user-images.githubusercontent.com/31009750/255149865-cccd51c1-229a-41c0-84b5-ccb8b47d9191.png alt=image></p>
<p>Xong bước này các anh chị có thể push code lên repo mới trước. Đồng thời có thể chỉnh lại file env (production) để đặt tên cho ứng dụng.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>VITE_APP_VERSION<span style=color:#f92672>=</span>1.0
VITE_APP_NAME<span style=color:#f92672>=</span>Link Management App
</code></pre></div><ol start=3>
<li>Sử dụng github page và điều chỉnh config để build ứng dụng</li>
</ol>
<p>Điều chỉnh lại config cho vite để build ứng dụng vào thư mục <strong>&ldquo;docs&rdquo;</strong>. Lí do là github page cho phép chọn thư mục gốc của repo hoặc thư mục &ldquo;docs&rdquo; để host 1 website tĩnh với html,css và javascript.</p>
<blockquote>
<p>vite.config.js</p>
</blockquote>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>defineConfig</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;vite&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>react</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;@vitejs/plugin-react&#34;</span>;

<span style=color:#75715e>// https://vitejs.dev/config/
</span><span style=color:#75715e></span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>defineConfig</span>({
  <span style=color:#a6e22e>plugins</span><span style=color:#f92672>:</span> [<span style=color:#a6e22e>react</span>()],
  <span style=color:#a6e22e>server</span><span style=color:#f92672>:</span> {
    <span style=color:#a6e22e>port</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>3015</span>,
  },
  <span style=color:#a6e22e>build</span><span style=color:#f92672>:</span> {
    <span style=color:#a6e22e>outDir</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;docs&#34;</span>,
  },
});
</code></pre></div><p><img src=https://user-images.githubusercontent.com/31009750/255152668-acee6b5f-6fe3-43cb-bb33-d182af21dd2f.png alt=image></p>
<p>Sau khi build xong, hãy push bản build + source code mới nhất lên git repo.</p>
<p><img src=https://user-images.githubusercontent.com/31009750/255154262-e25c16c7-645c-4540-8fa0-1b1cf02679f1.png alt=image></p>
<p>Hãy truy cập repo trên github của các anh/chị rồi vào phần Settings -> Pages (tab)</p>
<p>Ví dụ : <a href=https://github.com/%5Byour-repository-link%5D/settings/pages>https://github.com/[your-repository-link]/settings/pages</a></p>
<p>Thiết lập như trong hình và save thôi.</p>
<p><img src=https://user-images.githubusercontent.com/31009750/255151684-6f82b3af-a7b7-40af-bdae-c67995e8831b.png alt=image></p>
<p>Đợi khoảng 30s, rồi refresh lại trang setting này, các anh chị sẽ thấy link github page của repo đã sẵn sàng để truy cập như hình dưới</p>
<p><img src=https://user-images.githubusercontent.com/31009750/255154933-87ba498c-77a3-4e3b-9c82-b85fdb1f0ec1.png alt=image></p>
<p>Hãy vào link xem thành quả thôi nào, tuy nhiên &mldr;</p>
<p><img src=https://user-images.githubusercontent.com/31009750/255155102-eff6a55b-642e-4343-a0a8-5362d6ce6d14.png alt=image></p>
<p>Nguyên nhân là ứng dụng của các anh/chị được host trong 1 folder, do đó đường dẫn tới các assets: js,css,images, đã không còn đúng nữa, vì ở bước đầu tiên, các anh/chị đã thiết lập config để build và chạy thử nghiệm ứng dụng nằm tại thư mục gốc, ko nằm trong 1 folder nào cả.</p>
<p>Do đó các anh/chị cần chỉnh lại config, để bản build được như mong đợi như sau.</p>
<p><img src=https://user-images.githubusercontent.com/31009750/255155969-04f69dc9-c327-4cd5-9e96-55d939e15583.png alt=image></p>
<p>Trong ví dụ này folder là app-link-management ( repo name ), do đó config tương ứng sẽ là</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#66d9ef>import</span> { <span style=color:#a6e22e>defineConfig</span> } <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;vite&#34;</span>;
<span style=color:#66d9ef>import</span> <span style=color:#a6e22e>react</span> <span style=color:#a6e22e>from</span> <span style=color:#e6db74>&#34;@vitejs/plugin-react&#34;</span>;

<span style=color:#75715e>// https://vitejs.dev/config/
</span><span style=color:#75715e></span><span style=color:#66d9ef>export</span> <span style=color:#66d9ef>default</span> <span style=color:#a6e22e>defineConfig</span>({
  <span style=color:#a6e22e>base</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>process</span>.<span style=color:#a6e22e>env</span>.<span style=color:#a6e22e>NODE_ENV</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#34;production&#34;</span> <span style=color:#f92672>?</span> <span style=color:#e6db74>&#34;/app-link-management/&#34;</span> <span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;/&#34;</span>,
  <span style=color:#a6e22e>plugins</span><span style=color:#f92672>:</span> [<span style=color:#a6e22e>react</span>()],
  <span style=color:#a6e22e>server</span><span style=color:#f92672>:</span> {
    <span style=color:#a6e22e>port</span><span style=color:#f92672>:</span> <span style=color:#ae81ff>3015</span>,
  },
  <span style=color:#a6e22e>build</span><span style=color:#f92672>:</span> {
    <span style=color:#a6e22e>outDir</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#34;docs&#34;</span>,
  },
});
</code></pre></div><p>Chạy thử dưới local</p>
<p><img src=https://user-images.githubusercontent.com/31009750/255156571-778abb6e-2499-47ab-9d08-8fc2de0427b1.png alt=image></p>
<p>Kết quả sau khi push bản build mới lên github.</p>
<p><img src=https://user-images.githubusercontent.com/31009750/255156887-8ffb845c-efa6-44fa-84e9-7d8d2f0dfad8.png alt=image></p>
<div class="m-1 p-1">
<a class="m-1 p-1 text-xs font-bold leading-none border border-gray-200 bg-white" href=https://nextjsvietnam.com/categories/reactjs-tutorial>reactjs-tutorial</a>
</div>
</div>
</section>
<section class="container section">
<div class="max-w-2xl mx-auto">
<div class="font-heading text-2xl font-semibold">You Might Also Like</div>
<div class="mt-8 grid gap-8">
<ul class=sidebar-links>
<li><a href=/post/khoa-hoc-reactjs-bai-04-viet-test/>Khóa học ReactJS Bài 04 - viết test cho dự án React</a></li>
<li><a href=/post/khoa-hoc-reactjs-bai-02/>Khóa học ReactJS - Bài 02 - Làm quen với ReactJS qua các khái niệm</a></li>
<li><a href=/post/khoa-hoc-reactjs/>Khóa học ReactJS - Bài 01 - Lộ trình các bài học về ReactJS</a></li>
</ul>
</div>
</div>
</section>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1642510310947288" crossorigin=anonymous></script>
<ins class=adsbygoogle style=display:block;text-align:center data-ad-layout=in-article data-ad-format=fluid data-ad-client=ca-pub-1642510310947288 data-ad-slot=9309117729></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script>
</main>
<footer class=footer>
<div class="container md:flex">
<section class="footer-section-info md:basis-1/4">
<div class=address>
<a class=logo href=https://nextjsvietnam.com title=NextJSVietNam>
NextJSVietNam
</a>
<h4 class=footer-heading>
PRODUCTION MODE
<h4>
</div>
</section>
<div class="footer-section-navigation-menu md:basis-1/4">
<h4 class=footer-heading>NestJS</h4>
<ul class=footer-section-navigation-menu-links>
<li><a href=https://nextjsvietnam.com/post/nestjs-passing-data-between-layers-in-ddd/>Nestjs Passing Data Between Layers in Domain Driven Design</a></li>
<li><a href=https://nextjsvietnam.com/post/khoa-hoc-nestjs-bai-06-viet-unit-test/>Khóa học NestJS - Bài 06 Hướng dẫn viết Unit Test</a></li>
<li><a href=https://nextjsvietnam.com/post/khoa-hoc-nestjs-bai-05-repository-pattern/>Khóa học NestJS Bài 05 - Repository Pattern</a></li>
<li><a href=https://nextjsvietnam.com/post/khoa-hoc-nestjs-bai-04-model-and-repository-pattern/>Khóa học NestJS Bài 04 - Model and Repository Pattern</a></li>
<li><a href=https://nextjsvietnam.com/post/khoa-hoc-nestjs-bai03/>Khóa học NestJS Bài 03 - Controllers & Views</a></li>
</ul>
</div>
<div class="footer-section-navigation-menu md:basis-1/4">
<h4 class=footer-heading>NextJS</h4>
<ul class=footer-section-navigation-menu-links>
<li><a href=https://nextjsvietnam.com/post/create-new-website-with-nextjs/>Create New Website With Nextjs</a></li>
<li><a href=https://nextjsvietnam.com/post/khoa-hoc-nextjs/>Khóa học NextJS - Bài 01 - Lộ trình các bài học về NextJS</a></li>
</ul>
</div>
<div class="footer-section-navigation-menu md:basis-1/4">
<h4 class=footer-heading>Cheatsheet</h4>
<ul class=footer-section-navigation-menu-links>
<li><a href=https://nextjsvietnam.com/post/flexbox-and-real-world-examples/>Flexbox and Real World Examples</a></li>
<li><a href=https://nextjsvietnam.com/post/react-native-examples-setup-working-place-for-react-native-developer/>[React Native Examples] Setup Working Place for React Native Developer</a></li>
<li><a href=https://nextjsvietnam.com/post/happy-new-year-2024/>Happy New Year 2024</a></li>
<li><a href=https://nextjsvietnam.com/post/developer-philosophy/>Developer Philosophy</a></li>
<li><a href=https://nextjsvietnam.com/post/test-driven-development-for-beginner/>Test Driven Development for Beginner</a></li>
</ul>
</div>
</div>
<div class=container>
<div class=text-center>
<a href><span class="material-icons text-4xl m-4">facebook</span></a>
<a href><span class="material-icons text-4xl m-4">smart_display</span></a>
</div>
<div class="text-center text-lg py-4">
Copyright @ NextJSVietNam 2022
</div>
<div class="text-center text-sm">
Powered by <a class="font-bold text-primary" href=https://gohugo.io/>Go Hugo</a> - Made
with love from <a class="font-bold text-primary" href=https://nextjsvietnam.com>NextJSVietNam</a> -
Build
Version 2024-05-02 09:04:38 +0700 +0700
</div>
</div>
</footer>
<script type=text/javascript src=https://nextjsvietnam.com/core/jquery-3.6.0.min.js></script>
<script type=text/javascript src=https://nextjsvietnam.com/themes/2022/public/main.js></script>
<script type=text/javascript src=https://nextjsvietnam.com/themes/2022/public/home.js></script>
<script async>!function(b,e,f,g,a,c,d){if(b.fbq)return;a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version='2.0',a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d)}(window,document,'script','https://connect.facebook.net/en_US/fbevents.js'),fbq('init','1760611910980690'),fbq('track','PageView')</script>
<noscript><img height=1 width=1 style=display:none src="https://www.facebook.com/tr?id=1760611910980690&ev=PageView&noscript=1"></noscript>
</body>
</html>